function oN(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var na=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function w0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var aN={exports:{}},_0={},lN={exports:{}},He={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ch=Symbol.for("react.element"),tD=Symbol.for("react.portal"),rD=Symbol.for("react.fragment"),nD=Symbol.for("react.strict_mode"),sD=Symbol.for("react.profiler"),iD=Symbol.for("react.provider"),oD=Symbol.for("react.context"),aD=Symbol.for("react.forward_ref"),lD=Symbol.for("react.suspense"),cD=Symbol.for("react.memo"),uD=Symbol.for("react.lazy"),gS=Symbol.iterator;function dD(t){return t===null||typeof t!="object"?null:(t=gS&&t[gS]||t["@@iterator"],typeof t=="function"?t:null)}var cN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},uN=Object.assign,dN={};function Mu(t,e,r){this.props=t,this.context=e,this.refs=dN,this.updater=r||cN}Mu.prototype.isReactComponent={};Mu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Mu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function fN(){}fN.prototype=Mu.prototype;function Z1(t,e,r){this.props=t,this.context=e,this.refs=dN,this.updater=r||cN}var ew=Z1.prototype=new fN;ew.constructor=Z1;uN(ew,Mu.prototype);ew.isPureReactComponent=!0;var yS=Array.isArray,hN=Object.prototype.hasOwnProperty,tw={current:null},pN={key:!0,ref:!0,__self:!0,__source:!0};function mN(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)hN.call(e,n)&&!pN.hasOwnProperty(n)&&(s[n]=e[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:Ch,type:t,key:i,ref:o,props:s,_owner:tw.current}}function fD(t,e){return{$$typeof:Ch,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function rw(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ch}function hD(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var vS=/\/+/g;function uv(t,e){return typeof t=="object"&&t!==null&&t.key!=null?hD(""+t.key):e.toString(36)}function fm(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ch:case tD:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+uv(o,0):n,yS(s)?(r="",t!=null&&(r=t.replace(vS,"$&/")+"/"),fm(s,e,r,"",function(u){return u})):s!=null&&(rw(s)&&(s=fD(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(vS,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",yS(t))for(var a=0;a<t.length;a++){i=t[a];var c=n+uv(i,a);o+=fm(i,e,r,c,s)}else if(c=dD(t),typeof c=="function")for(t=c.call(t),a=0;!(i=t.next()).done;)i=i.value,c=n+uv(i,a++),o+=fm(i,e,r,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Sp(t,e,r){if(t==null)return t;var n=[],s=0;return fm(t,n,"","",function(i){return e.call(r,i,s++)}),n}function pD(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var fn={current:null},hm={transition:null},mD={ReactCurrentDispatcher:fn,ReactCurrentBatchConfig:hm,ReactCurrentOwner:tw};function gN(){throw Error("act(...) is not supported in production builds of React.")}He.Children={map:Sp,forEach:function(t,e,r){Sp(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Sp(t,function(){e++}),e},toArray:function(t){return Sp(t,function(e){return e})||[]},only:function(t){if(!rw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};He.Component=Mu;He.Fragment=rD;He.Profiler=sD;He.PureComponent=Z1;He.StrictMode=nD;He.Suspense=lD;He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mD;He.act=gN;He.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=uN({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=tw.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)hN.call(e,c)&&!pN.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:Ch,type:t.type,key:s,ref:i,props:n,_owner:o}};He.createContext=function(t){return t={$$typeof:oD,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:iD,_context:t},t.Consumer=t};He.createElement=mN;He.createFactory=function(t){var e=mN.bind(null,t);return e.type=t,e};He.createRef=function(){return{current:null}};He.forwardRef=function(t){return{$$typeof:aD,render:t}};He.isValidElement=rw;He.lazy=function(t){return{$$typeof:uD,_payload:{_status:-1,_result:t},_init:pD}};He.memo=function(t,e){return{$$typeof:cD,type:t,compare:e===void 0?null:e}};He.startTransition=function(t){var e=hm.transition;hm.transition={};try{t()}finally{hm.transition=e}};He.unstable_act=gN;He.useCallback=function(t,e){return fn.current.useCallback(t,e)};He.useContext=function(t){return fn.current.useContext(t)};He.useDebugValue=function(){};He.useDeferredValue=function(t){return fn.current.useDeferredValue(t)};He.useEffect=function(t,e){return fn.current.useEffect(t,e)};He.useId=function(){return fn.current.useId()};He.useImperativeHandle=function(t,e,r){return fn.current.useImperativeHandle(t,e,r)};He.useInsertionEffect=function(t,e){return fn.current.useInsertionEffect(t,e)};He.useLayoutEffect=function(t,e){return fn.current.useLayoutEffect(t,e)};He.useMemo=function(t,e){return fn.current.useMemo(t,e)};He.useReducer=function(t,e,r){return fn.current.useReducer(t,e,r)};He.useRef=function(t){return fn.current.useRef(t)};He.useState=function(t){return fn.current.useState(t)};He.useSyncExternalStore=function(t,e,r){return fn.current.useSyncExternalStore(t,e,r)};He.useTransition=function(){return fn.current.useTransition()};He.version="18.3.1";lN.exports=He;var T=lN.exports;const Ve=w0(T),jb=oN({__proto__:null,default:Ve},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gD=T,yD=Symbol.for("react.element"),vD=Symbol.for("react.fragment"),bD=Object.prototype.hasOwnProperty,xD=gD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,wD={key:!0,ref:!0,__self:!0,__source:!0};function yN(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)bD.call(e,n)&&!wD.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:yD,type:t,key:i,ref:o,props:s,_owner:xD.current}}_0.Fragment=vD;_0.jsx=yN;_0.jsxs=yN;aN.exports=_0;var l=aN.exports,Rb={},vN={exports:{}},Zn={},bN={exports:{}},xN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,Z){var re=U.length;U.push(Z);e:for(;0<re;){var me=re-1>>>1,ae=U[me];if(0<s(ae,Z))U[me]=Z,U[re]=ae,re=me;else break e}}function r(U){return U.length===0?null:U[0]}function n(U){if(U.length===0)return null;var Z=U[0],re=U.pop();if(re!==Z){U[0]=re;e:for(var me=0,ae=U.length,J=ae>>>1;me<J;){var X=2*(me+1)-1,ee=U[X],we=X+1,Le=U[we];if(0>s(ee,re))we<ae&&0>s(Le,ee)?(U[me]=Le,U[we]=re,me=we):(U[me]=ee,U[X]=re,me=X);else if(we<ae&&0>s(Le,re))U[me]=Le,U[we]=re,me=we;else break e}}return Z}function s(U,Z){var re=U.sortIndex-Z.sortIndex;return re!==0?re:U.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],u=[],d=1,h=null,p=3,m=!1,v=!1,b=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(U){for(var Z=r(u);Z!==null;){if(Z.callback===null)n(u);else if(Z.startTime<=U)n(u),Z.sortIndex=Z.expirationTime,e(c,Z);else break;Z=r(u)}}function I(U){if(b=!1,w(U),!v)if(r(c)!==null)v=!0,B(P);else{var Z=r(u);Z!==null&&G(I,Z.startTime-U)}}function P(U,Z){v=!1,b&&(b=!1,x(E),E=-1),m=!0;var re=p;try{for(w(Z),h=r(c);h!==null&&(!(h.expirationTime>Z)||U&&!j());){var me=h.callback;if(typeof me=="function"){h.callback=null,p=h.priorityLevel;var ae=me(h.expirationTime<=Z);Z=t.unstable_now(),typeof ae=="function"?h.callback=ae:h===r(c)&&n(c),w(Z)}else n(c);h=r(c)}if(h!==null)var J=!0;else{var X=r(u);X!==null&&G(I,X.startTime-Z),J=!1}return J}finally{h=null,p=re,m=!1}}var A=!1,S=null,E=-1,C=5,k=-1;function j(){return!(t.unstable_now()-k<C)}function O(){if(S!==null){var U=t.unstable_now();k=U;var Z=!0;try{Z=S(!0,U)}finally{Z?D():(A=!1,S=null)}}else A=!1}var D;if(typeof g=="function")D=function(){g(O)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,V=ue.port2;ue.port1.onmessage=O,D=function(){V.postMessage(null)}}else D=function(){y(O,0)};function B(U){S=U,A||(A=!0,D())}function G(U,Z){E=y(function(){U(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,B(P))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(U){switch(p){case 1:case 2:case 3:var Z=3;break;default:Z=p}var re=p;p=Z;try{return U()}finally{p=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,Z){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var re=p;p=U;try{return Z()}finally{p=re}},t.unstable_scheduleCallback=function(U,Z,re){var me=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?me+re:me):re=me,U){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=re+ae,U={id:d++,callback:Z,priorityLevel:U,startTime:re,expirationTime:ae,sortIndex:-1},re>me?(U.sortIndex=re,e(u,U),r(c)===null&&U===r(u)&&(b?(x(E),E=-1):b=!0,G(I,re-me))):(U.sortIndex=ae,e(c,U),v||m||(v=!0,B(P))),U},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(U){var Z=p;return function(){var re=p;p=Z;try{return U.apply(this,arguments)}finally{p=re}}}})(xN);bN.exports=xN;var _D=bN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SD=T,Xn=_D;function ie(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var wN=new Set,Nf={};function Ul(t,e){cu(t,e),cu(t+"Capture",e)}function cu(t,e){for(Nf[t]=e,t=0;t<e.length;t++)wN.add(e[t])}var uo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Db=Object.prototype.hasOwnProperty,ED=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,bS={},xS={};function TD(t){return Db.call(xS,t)?!0:Db.call(bS,t)?!1:ED.test(t)?xS[t]=!0:(bS[t]=!0,!1)}function CD(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function kD(t,e,r,n){if(e===null||typeof e>"u"||CD(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function hn(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Dr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Dr[t]=new hn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Dr[e]=new hn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Dr[t]=new hn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Dr[t]=new hn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Dr[t]=new hn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Dr[t]=new hn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Dr[t]=new hn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Dr[t]=new hn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Dr[t]=new hn(t,5,!1,t.toLowerCase(),null,!1,!1)});var nw=/[\-:]([a-z])/g;function sw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(nw,sw);Dr[e]=new hn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(nw,sw);Dr[e]=new hn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(nw,sw);Dr[e]=new hn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Dr[t]=new hn(t,1,!1,t.toLowerCase(),null,!1,!1)});Dr.xlinkHref=new hn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Dr[t]=new hn(t,1,!1,t.toLowerCase(),null,!0,!0)});function iw(t,e,r,n){var s=Dr.hasOwnProperty(e)?Dr[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(kD(e,r,s,n)&&(r=null),n||s===null?TD(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var To=SD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ep=Symbol.for("react.element"),bc=Symbol.for("react.portal"),xc=Symbol.for("react.fragment"),ow=Symbol.for("react.strict_mode"),Ob=Symbol.for("react.profiler"),_N=Symbol.for("react.provider"),SN=Symbol.for("react.context"),aw=Symbol.for("react.forward_ref"),Mb=Symbol.for("react.suspense"),Lb=Symbol.for("react.suspense_list"),lw=Symbol.for("react.memo"),Wo=Symbol.for("react.lazy"),EN=Symbol.for("react.offscreen"),wS=Symbol.iterator;function ad(t){return t===null||typeof t!="object"?null:(t=wS&&t[wS]||t["@@iterator"],typeof t=="function"?t:null)}var zt=Object.assign,dv;function kd(t){if(dv===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);dv=e&&e[1]||""}return`
`+dv+t}var fv=!1;function hv(t,e){if(!t||fv)return"";fv=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{fv=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?kd(t):""}function ND(t){switch(t.tag){case 5:return kd(t.type);case 16:return kd("Lazy");case 13:return kd("Suspense");case 19:return kd("SuspenseList");case 0:case 2:case 15:return t=hv(t.type,!1),t;case 11:return t=hv(t.type.render,!1),t;case 1:return t=hv(t.type,!0),t;default:return""}}function Fb(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case xc:return"Fragment";case bc:return"Portal";case Ob:return"Profiler";case ow:return"StrictMode";case Mb:return"Suspense";case Lb:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case SN:return(t.displayName||"Context")+".Consumer";case _N:return(t._context.displayName||"Context")+".Provider";case aw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case lw:return e=t.displayName||null,e!==null?e:Fb(t.type)||"Memo";case Wo:e=t._payload,t=t._init;try{return Fb(t(e))}catch{}}return null}function ID(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fb(e);case 8:return e===ow?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Sa(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function TN(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function PD(t){var e=TN(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Tp(t){t._valueTracker||(t._valueTracker=PD(t))}function CN(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=TN(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function sg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Vb(t,e){var r=e.checked;return zt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function _S(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Sa(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function kN(t,e){e=e.checked,e!=null&&iw(t,"checked",e,!1)}function $b(t,e){kN(t,e);var r=Sa(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Bb(t,e.type,r):e.hasOwnProperty("defaultValue")&&Bb(t,e.type,Sa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function SS(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Bb(t,e,r){(e!=="number"||sg(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Nd=Array.isArray;function Bc(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Sa(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function zb(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ie(91));return zt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ES(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(ie(92));if(Nd(r)){if(1<r.length)throw Error(ie(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Sa(r)}}function NN(t,e){var r=Sa(e.value),n=Sa(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function TS(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function IN(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ub(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?IN(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Cp,PN=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Cp=Cp||document.createElement("div"),Cp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Cp.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function If(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Wd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},AD=["Webkit","ms","Moz","O"];Object.keys(Wd).forEach(function(t){AD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Wd[e]=Wd[t]})});function AN(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Wd.hasOwnProperty(t)&&Wd[t]?(""+e).trim():e+"px"}function jN(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=AN(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var jD=zt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hb(t,e){if(e){if(jD[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ie(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ie(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ie(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ie(62))}}function Wb(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qb=null;function cw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Gb=null,zc=null,Uc=null;function CS(t){if(t=Ih(t)){if(typeof Gb!="function")throw Error(ie(280));var e=t.stateNode;e&&(e=k0(e),Gb(t.stateNode,t.type,e))}}function RN(t){zc?Uc?Uc.push(t):Uc=[t]:zc=t}function DN(){if(zc){var t=zc,e=Uc;if(Uc=zc=null,CS(t),e)for(t=0;t<e.length;t++)CS(e[t])}}function ON(t,e){return t(e)}function MN(){}var pv=!1;function LN(t,e,r){if(pv)return t(e,r);pv=!0;try{return ON(t,e,r)}finally{pv=!1,(zc!==null||Uc!==null)&&(MN(),DN())}}function Pf(t,e){var r=t.stateNode;if(r===null)return null;var n=k0(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(ie(231,e,typeof r));return r}var Kb=!1;if(uo)try{var ld={};Object.defineProperty(ld,"passive",{get:function(){Kb=!0}}),window.addEventListener("test",ld,ld),window.removeEventListener("test",ld,ld)}catch{Kb=!1}function RD(t,e,r,n,s,i,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var qd=!1,ig=null,og=!1,Qb=null,DD={onError:function(t){qd=!0,ig=t}};function OD(t,e,r,n,s,i,o,a,c){qd=!1,ig=null,RD.apply(DD,arguments)}function MD(t,e,r,n,s,i,o,a,c){if(OD.apply(this,arguments),qd){if(qd){var u=ig;qd=!1,ig=null}else throw Error(ie(198));og||(og=!0,Qb=u)}}function Hl(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function FN(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function kS(t){if(Hl(t)!==t)throw Error(ie(188))}function LD(t){var e=t.alternate;if(!e){if(e=Hl(t),e===null)throw Error(ie(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return kS(s),t;if(i===n)return kS(s),e;i=i.sibling}throw Error(ie(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(ie(189))}}if(r.alternate!==n)throw Error(ie(190))}if(r.tag!==3)throw Error(ie(188));return r.stateNode.current===r?t:e}function VN(t){return t=LD(t),t!==null?$N(t):null}function $N(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=$N(t);if(e!==null)return e;t=t.sibling}return null}var BN=Xn.unstable_scheduleCallback,NS=Xn.unstable_cancelCallback,FD=Xn.unstable_shouldYield,VD=Xn.unstable_requestPaint,Xt=Xn.unstable_now,$D=Xn.unstable_getCurrentPriorityLevel,uw=Xn.unstable_ImmediatePriority,zN=Xn.unstable_UserBlockingPriority,ag=Xn.unstable_NormalPriority,BD=Xn.unstable_LowPriority,UN=Xn.unstable_IdlePriority,S0=null,gi=null;function zD(t){if(gi&&typeof gi.onCommitFiberRoot=="function")try{gi.onCommitFiberRoot(S0,t,void 0,(t.current.flags&128)===128)}catch{}}var $s=Math.clz32?Math.clz32:WD,UD=Math.log,HD=Math.LN2;function WD(t){return t>>>=0,t===0?32:31-(UD(t)/HD|0)|0}var kp=64,Np=4194304;function Id(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function lg(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=Id(a):(i&=o,i!==0&&(n=Id(i)))}else o=r&~s,o!==0?n=Id(o):i!==0&&(n=Id(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-$s(e),s=1<<r,n|=t[r],e&=~s;return n}function qD(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function GD(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-$s(i),a=1<<o,c=s[o];c===-1?(!(a&r)||a&n)&&(s[o]=qD(a,e)):c<=e&&(t.expiredLanes|=a),i&=~a}}function Yb(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function HN(){var t=kp;return kp<<=1,!(kp&4194240)&&(kp=64),t}function mv(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function kh(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-$s(e),t[e]=r}function KD(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-$s(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function dw(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-$s(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var ft=0;function WN(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var qN,fw,GN,KN,QN,Xb=!1,Ip=[],da=null,fa=null,ha=null,Af=new Map,jf=new Map,Yo=[],QD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function IS(t,e){switch(t){case"focusin":case"focusout":da=null;break;case"dragenter":case"dragleave":fa=null;break;case"mouseover":case"mouseout":ha=null;break;case"pointerover":case"pointerout":Af.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":jf.delete(e.pointerId)}}function cd(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Ih(e),e!==null&&fw(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function YD(t,e,r,n,s){switch(e){case"focusin":return da=cd(da,t,e,r,n,s),!0;case"dragenter":return fa=cd(fa,t,e,r,n,s),!0;case"mouseover":return ha=cd(ha,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return Af.set(i,cd(Af.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,jf.set(i,cd(jf.get(i)||null,t,e,r,n,s)),!0}return!1}function YN(t){var e=il(t.target);if(e!==null){var r=Hl(e);if(r!==null){if(e=r.tag,e===13){if(e=FN(r),e!==null){t.blockedOn=e,QN(t.priority,function(){GN(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function pm(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Jb(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);qb=n,r.target.dispatchEvent(n),qb=null}else return e=Ih(r),e!==null&&fw(e),t.blockedOn=r,!1;e.shift()}return!0}function PS(t,e,r){pm(t)&&r.delete(e)}function XD(){Xb=!1,da!==null&&pm(da)&&(da=null),fa!==null&&pm(fa)&&(fa=null),ha!==null&&pm(ha)&&(ha=null),Af.forEach(PS),jf.forEach(PS)}function ud(t,e){t.blockedOn===e&&(t.blockedOn=null,Xb||(Xb=!0,Xn.unstable_scheduleCallback(Xn.unstable_NormalPriority,XD)))}function Rf(t){function e(s){return ud(s,t)}if(0<Ip.length){ud(Ip[0],t);for(var r=1;r<Ip.length;r++){var n=Ip[r];n.blockedOn===t&&(n.blockedOn=null)}}for(da!==null&&ud(da,t),fa!==null&&ud(fa,t),ha!==null&&ud(ha,t),Af.forEach(e),jf.forEach(e),r=0;r<Yo.length;r++)n=Yo[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Yo.length&&(r=Yo[0],r.blockedOn===null);)YN(r),r.blockedOn===null&&Yo.shift()}var Hc=To.ReactCurrentBatchConfig,cg=!0;function JD(t,e,r,n){var s=ft,i=Hc.transition;Hc.transition=null;try{ft=1,hw(t,e,r,n)}finally{ft=s,Hc.transition=i}}function ZD(t,e,r,n){var s=ft,i=Hc.transition;Hc.transition=null;try{ft=4,hw(t,e,r,n)}finally{ft=s,Hc.transition=i}}function hw(t,e,r,n){if(cg){var s=Jb(t,e,r,n);if(s===null)Tv(t,e,n,ug,r),IS(t,n);else if(YD(s,t,e,r,n))n.stopPropagation();else if(IS(t,n),e&4&&-1<QD.indexOf(t)){for(;s!==null;){var i=Ih(s);if(i!==null&&qN(i),i=Jb(t,e,r,n),i===null&&Tv(t,e,n,ug,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Tv(t,e,n,null,r)}}var ug=null;function Jb(t,e,r,n){if(ug=null,t=cw(n),t=il(t),t!==null)if(e=Hl(t),e===null)t=null;else if(r=e.tag,r===13){if(t=FN(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ug=t,null}function XN(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($D()){case uw:return 1;case zN:return 4;case ag:case BD:return 16;case UN:return 536870912;default:return 16}default:return 16}}var sa=null,pw=null,mm=null;function JN(){if(mm)return mm;var t,e=pw,r=e.length,n,s="value"in sa?sa.value:sa.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return mm=s.slice(t,1<n?1-n:void 0)}function gm(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Pp(){return!0}function AS(){return!1}function es(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Pp:AS,this.isPropagationStopped=AS,this}return zt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Pp)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Pp)},persist:function(){},isPersistent:Pp}),e}var Lu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mw=es(Lu),Nh=zt({},Lu,{view:0,detail:0}),eO=es(Nh),gv,yv,dd,E0=zt({},Nh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==dd&&(dd&&t.type==="mousemove"?(gv=t.screenX-dd.screenX,yv=t.screenY-dd.screenY):yv=gv=0,dd=t),gv)},movementY:function(t){return"movementY"in t?t.movementY:yv}}),jS=es(E0),tO=zt({},E0,{dataTransfer:0}),rO=es(tO),nO=zt({},Nh,{relatedTarget:0}),vv=es(nO),sO=zt({},Lu,{animationName:0,elapsedTime:0,pseudoElement:0}),iO=es(sO),oO=zt({},Lu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),aO=es(oO),lO=zt({},Lu,{data:0}),RS=es(lO),cO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fO(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=dO[t])?!!e[t]:!1}function gw(){return fO}var hO=zt({},Nh,{key:function(t){if(t.key){var e=cO[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=gm(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?uO[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gw,charCode:function(t){return t.type==="keypress"?gm(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?gm(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),pO=es(hO),mO=zt({},E0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),DS=es(mO),gO=zt({},Nh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gw}),yO=es(gO),vO=zt({},Lu,{propertyName:0,elapsedTime:0,pseudoElement:0}),bO=es(vO),xO=zt({},E0,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),wO=es(xO),_O=[9,13,27,32],yw=uo&&"CompositionEvent"in window,Gd=null;uo&&"documentMode"in document&&(Gd=document.documentMode);var SO=uo&&"TextEvent"in window&&!Gd,ZN=uo&&(!yw||Gd&&8<Gd&&11>=Gd),OS=" ",MS=!1;function eI(t,e){switch(t){case"keyup":return _O.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tI(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wc=!1;function EO(t,e){switch(t){case"compositionend":return tI(e);case"keypress":return e.which!==32?null:(MS=!0,OS);case"textInput":return t=e.data,t===OS&&MS?null:t;default:return null}}function TO(t,e){if(wc)return t==="compositionend"||!yw&&eI(t,e)?(t=JN(),mm=pw=sa=null,wc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ZN&&e.locale!=="ko"?null:e.data;default:return null}}var CO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function LS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!CO[t.type]:e==="textarea"}function rI(t,e,r,n){RN(n),e=dg(e,"onChange"),0<e.length&&(r=new mw("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Kd=null,Df=null;function kO(t){hI(t,0)}function T0(t){var e=Ec(t);if(CN(e))return t}function NO(t,e){if(t==="change")return e}var nI=!1;if(uo){var bv;if(uo){var xv="oninput"in document;if(!xv){var FS=document.createElement("div");FS.setAttribute("oninput","return;"),xv=typeof FS.oninput=="function"}bv=xv}else bv=!1;nI=bv&&(!document.documentMode||9<document.documentMode)}function VS(){Kd&&(Kd.detachEvent("onpropertychange",sI),Df=Kd=null)}function sI(t){if(t.propertyName==="value"&&T0(Df)){var e=[];rI(e,Df,t,cw(t)),LN(kO,e)}}function IO(t,e,r){t==="focusin"?(VS(),Kd=e,Df=r,Kd.attachEvent("onpropertychange",sI)):t==="focusout"&&VS()}function PO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return T0(Df)}function AO(t,e){if(t==="click")return T0(e)}function jO(t,e){if(t==="input"||t==="change")return T0(e)}function RO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Hs=typeof Object.is=="function"?Object.is:RO;function Of(t,e){if(Hs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Db.call(e,s)||!Hs(t[s],e[s]))return!1}return!0}function $S(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function BS(t,e){var r=$S(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=$S(r)}}function iI(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?iI(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function oI(){for(var t=window,e=sg();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=sg(t.document)}return e}function vw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function DO(t){var e=oI(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&iI(r.ownerDocument.documentElement,r)){if(n!==null&&vw(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=BS(r,i);var o=BS(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var OO=uo&&"documentMode"in document&&11>=document.documentMode,_c=null,Zb=null,Qd=null,ex=!1;function zS(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ex||_c==null||_c!==sg(n)||(n=_c,"selectionStart"in n&&vw(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Qd&&Of(Qd,n)||(Qd=n,n=dg(Zb,"onSelect"),0<n.length&&(e=new mw("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=_c)))}function Ap(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Sc={animationend:Ap("Animation","AnimationEnd"),animationiteration:Ap("Animation","AnimationIteration"),animationstart:Ap("Animation","AnimationStart"),transitionend:Ap("Transition","TransitionEnd")},wv={},aI={};uo&&(aI=document.createElement("div").style,"AnimationEvent"in window||(delete Sc.animationend.animation,delete Sc.animationiteration.animation,delete Sc.animationstart.animation),"TransitionEvent"in window||delete Sc.transitionend.transition);function C0(t){if(wv[t])return wv[t];if(!Sc[t])return t;var e=Sc[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in aI)return wv[t]=e[r];return t}var lI=C0("animationend"),cI=C0("animationiteration"),uI=C0("animationstart"),dI=C0("transitionend"),fI=new Map,US="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pa(t,e){fI.set(t,e),Ul(e,[t])}for(var _v=0;_v<US.length;_v++){var Sv=US[_v],MO=Sv.toLowerCase(),LO=Sv[0].toUpperCase()+Sv.slice(1);Pa(MO,"on"+LO)}Pa(lI,"onAnimationEnd");Pa(cI,"onAnimationIteration");Pa(uI,"onAnimationStart");Pa("dblclick","onDoubleClick");Pa("focusin","onFocus");Pa("focusout","onBlur");Pa(dI,"onTransitionEnd");cu("onMouseEnter",["mouseout","mouseover"]);cu("onMouseLeave",["mouseout","mouseover"]);cu("onPointerEnter",["pointerout","pointerover"]);cu("onPointerLeave",["pointerout","pointerover"]);Ul("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ul("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ul("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ul("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ul("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ul("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FO=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pd));function HS(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,MD(n,e,void 0,t),t.currentTarget=null}function hI(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;HS(s,a,u),i=c}else for(o=0;o<n.length;o++){if(a=n[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;HS(s,a,u),i=c}}}if(og)throw t=Qb,og=!1,Qb=null,t}function It(t,e){var r=e[ix];r===void 0&&(r=e[ix]=new Set);var n=t+"__bubble";r.has(n)||(pI(e,t,2,!1),r.add(n))}function Ev(t,e,r){var n=0;e&&(n|=4),pI(r,t,n,e)}var jp="_reactListening"+Math.random().toString(36).slice(2);function Mf(t){if(!t[jp]){t[jp]=!0,wN.forEach(function(r){r!=="selectionchange"&&(FO.has(r)||Ev(r,!1,t),Ev(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[jp]||(e[jp]=!0,Ev("selectionchange",!1,e))}}function pI(t,e,r,n){switch(XN(e)){case 1:var s=JD;break;case 4:s=ZD;break;default:s=hw}r=s.bind(null,e,r,t),s=void 0,!Kb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function Tv(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=il(a),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}a=a.parentNode}}n=n.return}LN(function(){var u=i,d=cw(r),h=[];e:{var p=fI.get(t);if(p!==void 0){var m=mw,v=t;switch(t){case"keypress":if(gm(r)===0)break e;case"keydown":case"keyup":m=pO;break;case"focusin":v="focus",m=vv;break;case"focusout":v="blur",m=vv;break;case"beforeblur":case"afterblur":m=vv;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=jS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=rO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=yO;break;case lI:case cI:case uI:m=iO;break;case dI:m=bO;break;case"scroll":m=eO;break;case"wheel":m=wO;break;case"copy":case"cut":case"paste":m=aO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=DS}var b=(e&4)!==0,y=!b&&t==="scroll",x=b?p!==null?p+"Capture":null:p;b=[];for(var g=u,w;g!==null;){w=g;var I=w.stateNode;if(w.tag===5&&I!==null&&(w=I,x!==null&&(I=Pf(g,x),I!=null&&b.push(Lf(g,I,w)))),y)break;g=g.return}0<b.length&&(p=new m(p,v,null,r,d),h.push({event:p,listeners:b}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&r!==qb&&(v=r.relatedTarget||r.fromElement)&&(il(v)||v[fo]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=r.relatedTarget||r.toElement,m=u,v=v?il(v):null,v!==null&&(y=Hl(v),v!==y||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(b=jS,I="onMouseLeave",x="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(b=DS,I="onPointerLeave",x="onPointerEnter",g="pointer"),y=m==null?p:Ec(m),w=v==null?p:Ec(v),p=new b(I,g+"leave",m,r,d),p.target=y,p.relatedTarget=w,I=null,il(d)===u&&(b=new b(x,g+"enter",v,r,d),b.target=w,b.relatedTarget=y,I=b),y=I,m&&v)t:{for(b=m,x=v,g=0,w=b;w;w=lc(w))g++;for(w=0,I=x;I;I=lc(I))w++;for(;0<g-w;)b=lc(b),g--;for(;0<w-g;)x=lc(x),w--;for(;g--;){if(b===x||x!==null&&b===x.alternate)break t;b=lc(b),x=lc(x)}b=null}else b=null;m!==null&&WS(h,p,m,b,!1),v!==null&&y!==null&&WS(h,y,v,b,!0)}}e:{if(p=u?Ec(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var P=NO;else if(LS(p))if(nI)P=jO;else{P=PO;var A=IO}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(P=AO);if(P&&(P=P(t,u))){rI(h,P,r,d);break e}A&&A(t,p,u),t==="focusout"&&(A=p._wrapperState)&&A.controlled&&p.type==="number"&&Bb(p,"number",p.value)}switch(A=u?Ec(u):window,t){case"focusin":(LS(A)||A.contentEditable==="true")&&(_c=A,Zb=u,Qd=null);break;case"focusout":Qd=Zb=_c=null;break;case"mousedown":ex=!0;break;case"contextmenu":case"mouseup":case"dragend":ex=!1,zS(h,r,d);break;case"selectionchange":if(OO)break;case"keydown":case"keyup":zS(h,r,d)}var S;if(yw)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else wc?eI(t,r)&&(E="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(ZN&&r.locale!=="ko"&&(wc||E!=="onCompositionStart"?E==="onCompositionEnd"&&wc&&(S=JN()):(sa=d,pw="value"in sa?sa.value:sa.textContent,wc=!0)),A=dg(u,E),0<A.length&&(E=new RS(E,t,null,r,d),h.push({event:E,listeners:A}),S?E.data=S:(S=tI(r),S!==null&&(E.data=S)))),(S=SO?EO(t,r):TO(t,r))&&(u=dg(u,"onBeforeInput"),0<u.length&&(d=new RS("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=S))}hI(h,e)})}function Lf(t,e,r){return{instance:t,listener:e,currentTarget:r}}function dg(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Pf(t,r),i!=null&&n.unshift(Lf(t,i,s)),i=Pf(t,e),i!=null&&n.push(Lf(t,i,s))),t=t.return}return n}function lc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function WS(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var a=r,c=a.alternate,u=a.stateNode;if(c!==null&&c===n)break;a.tag===5&&u!==null&&(a=u,s?(c=Pf(r,i),c!=null&&o.unshift(Lf(r,c,a))):s||(c=Pf(r,i),c!=null&&o.push(Lf(r,c,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var VO=/\r\n?/g,$O=/\u0000|\uFFFD/g;function qS(t){return(typeof t=="string"?t:""+t).replace(VO,`
`).replace($O,"")}function Rp(t,e,r){if(e=qS(e),qS(t)!==e&&r)throw Error(ie(425))}function fg(){}var tx=null,rx=null;function nx(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var sx=typeof setTimeout=="function"?setTimeout:void 0,BO=typeof clearTimeout=="function"?clearTimeout:void 0,GS=typeof Promise=="function"?Promise:void 0,zO=typeof queueMicrotask=="function"?queueMicrotask:typeof GS<"u"?function(t){return GS.resolve(null).then(t).catch(UO)}:sx;function UO(t){setTimeout(function(){throw t})}function Cv(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),Rf(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Rf(e)}function pa(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function KS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Fu=Math.random().toString(36).slice(2),di="__reactFiber$"+Fu,Ff="__reactProps$"+Fu,fo="__reactContainer$"+Fu,ix="__reactEvents$"+Fu,HO="__reactListeners$"+Fu,WO="__reactHandles$"+Fu;function il(t){var e=t[di];if(e)return e;for(var r=t.parentNode;r;){if(e=r[fo]||r[di]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=KS(t);t!==null;){if(r=t[di])return r;t=KS(t)}return e}t=r,r=t.parentNode}return null}function Ih(t){return t=t[di]||t[fo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ec(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ie(33))}function k0(t){return t[Ff]||null}var ox=[],Tc=-1;function Aa(t){return{current:t}}function jt(t){0>Tc||(t.current=ox[Tc],ox[Tc]=null,Tc--)}function Tt(t,e){Tc++,ox[Tc]=t.current,t.current=e}var Ea={},Jr=Aa(Ea),kn=Aa(!1),Tl=Ea;function uu(t,e){var r=t.type.contextTypes;if(!r)return Ea;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Nn(t){return t=t.childContextTypes,t!=null}function hg(){jt(kn),jt(Jr)}function QS(t,e,r){if(Jr.current!==Ea)throw Error(ie(168));Tt(Jr,e),Tt(kn,r)}function mI(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(ie(108,ID(t)||"Unknown",s));return zt({},r,n)}function pg(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ea,Tl=Jr.current,Tt(Jr,t),Tt(kn,kn.current),!0}function YS(t,e,r){var n=t.stateNode;if(!n)throw Error(ie(169));r?(t=mI(t,e,Tl),n.__reactInternalMemoizedMergedChildContext=t,jt(kn),jt(Jr),Tt(Jr,t)):jt(kn),Tt(kn,r)}var Ki=null,N0=!1,kv=!1;function gI(t){Ki===null?Ki=[t]:Ki.push(t)}function qO(t){N0=!0,gI(t)}function ja(){if(!kv&&Ki!==null){kv=!0;var t=0,e=ft;try{var r=Ki;for(ft=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Ki=null,N0=!1}catch(s){throw Ki!==null&&(Ki=Ki.slice(t+1)),BN(uw,ja),s}finally{ft=e,kv=!1}}return null}var Cc=[],kc=0,mg=null,gg=0,cs=[],us=0,Cl=null,Zi=1,eo="";function Xa(t,e){Cc[kc++]=gg,Cc[kc++]=mg,mg=t,gg=e}function yI(t,e,r){cs[us++]=Zi,cs[us++]=eo,cs[us++]=Cl,Cl=t;var n=Zi;t=eo;var s=32-$s(n)-1;n&=~(1<<s),r+=1;var i=32-$s(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Zi=1<<32-$s(e)+s|r<<s|n,eo=i+t}else Zi=1<<i|r<<s|n,eo=t}function bw(t){t.return!==null&&(Xa(t,1),yI(t,1,0))}function xw(t){for(;t===mg;)mg=Cc[--kc],Cc[kc]=null,gg=Cc[--kc],Cc[kc]=null;for(;t===Cl;)Cl=cs[--us],cs[us]=null,eo=cs[--us],cs[us]=null,Zi=cs[--us],cs[us]=null}var Gn=null,Hn=null,Lt=!1,Fs=null;function vI(t,e){var r=ds(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function XS(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Gn=t,Hn=pa(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Gn=t,Hn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Cl!==null?{id:Zi,overflow:eo}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=ds(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Gn=t,Hn=null,!0):!1;default:return!1}}function ax(t){return(t.mode&1)!==0&&(t.flags&128)===0}function lx(t){if(Lt){var e=Hn;if(e){var r=e;if(!XS(t,e)){if(ax(t))throw Error(ie(418));e=pa(r.nextSibling);var n=Gn;e&&XS(t,e)?vI(n,r):(t.flags=t.flags&-4097|2,Lt=!1,Gn=t)}}else{if(ax(t))throw Error(ie(418));t.flags=t.flags&-4097|2,Lt=!1,Gn=t}}}function JS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Gn=t}function Dp(t){if(t!==Gn)return!1;if(!Lt)return JS(t),Lt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!nx(t.type,t.memoizedProps)),e&&(e=Hn)){if(ax(t))throw bI(),Error(ie(418));for(;e;)vI(t,e),e=pa(e.nextSibling)}if(JS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ie(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Hn=pa(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Hn=null}}else Hn=Gn?pa(t.stateNode.nextSibling):null;return!0}function bI(){for(var t=Hn;t;)t=pa(t.nextSibling)}function du(){Hn=Gn=null,Lt=!1}function ww(t){Fs===null?Fs=[t]:Fs.push(t)}var GO=To.ReactCurrentBatchConfig;function fd(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ie(309));var n=r.stateNode}if(!n)throw Error(ie(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(ie(284));if(!r._owner)throw Error(ie(290,t))}return t}function Op(t,e){throw t=Object.prototype.toString.call(e),Error(ie(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ZS(t){var e=t._init;return e(t._payload)}function xI(t){function e(x,g){if(t){var w=x.deletions;w===null?(x.deletions=[g],x.flags|=16):w.push(g)}}function r(x,g){if(!t)return null;for(;g!==null;)e(x,g),g=g.sibling;return null}function n(x,g){for(x=new Map;g!==null;)g.key!==null?x.set(g.key,g):x.set(g.index,g),g=g.sibling;return x}function s(x,g){return x=va(x,g),x.index=0,x.sibling=null,x}function i(x,g,w){return x.index=w,t?(w=x.alternate,w!==null?(w=w.index,w<g?(x.flags|=2,g):w):(x.flags|=2,g)):(x.flags|=1048576,g)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,g,w,I){return g===null||g.tag!==6?(g=Dv(w,x.mode,I),g.return=x,g):(g=s(g,w),g.return=x,g)}function c(x,g,w,I){var P=w.type;return P===xc?d(x,g,w.props.children,I,w.key):g!==null&&(g.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Wo&&ZS(P)===g.type)?(I=s(g,w.props),I.ref=fd(x,g,w),I.return=x,I):(I=Sm(w.type,w.key,w.props,null,x.mode,I),I.ref=fd(x,g,w),I.return=x,I)}function u(x,g,w,I){return g===null||g.tag!==4||g.stateNode.containerInfo!==w.containerInfo||g.stateNode.implementation!==w.implementation?(g=Ov(w,x.mode,I),g.return=x,g):(g=s(g,w.children||[]),g.return=x,g)}function d(x,g,w,I,P){return g===null||g.tag!==7?(g=gl(w,x.mode,I,P),g.return=x,g):(g=s(g,w),g.return=x,g)}function h(x,g,w){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Dv(""+g,x.mode,w),g.return=x,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ep:return w=Sm(g.type,g.key,g.props,null,x.mode,w),w.ref=fd(x,null,g),w.return=x,w;case bc:return g=Ov(g,x.mode,w),g.return=x,g;case Wo:var I=g._init;return h(x,I(g._payload),w)}if(Nd(g)||ad(g))return g=gl(g,x.mode,w,null),g.return=x,g;Op(x,g)}return null}function p(x,g,w,I){var P=g!==null?g.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return P!==null?null:a(x,g,""+w,I);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ep:return w.key===P?c(x,g,w,I):null;case bc:return w.key===P?u(x,g,w,I):null;case Wo:return P=w._init,p(x,g,P(w._payload),I)}if(Nd(w)||ad(w))return P!==null?null:d(x,g,w,I,null);Op(x,w)}return null}function m(x,g,w,I,P){if(typeof I=="string"&&I!==""||typeof I=="number")return x=x.get(w)||null,a(g,x,""+I,P);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Ep:return x=x.get(I.key===null?w:I.key)||null,c(g,x,I,P);case bc:return x=x.get(I.key===null?w:I.key)||null,u(g,x,I,P);case Wo:var A=I._init;return m(x,g,w,A(I._payload),P)}if(Nd(I)||ad(I))return x=x.get(w)||null,d(g,x,I,P,null);Op(g,I)}return null}function v(x,g,w,I){for(var P=null,A=null,S=g,E=g=0,C=null;S!==null&&E<w.length;E++){S.index>E?(C=S,S=null):C=S.sibling;var k=p(x,S,w[E],I);if(k===null){S===null&&(S=C);break}t&&S&&k.alternate===null&&e(x,S),g=i(k,g,E),A===null?P=k:A.sibling=k,A=k,S=C}if(E===w.length)return r(x,S),Lt&&Xa(x,E),P;if(S===null){for(;E<w.length;E++)S=h(x,w[E],I),S!==null&&(g=i(S,g,E),A===null?P=S:A.sibling=S,A=S);return Lt&&Xa(x,E),P}for(S=n(x,S);E<w.length;E++)C=m(S,x,E,w[E],I),C!==null&&(t&&C.alternate!==null&&S.delete(C.key===null?E:C.key),g=i(C,g,E),A===null?P=C:A.sibling=C,A=C);return t&&S.forEach(function(j){return e(x,j)}),Lt&&Xa(x,E),P}function b(x,g,w,I){var P=ad(w);if(typeof P!="function")throw Error(ie(150));if(w=P.call(w),w==null)throw Error(ie(151));for(var A=P=null,S=g,E=g=0,C=null,k=w.next();S!==null&&!k.done;E++,k=w.next()){S.index>E?(C=S,S=null):C=S.sibling;var j=p(x,S,k.value,I);if(j===null){S===null&&(S=C);break}t&&S&&j.alternate===null&&e(x,S),g=i(j,g,E),A===null?P=j:A.sibling=j,A=j,S=C}if(k.done)return r(x,S),Lt&&Xa(x,E),P;if(S===null){for(;!k.done;E++,k=w.next())k=h(x,k.value,I),k!==null&&(g=i(k,g,E),A===null?P=k:A.sibling=k,A=k);return Lt&&Xa(x,E),P}for(S=n(x,S);!k.done;E++,k=w.next())k=m(S,x,E,k.value,I),k!==null&&(t&&k.alternate!==null&&S.delete(k.key===null?E:k.key),g=i(k,g,E),A===null?P=k:A.sibling=k,A=k);return t&&S.forEach(function(O){return e(x,O)}),Lt&&Xa(x,E),P}function y(x,g,w,I){if(typeof w=="object"&&w!==null&&w.type===xc&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Ep:e:{for(var P=w.key,A=g;A!==null;){if(A.key===P){if(P=w.type,P===xc){if(A.tag===7){r(x,A.sibling),g=s(A,w.props.children),g.return=x,x=g;break e}}else if(A.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Wo&&ZS(P)===A.type){r(x,A.sibling),g=s(A,w.props),g.ref=fd(x,A,w),g.return=x,x=g;break e}r(x,A);break}else e(x,A);A=A.sibling}w.type===xc?(g=gl(w.props.children,x.mode,I,w.key),g.return=x,x=g):(I=Sm(w.type,w.key,w.props,null,x.mode,I),I.ref=fd(x,g,w),I.return=x,x=I)}return o(x);case bc:e:{for(A=w.key;g!==null;){if(g.key===A)if(g.tag===4&&g.stateNode.containerInfo===w.containerInfo&&g.stateNode.implementation===w.implementation){r(x,g.sibling),g=s(g,w.children||[]),g.return=x,x=g;break e}else{r(x,g);break}else e(x,g);g=g.sibling}g=Ov(w,x.mode,I),g.return=x,x=g}return o(x);case Wo:return A=w._init,y(x,g,A(w._payload),I)}if(Nd(w))return v(x,g,w,I);if(ad(w))return b(x,g,w,I);Op(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,g!==null&&g.tag===6?(r(x,g.sibling),g=s(g,w),g.return=x,x=g):(r(x,g),g=Dv(w,x.mode,I),g.return=x,x=g),o(x)):r(x,g)}return y}var fu=xI(!0),wI=xI(!1),yg=Aa(null),vg=null,Nc=null,_w=null;function Sw(){_w=Nc=vg=null}function Ew(t){var e=yg.current;jt(yg),t._currentValue=e}function cx(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Wc(t,e){vg=t,_w=Nc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Cn=!0),t.firstContext=null)}function bs(t){var e=t._currentValue;if(_w!==t)if(t={context:t,memoizedValue:e,next:null},Nc===null){if(vg===null)throw Error(ie(308));Nc=t,vg.dependencies={lanes:0,firstContext:t}}else Nc=Nc.next=t;return e}var ol=null;function Tw(t){ol===null?ol=[t]:ol.push(t)}function _I(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Tw(e)):(r.next=s.next,s.next=r),e.interleaved=r,ho(t,n)}function ho(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var qo=!1;function Cw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function SI(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function io(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ma(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Je&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,ho(t,r)}return s=n.interleaved,s===null?(e.next=e,Tw(n)):(e.next=s.next,s.next=e),n.interleaved=e,ho(t,r)}function ym(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,dw(t,r)}}function eE(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function bg(t,e,r,n){var s=t.updateQueue;qo=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;o=0,d=u=c=null,a=i;do{var p=a.lane,m=a.eventTime;if((n&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,b=a;switch(p=e,m=r,b.tag){case 1:if(v=b.payload,typeof v=="function"){h=v.call(m,h,p);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=b.payload,p=typeof v=="function"?v.call(m,h,p):v,p==null)break e;h=zt({},h,p);break e;case 2:qo=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,c=h):d=d.next=m,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Nl|=o,t.lanes=o,t.memoizedState=h}}function tE(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(ie(191,s));s.call(n)}}}var Ph={},yi=Aa(Ph),Vf=Aa(Ph),$f=Aa(Ph);function al(t){if(t===Ph)throw Error(ie(174));return t}function kw(t,e){switch(Tt($f,e),Tt(Vf,t),Tt(yi,Ph),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ub(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ub(e,t)}jt(yi),Tt(yi,e)}function hu(){jt(yi),jt(Vf),jt($f)}function EI(t){al($f.current);var e=al(yi.current),r=Ub(e,t.type);e!==r&&(Tt(Vf,t),Tt(yi,r))}function Nw(t){Vf.current===t&&(jt(yi),jt(Vf))}var Vt=Aa(0);function xg(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Nv=[];function Iw(){for(var t=0;t<Nv.length;t++)Nv[t]._workInProgressVersionPrimary=null;Nv.length=0}var vm=To.ReactCurrentDispatcher,Iv=To.ReactCurrentBatchConfig,kl=0,$t=null,ur=null,br=null,wg=!1,Yd=!1,Bf=0,KO=0;function zr(){throw Error(ie(321))}function Pw(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Hs(t[r],e[r]))return!1;return!0}function Aw(t,e,r,n,s,i){if(kl=i,$t=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,vm.current=t===null||t.memoizedState===null?JO:ZO,t=r(n,s),Yd){i=0;do{if(Yd=!1,Bf=0,25<=i)throw Error(ie(301));i+=1,br=ur=null,e.updateQueue=null,vm.current=e8,t=r(n,s)}while(Yd)}if(vm.current=_g,e=ur!==null&&ur.next!==null,kl=0,br=ur=$t=null,wg=!1,e)throw Error(ie(300));return t}function jw(){var t=Bf!==0;return Bf=0,t}function ii(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return br===null?$t.memoizedState=br=t:br=br.next=t,br}function xs(){if(ur===null){var t=$t.alternate;t=t!==null?t.memoizedState:null}else t=ur.next;var e=br===null?$t.memoizedState:br.next;if(e!==null)br=e,ur=t;else{if(t===null)throw Error(ie(310));ur=t,t={memoizedState:ur.memoizedState,baseState:ur.baseState,baseQueue:ur.baseQueue,queue:ur.queue,next:null},br===null?$t.memoizedState=br=t:br=br.next=t}return br}function zf(t,e){return typeof e=="function"?e(t):e}function Pv(t){var e=xs(),r=e.queue;if(r===null)throw Error(ie(311));r.lastRenderedReducer=t;var n=ur,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,c=null,u=i;do{var d=u.lane;if((kl&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=h,o=n):c=c.next=h,$t.lanes|=d,Nl|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=a,Hs(n,e.memoizedState)||(Cn=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,$t.lanes|=i,Nl|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Av(t){var e=xs(),r=e.queue;if(r===null)throw Error(ie(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Hs(i,e.memoizedState)||(Cn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function TI(){}function CI(t,e){var r=$t,n=xs(),s=e(),i=!Hs(n.memoizedState,s);if(i&&(n.memoizedState=s,Cn=!0),n=n.queue,Rw(II.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||br!==null&&br.memoizedState.tag&1){if(r.flags|=2048,Uf(9,NI.bind(null,r,n,s,e),void 0,null),wr===null)throw Error(ie(349));kl&30||kI(r,e,s)}return s}function kI(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=$t.updateQueue,e===null?(e={lastEffect:null,stores:null},$t.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function NI(t,e,r,n){e.value=r,e.getSnapshot=n,PI(e)&&AI(t)}function II(t,e,r){return r(function(){PI(e)&&AI(t)})}function PI(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Hs(t,r)}catch{return!0}}function AI(t){var e=ho(t,1);e!==null&&Bs(e,t,1,-1)}function rE(t){var e=ii();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zf,lastRenderedState:t},e.queue=t,t=t.dispatch=XO.bind(null,$t,t),[e.memoizedState,t]}function Uf(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=$t.updateQueue,e===null?(e={lastEffect:null,stores:null},$t.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function jI(){return xs().memoizedState}function bm(t,e,r,n){var s=ii();$t.flags|=t,s.memoizedState=Uf(1|e,r,void 0,n===void 0?null:n)}function I0(t,e,r,n){var s=xs();n=n===void 0?null:n;var i=void 0;if(ur!==null){var o=ur.memoizedState;if(i=o.destroy,n!==null&&Pw(n,o.deps)){s.memoizedState=Uf(e,r,i,n);return}}$t.flags|=t,s.memoizedState=Uf(1|e,r,i,n)}function nE(t,e){return bm(8390656,8,t,e)}function Rw(t,e){return I0(2048,8,t,e)}function RI(t,e){return I0(4,2,t,e)}function DI(t,e){return I0(4,4,t,e)}function OI(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function MI(t,e,r){return r=r!=null?r.concat([t]):null,I0(4,4,OI.bind(null,e,t),r)}function Dw(){}function LI(t,e){var r=xs();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Pw(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function FI(t,e){var r=xs();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Pw(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function VI(t,e,r){return kl&21?(Hs(r,e)||(r=HN(),$t.lanes|=r,Nl|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Cn=!0),t.memoizedState=r)}function QO(t,e){var r=ft;ft=r!==0&&4>r?r:4,t(!0);var n=Iv.transition;Iv.transition={};try{t(!1),e()}finally{ft=r,Iv.transition=n}}function $I(){return xs().memoizedState}function YO(t,e,r){var n=ya(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},BI(t))zI(e,r);else if(r=_I(t,e,r,n),r!==null){var s=cn();Bs(r,t,n,s),UI(r,e,n)}}function XO(t,e,r){var n=ya(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(BI(t))zI(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,Hs(a,o)){var c=e.interleaved;c===null?(s.next=s,Tw(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}r=_I(t,e,s,n),r!==null&&(s=cn(),Bs(r,t,n,s),UI(r,e,n))}}function BI(t){var e=t.alternate;return t===$t||e!==null&&e===$t}function zI(t,e){Yd=wg=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function UI(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,dw(t,r)}}var _g={readContext:bs,useCallback:zr,useContext:zr,useEffect:zr,useImperativeHandle:zr,useInsertionEffect:zr,useLayoutEffect:zr,useMemo:zr,useReducer:zr,useRef:zr,useState:zr,useDebugValue:zr,useDeferredValue:zr,useTransition:zr,useMutableSource:zr,useSyncExternalStore:zr,useId:zr,unstable_isNewReconciler:!1},JO={readContext:bs,useCallback:function(t,e){return ii().memoizedState=[t,e===void 0?null:e],t},useContext:bs,useEffect:nE,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,bm(4194308,4,OI.bind(null,e,t),r)},useLayoutEffect:function(t,e){return bm(4194308,4,t,e)},useInsertionEffect:function(t,e){return bm(4,2,t,e)},useMemo:function(t,e){var r=ii();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=ii();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=YO.bind(null,$t,t),[n.memoizedState,t]},useRef:function(t){var e=ii();return t={current:t},e.memoizedState=t},useState:rE,useDebugValue:Dw,useDeferredValue:function(t){return ii().memoizedState=t},useTransition:function(){var t=rE(!1),e=t[0];return t=QO.bind(null,t[1]),ii().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=$t,s=ii();if(Lt){if(r===void 0)throw Error(ie(407));r=r()}else{if(r=e(),wr===null)throw Error(ie(349));kl&30||kI(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,nE(II.bind(null,n,i,t),[t]),n.flags|=2048,Uf(9,NI.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=ii(),e=wr.identifierPrefix;if(Lt){var r=eo,n=Zi;r=(n&~(1<<32-$s(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Bf++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=KO++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ZO={readContext:bs,useCallback:LI,useContext:bs,useEffect:Rw,useImperativeHandle:MI,useInsertionEffect:RI,useLayoutEffect:DI,useMemo:FI,useReducer:Pv,useRef:jI,useState:function(){return Pv(zf)},useDebugValue:Dw,useDeferredValue:function(t){var e=xs();return VI(e,ur.memoizedState,t)},useTransition:function(){var t=Pv(zf)[0],e=xs().memoizedState;return[t,e]},useMutableSource:TI,useSyncExternalStore:CI,useId:$I,unstable_isNewReconciler:!1},e8={readContext:bs,useCallback:LI,useContext:bs,useEffect:Rw,useImperativeHandle:MI,useInsertionEffect:RI,useLayoutEffect:DI,useMemo:FI,useReducer:Av,useRef:jI,useState:function(){return Av(zf)},useDebugValue:Dw,useDeferredValue:function(t){var e=xs();return ur===null?e.memoizedState=t:VI(e,ur.memoizedState,t)},useTransition:function(){var t=Av(zf)[0],e=xs().memoizedState;return[t,e]},useMutableSource:TI,useSyncExternalStore:CI,useId:$I,unstable_isNewReconciler:!1};function Rs(t,e){if(t&&t.defaultProps){e=zt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function ux(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:zt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var P0={isMounted:function(t){return(t=t._reactInternals)?Hl(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=cn(),s=ya(t),i=io(n,s);i.payload=e,r!=null&&(i.callback=r),e=ma(t,i,s),e!==null&&(Bs(e,t,s,n),ym(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=cn(),s=ya(t),i=io(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=ma(t,i,s),e!==null&&(Bs(e,t,s,n),ym(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=cn(),n=ya(t),s=io(r,n);s.tag=2,e!=null&&(s.callback=e),e=ma(t,s,n),e!==null&&(Bs(e,t,n,r),ym(e,t,n))}};function sE(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!Of(r,n)||!Of(s,i):!0}function HI(t,e,r){var n=!1,s=Ea,i=e.contextType;return typeof i=="object"&&i!==null?i=bs(i):(s=Nn(e)?Tl:Jr.current,n=e.contextTypes,i=(n=n!=null)?uu(t,s):Ea),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=P0,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function iE(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&P0.enqueueReplaceState(e,e.state,null)}function dx(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},Cw(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=bs(i):(i=Nn(e)?Tl:Jr.current,s.context=uu(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(ux(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&P0.enqueueReplaceState(s,s.state,null),bg(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function pu(t,e){try{var r="",n=e;do r+=ND(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function jv(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function fx(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var t8=typeof WeakMap=="function"?WeakMap:Map;function WI(t,e,r){r=io(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Eg||(Eg=!0,_x=n),fx(t,e)},r}function qI(t,e,r){r=io(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){fx(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){fx(t,e),typeof n!="function"&&(ga===null?ga=new Set([this]):ga.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function oE(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new t8;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=m8.bind(null,t,e,r),e.then(t,t))}function aE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function lE(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=io(-1,1),e.tag=2,ma(r,e,1))),r.lanes|=1),t)}var r8=To.ReactCurrentOwner,Cn=!1;function sn(t,e,r,n){e.child=t===null?wI(e,null,r,n):fu(e,t.child,r,n)}function cE(t,e,r,n,s){r=r.render;var i=e.ref;return Wc(e,s),n=Aw(t,e,r,n,i,s),r=jw(),t!==null&&!Cn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,po(t,e,s)):(Lt&&r&&bw(e),e.flags|=1,sn(t,e,n,s),e.child)}function uE(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!zw(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,GI(t,e,i,n,s)):(t=Sm(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Of,r(o,n)&&t.ref===e.ref)return po(t,e,s)}return e.flags|=1,t=va(i,n),t.ref=e.ref,t.return=e,e.child=t}function GI(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(Of(i,n)&&t.ref===e.ref)if(Cn=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(Cn=!0);else return e.lanes=t.lanes,po(t,e,s)}return hx(t,e,r,n,s)}function KI(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tt(Pc,zn),zn|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Tt(Pc,zn),zn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Tt(Pc,zn),zn|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,Tt(Pc,zn),zn|=n;return sn(t,e,s,r),e.child}function QI(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function hx(t,e,r,n,s){var i=Nn(r)?Tl:Jr.current;return i=uu(e,i),Wc(e,s),r=Aw(t,e,r,n,i,s),n=jw(),t!==null&&!Cn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,po(t,e,s)):(Lt&&n&&bw(e),e.flags|=1,sn(t,e,r,s),e.child)}function dE(t,e,r,n,s){if(Nn(r)){var i=!0;pg(e)}else i=!1;if(Wc(e,s),e.stateNode===null)xm(t,e),HI(e,r,n),dx(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=bs(u):(u=Nn(r)?Tl:Jr.current,u=uu(e,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||c!==u)&&iE(e,o,n,u),qo=!1;var p=e.memoizedState;o.state=p,bg(e,n,o,s),c=e.memoizedState,a!==n||p!==c||kn.current||qo?(typeof d=="function"&&(ux(e,r,d,n),c=e.memoizedState),(a=qo||sE(e,r,a,n,p,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,SI(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Rs(e.type,a),o.props=u,h=e.pendingProps,p=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=bs(c):(c=Nn(r)?Tl:Jr.current,c=uu(e,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==c)&&iE(e,o,n,c),qo=!1,p=e.memoizedState,o.state=p,bg(e,n,o,s);var v=e.memoizedState;a!==h||p!==v||kn.current||qo?(typeof m=="function"&&(ux(e,r,m,n),v=e.memoizedState),(u=qo||sE(e,r,u,n,p,v,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=v),o.props=n,o.state=v,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),n=!1)}return px(t,e,r,n,i,s)}function px(t,e,r,n,s,i){QI(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&YS(e,r,!1),po(t,e,i);n=e.stateNode,r8.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=fu(e,t.child,null,i),e.child=fu(e,null,a,i)):sn(t,e,a,i),e.memoizedState=n.state,s&&YS(e,r,!0),e.child}function YI(t){var e=t.stateNode;e.pendingContext?QS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&QS(t,e.context,!1),kw(t,e.containerInfo)}function fE(t,e,r,n,s){return du(),ww(s),e.flags|=256,sn(t,e,r,n),e.child}var mx={dehydrated:null,treeContext:null,retryLane:0};function gx(t){return{baseLanes:t,cachePool:null,transitions:null}}function XI(t,e,r){var n=e.pendingProps,s=Vt.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Tt(Vt,s&1),t===null)return lx(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=R0(o,n,0,null),t=gl(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=gx(r),e.memoizedState=mx,t):Ow(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return n8(t,e,o,n,a,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,a=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=va(s,c),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=va(a,i):(i=gl(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?gx(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=mx,n}return i=t.child,t=i.sibling,n=va(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Ow(t,e){return e=R0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Mp(t,e,r,n){return n!==null&&ww(n),fu(e,t.child,null,r),t=Ow(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function n8(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=jv(Error(ie(422))),Mp(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=R0({mode:"visible",children:n.children},s,0,null),i=gl(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&fu(e,t.child,null,o),e.child.memoizedState=gx(o),e.memoizedState=mx,i);if(!(e.mode&1))return Mp(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(ie(419)),n=jv(i,n,void 0),Mp(t,e,o,n)}if(a=(o&t.childLanes)!==0,Cn||a){if(n=wr,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ho(t,s),Bs(n,t,s,-1))}return Bw(),n=jv(Error(ie(421))),Mp(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=g8.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Hn=pa(s.nextSibling),Gn=e,Lt=!0,Fs=null,t!==null&&(cs[us++]=Zi,cs[us++]=eo,cs[us++]=Cl,Zi=t.id,eo=t.overflow,Cl=e),e=Ow(e,n.children),e.flags|=4096,e)}function hE(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),cx(t.return,e,r)}function Rv(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function JI(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(sn(t,e,n.children,r),n=Vt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&hE(t,r,e);else if(t.tag===19)hE(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Tt(Vt,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&xg(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),Rv(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&xg(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}Rv(e,!0,r,null,i);break;case"together":Rv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function xm(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function po(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Nl|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ie(153));if(e.child!==null){for(t=e.child,r=va(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=va(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function s8(t,e,r){switch(e.tag){case 3:YI(e),du();break;case 5:EI(e);break;case 1:Nn(e.type)&&pg(e);break;case 4:kw(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;Tt(yg,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Tt(Vt,Vt.current&1),e.flags|=128,null):r&e.child.childLanes?XI(t,e,r):(Tt(Vt,Vt.current&1),t=po(t,e,r),t!==null?t.sibling:null);Tt(Vt,Vt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return JI(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Tt(Vt,Vt.current),n)break;return null;case 22:case 23:return e.lanes=0,KI(t,e,r)}return po(t,e,r)}var ZI,yx,eP,tP;ZI=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};yx=function(){};eP=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,al(yi.current);var i=null;switch(r){case"input":s=Vb(t,s),n=Vb(t,n),i=[];break;case"select":s=zt({},s,{value:void 0}),n=zt({},n,{value:void 0}),i=[];break;case"textarea":s=zb(t,s),n=zb(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=fg)}Hb(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Nf.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(a=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Nf.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&It("scroll",t),i||a===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};tP=function(t,e,r,n){r!==n&&(e.flags|=4)};function hd(t,e){if(!Lt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Ur(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function i8(t,e,r){var n=e.pendingProps;switch(xw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ur(e),null;case 1:return Nn(e.type)&&hg(),Ur(e),null;case 3:return n=e.stateNode,hu(),jt(kn),jt(Jr),Iw(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Dp(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Fs!==null&&(Tx(Fs),Fs=null))),yx(t,e),Ur(e),null;case 5:Nw(e);var s=al($f.current);if(r=e.type,t!==null&&e.stateNode!=null)eP(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(ie(166));return Ur(e),null}if(t=al(yi.current),Dp(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[di]=e,n[Ff]=i,t=(e.mode&1)!==0,r){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(s=0;s<Pd.length;s++)It(Pd[s],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":_S(n,i),It("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},It("invalid",n);break;case"textarea":ES(n,i),It("invalid",n)}Hb(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&Rp(n.textContent,a,t),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Rp(n.textContent,a,t),s=["children",""+a]):Nf.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&It("scroll",n)}switch(r){case"input":Tp(n),SS(n,i,!0);break;case"textarea":Tp(n),TS(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=fg)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=IN(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[di]=e,t[Ff]=n,ZI(t,e,!1,!1),e.stateNode=t;e:{switch(o=Wb(r,n),r){case"dialog":It("cancel",t),It("close",t),s=n;break;case"iframe":case"object":case"embed":It("load",t),s=n;break;case"video":case"audio":for(s=0;s<Pd.length;s++)It(Pd[s],t);s=n;break;case"source":It("error",t),s=n;break;case"img":case"image":case"link":It("error",t),It("load",t),s=n;break;case"details":It("toggle",t),s=n;break;case"input":_S(t,n),s=Vb(t,n),It("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=zt({},n,{value:void 0}),It("invalid",t);break;case"textarea":ES(t,n),s=zb(t,n),It("invalid",t);break;default:s=n}Hb(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?jN(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&PN(t,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&If(t,c):typeof c=="number"&&If(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Nf.hasOwnProperty(i)?c!=null&&i==="onScroll"&&It("scroll",t):c!=null&&iw(t,i,c,o))}switch(r){case"input":Tp(t),SS(t,n,!1);break;case"textarea":Tp(t),TS(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Sa(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Bc(t,!!n.multiple,i,!1):n.defaultValue!=null&&Bc(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=fg)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ur(e),null;case 6:if(t&&e.stateNode!=null)tP(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(ie(166));if(r=al($f.current),al(yi.current),Dp(e)){if(n=e.stateNode,r=e.memoizedProps,n[di]=e,(i=n.nodeValue!==r)&&(t=Gn,t!==null))switch(t.tag){case 3:Rp(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Rp(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[di]=e,e.stateNode=n}return Ur(e),null;case 13:if(jt(Vt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Lt&&Hn!==null&&e.mode&1&&!(e.flags&128))bI(),du(),e.flags|=98560,i=!1;else if(i=Dp(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(ie(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ie(317));i[di]=e}else du(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ur(e),i=!1}else Fs!==null&&(Tx(Fs),Fs=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Vt.current&1?dr===0&&(dr=3):Bw())),e.updateQueue!==null&&(e.flags|=4),Ur(e),null);case 4:return hu(),yx(t,e),t===null&&Mf(e.stateNode.containerInfo),Ur(e),null;case 10:return Ew(e.type._context),Ur(e),null;case 17:return Nn(e.type)&&hg(),Ur(e),null;case 19:if(jt(Vt),i=e.memoizedState,i===null)return Ur(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)hd(i,!1);else{if(dr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=xg(t),o!==null){for(e.flags|=128,hd(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Tt(Vt,Vt.current&1|2),e.child}t=t.sibling}i.tail!==null&&Xt()>mu&&(e.flags|=128,n=!0,hd(i,!1),e.lanes=4194304)}else{if(!n)if(t=xg(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),hd(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Lt)return Ur(e),null}else 2*Xt()-i.renderingStartTime>mu&&r!==1073741824&&(e.flags|=128,n=!0,hd(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Xt(),e.sibling=null,r=Vt.current,Tt(Vt,n?r&1|2:r&1),e):(Ur(e),null);case 22:case 23:return $w(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?zn&1073741824&&(Ur(e),e.subtreeFlags&6&&(e.flags|=8192)):Ur(e),null;case 24:return null;case 25:return null}throw Error(ie(156,e.tag))}function o8(t,e){switch(xw(e),e.tag){case 1:return Nn(e.type)&&hg(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return hu(),jt(kn),jt(Jr),Iw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Nw(e),null;case 13:if(jt(Vt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ie(340));du()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return jt(Vt),null;case 4:return hu(),null;case 10:return Ew(e.type._context),null;case 22:case 23:return $w(),null;case 24:return null;default:return null}}var Lp=!1,Kr=!1,a8=typeof WeakSet=="function"?WeakSet:Set,ye=null;function Ic(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Wt(t,e,n)}else r.current=null}function vx(t,e,r){try{r()}catch(n){Wt(t,e,n)}}var pE=!1;function l8(t,e){if(tx=cg,t=oI(),vw(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,c=-1,u=0,d=0,h=t,p=null;t:for(;;){for(var m;h!==r||s!==0&&h.nodeType!==3||(a=o+s),h!==i||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===t)break t;if(p===r&&++u===s&&(a=o),p===i&&++d===n&&(c=o),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}r=a===-1||c===-1?null:{start:a,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(rx={focusedElem:t,selectionRange:r},cg=!1,ye=e;ye!==null;)if(e=ye,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ye=t;else for(;ye!==null;){e=ye;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var b=v.memoizedProps,y=v.memoizedState,x=e.stateNode,g=x.getSnapshotBeforeUpdate(e.elementType===e.type?b:Rs(e.type,b),y);x.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ie(163))}}catch(I){Wt(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,ye=t;break}ye=e.return}return v=pE,pE=!1,v}function Xd(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&vx(e,r,i)}s=s.next}while(s!==n)}}function A0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function bx(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function rP(t){var e=t.alternate;e!==null&&(t.alternate=null,rP(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[di],delete e[Ff],delete e[ix],delete e[HO],delete e[WO])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function nP(t){return t.tag===5||t.tag===3||t.tag===4}function mE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||nP(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xx(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=fg));else if(n!==4&&(t=t.child,t!==null))for(xx(t,e,r),t=t.sibling;t!==null;)xx(t,e,r),t=t.sibling}function wx(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(wx(t,e,r),t=t.sibling;t!==null;)wx(t,e,r),t=t.sibling}var Cr=null,Os=!1;function Lo(t,e,r){for(r=r.child;r!==null;)sP(t,e,r),r=r.sibling}function sP(t,e,r){if(gi&&typeof gi.onCommitFiberUnmount=="function")try{gi.onCommitFiberUnmount(S0,r)}catch{}switch(r.tag){case 5:Kr||Ic(r,e);case 6:var n=Cr,s=Os;Cr=null,Lo(t,e,r),Cr=n,Os=s,Cr!==null&&(Os?(t=Cr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Cr.removeChild(r.stateNode));break;case 18:Cr!==null&&(Os?(t=Cr,r=r.stateNode,t.nodeType===8?Cv(t.parentNode,r):t.nodeType===1&&Cv(t,r),Rf(t)):Cv(Cr,r.stateNode));break;case 4:n=Cr,s=Os,Cr=r.stateNode.containerInfo,Os=!0,Lo(t,e,r),Cr=n,Os=s;break;case 0:case 11:case 14:case 15:if(!Kr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&vx(r,e,o),s=s.next}while(s!==n)}Lo(t,e,r);break;case 1:if(!Kr&&(Ic(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Wt(r,e,a)}Lo(t,e,r);break;case 21:Lo(t,e,r);break;case 22:r.mode&1?(Kr=(n=Kr)||r.memoizedState!==null,Lo(t,e,r),Kr=n):Lo(t,e,r);break;default:Lo(t,e,r)}}function gE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new a8),e.forEach(function(n){var s=y8.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Ps(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Cr=a.stateNode,Os=!1;break e;case 3:Cr=a.stateNode.containerInfo,Os=!0;break e;case 4:Cr=a.stateNode.containerInfo,Os=!0;break e}a=a.return}if(Cr===null)throw Error(ie(160));sP(i,o,s),Cr=null,Os=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Wt(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)iP(e,t),e=e.sibling}function iP(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ps(e,t),ti(t),n&4){try{Xd(3,t,t.return),A0(3,t)}catch(b){Wt(t,t.return,b)}try{Xd(5,t,t.return)}catch(b){Wt(t,t.return,b)}}break;case 1:Ps(e,t),ti(t),n&512&&r!==null&&Ic(r,r.return);break;case 5:if(Ps(e,t),ti(t),n&512&&r!==null&&Ic(r,r.return),t.flags&32){var s=t.stateNode;try{If(s,"")}catch(b){Wt(t,t.return,b)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&kN(s,i),Wb(a,o);var u=Wb(a,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?jN(s,h):d==="dangerouslySetInnerHTML"?PN(s,h):d==="children"?If(s,h):iw(s,d,h,u)}switch(a){case"input":$b(s,i);break;case"textarea":NN(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Bc(s,!!i.multiple,m,!1):p!==!!i.multiple&&(i.defaultValue!=null?Bc(s,!!i.multiple,i.defaultValue,!0):Bc(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ff]=i}catch(b){Wt(t,t.return,b)}}break;case 6:if(Ps(e,t),ti(t),n&4){if(t.stateNode===null)throw Error(ie(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(b){Wt(t,t.return,b)}}break;case 3:if(Ps(e,t),ti(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Rf(e.containerInfo)}catch(b){Wt(t,t.return,b)}break;case 4:Ps(e,t),ti(t);break;case 13:Ps(e,t),ti(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Fw=Xt())),n&4&&gE(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Kr=(u=Kr)||d,Ps(e,t),Kr=u):Ps(e,t),ti(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(ye=t,d=t.child;d!==null;){for(h=ye=d;ye!==null;){switch(p=ye,m=p.child,p.tag){case 0:case 11:case 14:case 15:Xd(4,p,p.return);break;case 1:Ic(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){n=p,r=p.return;try{e=n,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(b){Wt(n,r,b)}}break;case 5:Ic(p,p.return);break;case 22:if(p.memoizedState!==null){vE(h);continue}}m!==null?(m.return=p,ye=m):vE(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=AN("display",o))}catch(b){Wt(t,t.return,b)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(b){Wt(t,t.return,b)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ps(e,t),ti(t),n&4&&gE(t);break;case 21:break;default:Ps(e,t),ti(t)}}function ti(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(nP(r)){var n=r;break e}r=r.return}throw Error(ie(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(If(s,""),n.flags&=-33);var i=mE(t);wx(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=mE(t);xx(t,a,o);break;default:throw Error(ie(161))}}catch(c){Wt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function c8(t,e,r){ye=t,oP(t)}function oP(t,e,r){for(var n=(t.mode&1)!==0;ye!==null;){var s=ye,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Lp;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||Kr;a=Lp;var u=Kr;if(Lp=o,(Kr=c)&&!u)for(ye=s;ye!==null;)o=ye,c=o.child,o.tag===22&&o.memoizedState!==null?bE(s):c!==null?(c.return=o,ye=c):bE(s);for(;i!==null;)ye=i,oP(i),i=i.sibling;ye=s,Lp=a,Kr=u}yE(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ye=i):yE(t)}}function yE(t){for(;ye!==null;){var e=ye;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Kr||A0(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Kr)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:Rs(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&tE(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}tE(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Rf(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ie(163))}Kr||e.flags&512&&bx(e)}catch(p){Wt(e,e.return,p)}}if(e===t){ye=null;break}if(r=e.sibling,r!==null){r.return=e.return,ye=r;break}ye=e.return}}function vE(t){for(;ye!==null;){var e=ye;if(e===t){ye=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ye=r;break}ye=e.return}}function bE(t){for(;ye!==null;){var e=ye;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{A0(4,e)}catch(c){Wt(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(c){Wt(e,s,c)}}var i=e.return;try{bx(e)}catch(c){Wt(e,i,c)}break;case 5:var o=e.return;try{bx(e)}catch(c){Wt(e,o,c)}}}catch(c){Wt(e,e.return,c)}if(e===t){ye=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ye=a;break}ye=e.return}}var u8=Math.ceil,Sg=To.ReactCurrentDispatcher,Mw=To.ReactCurrentOwner,ps=To.ReactCurrentBatchConfig,Je=0,wr=null,nr=null,Ar=0,zn=0,Pc=Aa(0),dr=0,Hf=null,Nl=0,j0=0,Lw=0,Jd=null,Sn=null,Fw=0,mu=1/0,Gi=null,Eg=!1,_x=null,ga=null,Fp=!1,ia=null,Tg=0,Zd=0,Sx=null,wm=-1,_m=0;function cn(){return Je&6?Xt():wm!==-1?wm:wm=Xt()}function ya(t){return t.mode&1?Je&2&&Ar!==0?Ar&-Ar:GO.transition!==null?(_m===0&&(_m=HN()),_m):(t=ft,t!==0||(t=window.event,t=t===void 0?16:XN(t.type)),t):1}function Bs(t,e,r,n){if(50<Zd)throw Zd=0,Sx=null,Error(ie(185));kh(t,r,n),(!(Je&2)||t!==wr)&&(t===wr&&(!(Je&2)&&(j0|=r),dr===4&&Xo(t,Ar)),In(t,n),r===1&&Je===0&&!(e.mode&1)&&(mu=Xt()+500,N0&&ja()))}function In(t,e){var r=t.callbackNode;GD(t,e);var n=lg(t,t===wr?Ar:0);if(n===0)r!==null&&NS(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&NS(r),e===1)t.tag===0?qO(xE.bind(null,t)):gI(xE.bind(null,t)),zO(function(){!(Je&6)&&ja()}),r=null;else{switch(WN(n)){case 1:r=uw;break;case 4:r=zN;break;case 16:r=ag;break;case 536870912:r=UN;break;default:r=ag}r=pP(r,aP.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function aP(t,e){if(wm=-1,_m=0,Je&6)throw Error(ie(327));var r=t.callbackNode;if(qc()&&t.callbackNode!==r)return null;var n=lg(t,t===wr?Ar:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Cg(t,n);else{e=n;var s=Je;Je|=2;var i=cP();(wr!==t||Ar!==e)&&(Gi=null,mu=Xt()+500,ml(t,e));do try{h8();break}catch(a){lP(t,a)}while(!0);Sw(),Sg.current=i,Je=s,nr!==null?e=0:(wr=null,Ar=0,e=dr)}if(e!==0){if(e===2&&(s=Yb(t),s!==0&&(n=s,e=Ex(t,s))),e===1)throw r=Hf,ml(t,0),Xo(t,n),In(t,Xt()),r;if(e===6)Xo(t,n);else{if(s=t.current.alternate,!(n&30)&&!d8(s)&&(e=Cg(t,n),e===2&&(i=Yb(t),i!==0&&(n=i,e=Ex(t,i))),e===1))throw r=Hf,ml(t,0),Xo(t,n),In(t,Xt()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(ie(345));case 2:Ja(t,Sn,Gi);break;case 3:if(Xo(t,n),(n&130023424)===n&&(e=Fw+500-Xt(),10<e)){if(lg(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){cn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=sx(Ja.bind(null,t,Sn,Gi),e);break}Ja(t,Sn,Gi);break;case 4:if(Xo(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-$s(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=Xt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*u8(n/1960))-n,10<n){t.timeoutHandle=sx(Ja.bind(null,t,Sn,Gi),n);break}Ja(t,Sn,Gi);break;case 5:Ja(t,Sn,Gi);break;default:throw Error(ie(329))}}}return In(t,Xt()),t.callbackNode===r?aP.bind(null,t):null}function Ex(t,e){var r=Jd;return t.current.memoizedState.isDehydrated&&(ml(t,e).flags|=256),t=Cg(t,e),t!==2&&(e=Sn,Sn=r,e!==null&&Tx(e)),t}function Tx(t){Sn===null?Sn=t:Sn.push.apply(Sn,t)}function d8(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Hs(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Xo(t,e){for(e&=~Lw,e&=~j0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-$s(e),n=1<<r;t[r]=-1,e&=~n}}function xE(t){if(Je&6)throw Error(ie(327));qc();var e=lg(t,0);if(!(e&1))return In(t,Xt()),null;var r=Cg(t,e);if(t.tag!==0&&r===2){var n=Yb(t);n!==0&&(e=n,r=Ex(t,n))}if(r===1)throw r=Hf,ml(t,0),Xo(t,e),In(t,Xt()),r;if(r===6)throw Error(ie(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ja(t,Sn,Gi),In(t,Xt()),null}function Vw(t,e){var r=Je;Je|=1;try{return t(e)}finally{Je=r,Je===0&&(mu=Xt()+500,N0&&ja())}}function Il(t){ia!==null&&ia.tag===0&&!(Je&6)&&qc();var e=Je;Je|=1;var r=ps.transition,n=ft;try{if(ps.transition=null,ft=1,t)return t()}finally{ft=n,ps.transition=r,Je=e,!(Je&6)&&ja()}}function $w(){zn=Pc.current,jt(Pc)}function ml(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,BO(r)),nr!==null)for(r=nr.return;r!==null;){var n=r;switch(xw(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&hg();break;case 3:hu(),jt(kn),jt(Jr),Iw();break;case 5:Nw(n);break;case 4:hu();break;case 13:jt(Vt);break;case 19:jt(Vt);break;case 10:Ew(n.type._context);break;case 22:case 23:$w()}r=r.return}if(wr=t,nr=t=va(t.current,null),Ar=zn=e,dr=0,Hf=null,Lw=j0=Nl=0,Sn=Jd=null,ol!==null){for(e=0;e<ol.length;e++)if(r=ol[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}ol=null}return t}function lP(t,e){do{var r=nr;try{if(Sw(),vm.current=_g,wg){for(var n=$t.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}wg=!1}if(kl=0,br=ur=$t=null,Yd=!1,Bf=0,Mw.current=null,r===null||r.return===null){dr=1,Hf=e,nr=null;break}e:{var i=t,o=r.return,a=r,c=e;if(e=Ar,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=aE(o);if(m!==null){m.flags&=-257,lE(m,o,a,i,e),m.mode&1&&oE(i,u,e),e=m,c=u;var v=e.updateQueue;if(v===null){var b=new Set;b.add(c),e.updateQueue=b}else v.add(c);break e}else{if(!(e&1)){oE(i,u,e),Bw();break e}c=Error(ie(426))}}else if(Lt&&a.mode&1){var y=aE(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),lE(y,o,a,i,e),ww(pu(c,a));break e}}i=c=pu(c,a),dr!==4&&(dr=2),Jd===null?Jd=[i]:Jd.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=WI(i,c,e);eE(i,x);break e;case 1:a=c;var g=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ga===null||!ga.has(w)))){i.flags|=65536,e&=-e,i.lanes|=e;var I=qI(i,a,e);eE(i,I);break e}}i=i.return}while(i!==null)}dP(r)}catch(P){e=P,nr===r&&r!==null&&(nr=r=r.return);continue}break}while(!0)}function cP(){var t=Sg.current;return Sg.current=_g,t===null?_g:t}function Bw(){(dr===0||dr===3||dr===2)&&(dr=4),wr===null||!(Nl&268435455)&&!(j0&268435455)||Xo(wr,Ar)}function Cg(t,e){var r=Je;Je|=2;var n=cP();(wr!==t||Ar!==e)&&(Gi=null,ml(t,e));do try{f8();break}catch(s){lP(t,s)}while(!0);if(Sw(),Je=r,Sg.current=n,nr!==null)throw Error(ie(261));return wr=null,Ar=0,dr}function f8(){for(;nr!==null;)uP(nr)}function h8(){for(;nr!==null&&!FD();)uP(nr)}function uP(t){var e=hP(t.alternate,t,zn);t.memoizedProps=t.pendingProps,e===null?dP(t):nr=e,Mw.current=null}function dP(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=o8(r,e),r!==null){r.flags&=32767,nr=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{dr=6,nr=null;return}}else if(r=i8(r,e,zn),r!==null){nr=r;return}if(e=e.sibling,e!==null){nr=e;return}nr=e=t}while(e!==null);dr===0&&(dr=5)}function Ja(t,e,r){var n=ft,s=ps.transition;try{ps.transition=null,ft=1,p8(t,e,r,n)}finally{ps.transition=s,ft=n}return null}function p8(t,e,r,n){do qc();while(ia!==null);if(Je&6)throw Error(ie(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(ie(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(KD(t,i),t===wr&&(nr=wr=null,Ar=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Fp||(Fp=!0,pP(ag,function(){return qc(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=ps.transition,ps.transition=null;var o=ft;ft=1;var a=Je;Je|=4,Mw.current=null,l8(t,r),iP(r,t),DO(rx),cg=!!tx,rx=tx=null,t.current=r,c8(r),VD(),Je=a,ft=o,ps.transition=i}else t.current=r;if(Fp&&(Fp=!1,ia=t,Tg=s),i=t.pendingLanes,i===0&&(ga=null),zD(r.stateNode),In(t,Xt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Eg)throw Eg=!1,t=_x,_x=null,t;return Tg&1&&t.tag!==0&&qc(),i=t.pendingLanes,i&1?t===Sx?Zd++:(Zd=0,Sx=t):Zd=0,ja(),null}function qc(){if(ia!==null){var t=WN(Tg),e=ps.transition,r=ft;try{if(ps.transition=null,ft=16>t?16:t,ia===null)var n=!1;else{if(t=ia,ia=null,Tg=0,Je&6)throw Error(ie(331));var s=Je;for(Je|=4,ye=t.current;ye!==null;){var i=ye,o=i.child;if(ye.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(ye=u;ye!==null;){var d=ye;switch(d.tag){case 0:case 11:case 15:Xd(8,d,i)}var h=d.child;if(h!==null)h.return=d,ye=h;else for(;ye!==null;){d=ye;var p=d.sibling,m=d.return;if(rP(d),d===u){ye=null;break}if(p!==null){p.return=m,ye=p;break}ye=m}}}var v=i.alternate;if(v!==null){var b=v.child;if(b!==null){v.child=null;do{var y=b.sibling;b.sibling=null,b=y}while(b!==null)}}ye=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ye=o;else e:for(;ye!==null;){if(i=ye,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Xd(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,ye=x;break e}ye=i.return}}var g=t.current;for(ye=g;ye!==null;){o=ye;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,ye=w;else e:for(o=g;ye!==null;){if(a=ye,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:A0(9,a)}}catch(P){Wt(a,a.return,P)}if(a===o){ye=null;break e}var I=a.sibling;if(I!==null){I.return=a.return,ye=I;break e}ye=a.return}}if(Je=s,ja(),gi&&typeof gi.onPostCommitFiberRoot=="function")try{gi.onPostCommitFiberRoot(S0,t)}catch{}n=!0}return n}finally{ft=r,ps.transition=e}}return!1}function wE(t,e,r){e=pu(r,e),e=WI(t,e,1),t=ma(t,e,1),e=cn(),t!==null&&(kh(t,1,e),In(t,e))}function Wt(t,e,r){if(t.tag===3)wE(t,t,r);else for(;e!==null;){if(e.tag===3){wE(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ga===null||!ga.has(n))){t=pu(r,t),t=qI(e,t,1),e=ma(e,t,1),t=cn(),e!==null&&(kh(e,1,t),In(e,t));break}}e=e.return}}function m8(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=cn(),t.pingedLanes|=t.suspendedLanes&r,wr===t&&(Ar&r)===r&&(dr===4||dr===3&&(Ar&130023424)===Ar&&500>Xt()-Fw?ml(t,0):Lw|=r),In(t,e)}function fP(t,e){e===0&&(t.mode&1?(e=Np,Np<<=1,!(Np&130023424)&&(Np=4194304)):e=1);var r=cn();t=ho(t,e),t!==null&&(kh(t,e,r),In(t,r))}function g8(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),fP(t,r)}function y8(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(ie(314))}n!==null&&n.delete(e),fP(t,r)}var hP;hP=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||kn.current)Cn=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Cn=!1,s8(t,e,r);Cn=!!(t.flags&131072)}else Cn=!1,Lt&&e.flags&1048576&&yI(e,gg,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;xm(t,e),t=e.pendingProps;var s=uu(e,Jr.current);Wc(e,r),s=Aw(null,e,n,t,s,r);var i=jw();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Nn(n)?(i=!0,pg(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Cw(e),s.updater=P0,e.stateNode=s,s._reactInternals=e,dx(e,n,t,r),e=px(null,e,n,!0,i,r)):(e.tag=0,Lt&&i&&bw(e),sn(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(xm(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=b8(n),t=Rs(n,t),s){case 0:e=hx(null,e,n,t,r);break e;case 1:e=dE(null,e,n,t,r);break e;case 11:e=cE(null,e,n,t,r);break e;case 14:e=uE(null,e,n,Rs(n.type,t),r);break e}throw Error(ie(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Rs(n,s),hx(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Rs(n,s),dE(t,e,n,s,r);case 3:e:{if(YI(e),t===null)throw Error(ie(387));n=e.pendingProps,i=e.memoizedState,s=i.element,SI(t,e),bg(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=pu(Error(ie(423)),e),e=fE(t,e,n,r,s);break e}else if(n!==s){s=pu(Error(ie(424)),e),e=fE(t,e,n,r,s);break e}else for(Hn=pa(e.stateNode.containerInfo.firstChild),Gn=e,Lt=!0,Fs=null,r=wI(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(du(),n===s){e=po(t,e,r);break e}sn(t,e,n,r)}e=e.child}return e;case 5:return EI(e),t===null&&lx(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,nx(n,s)?o=null:i!==null&&nx(n,i)&&(e.flags|=32),QI(t,e),sn(t,e,o,r),e.child;case 6:return t===null&&lx(e),null;case 13:return XI(t,e,r);case 4:return kw(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=fu(e,null,n,r):sn(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Rs(n,s),cE(t,e,n,s,r);case 7:return sn(t,e,e.pendingProps,r),e.child;case 8:return sn(t,e,e.pendingProps.children,r),e.child;case 12:return sn(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Tt(yg,n._currentValue),n._currentValue=o,i!==null)if(Hs(i.value,o)){if(i.children===s.children&&!kn.current){e=po(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=io(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),cx(i.return,r,e),a.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ie(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),cx(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}sn(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Wc(e,r),s=bs(s),n=n(s),e.flags|=1,sn(t,e,n,r),e.child;case 14:return n=e.type,s=Rs(n,e.pendingProps),s=Rs(n.type,s),uE(t,e,n,s,r);case 15:return GI(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Rs(n,s),xm(t,e),e.tag=1,Nn(n)?(t=!0,pg(e)):t=!1,Wc(e,r),HI(e,n,s),dx(e,n,s,r),px(null,e,n,!0,t,r);case 19:return JI(t,e,r);case 22:return KI(t,e,r)}throw Error(ie(156,e.tag))};function pP(t,e){return BN(t,e)}function v8(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ds(t,e,r,n){return new v8(t,e,r,n)}function zw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function b8(t){if(typeof t=="function")return zw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===aw)return 11;if(t===lw)return 14}return 2}function va(t,e){var r=t.alternate;return r===null?(r=ds(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Sm(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")zw(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case xc:return gl(r.children,s,i,e);case ow:o=8,s|=8;break;case Ob:return t=ds(12,r,e,s|2),t.elementType=Ob,t.lanes=i,t;case Mb:return t=ds(13,r,e,s),t.elementType=Mb,t.lanes=i,t;case Lb:return t=ds(19,r,e,s),t.elementType=Lb,t.lanes=i,t;case EN:return R0(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _N:o=10;break e;case SN:o=9;break e;case aw:o=11;break e;case lw:o=14;break e;case Wo:o=16,n=null;break e}throw Error(ie(130,t==null?t:typeof t,""))}return e=ds(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function gl(t,e,r,n){return t=ds(7,t,n,e),t.lanes=r,t}function R0(t,e,r,n){return t=ds(22,t,n,e),t.elementType=EN,t.lanes=r,t.stateNode={isHidden:!1},t}function Dv(t,e,r){return t=ds(6,t,null,e),t.lanes=r,t}function Ov(t,e,r){return e=ds(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function x8(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mv(0),this.expirationTimes=mv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mv(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Uw(t,e,r,n,s,i,o,a,c){return t=new x8(t,e,r,a,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=ds(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cw(i),t}function w8(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bc,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function mP(t){if(!t)return Ea;t=t._reactInternals;e:{if(Hl(t)!==t||t.tag!==1)throw Error(ie(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Nn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ie(171))}if(t.tag===1){var r=t.type;if(Nn(r))return mI(t,r,e)}return e}function gP(t,e,r,n,s,i,o,a,c){return t=Uw(r,n,!0,t,s,i,o,a,c),t.context=mP(null),r=t.current,n=cn(),s=ya(r),i=io(n,s),i.callback=e??null,ma(r,i,s),t.current.lanes=s,kh(t,s,n),In(t,n),t}function D0(t,e,r,n){var s=e.current,i=cn(),o=ya(s);return r=mP(r),e.context===null?e.context=r:e.pendingContext=r,e=io(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=ma(s,e,o),t!==null&&(Bs(t,s,o,i),ym(t,s,o)),o}function kg(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function _E(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Hw(t,e){_E(t,e),(t=t.alternate)&&_E(t,e)}function _8(){return null}var yP=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ww(t){this._internalRoot=t}O0.prototype.render=Ww.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ie(409));D0(t,e,null,null)};O0.prototype.unmount=Ww.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Il(function(){D0(null,t,null,null)}),e[fo]=null}};function O0(t){this._internalRoot=t}O0.prototype.unstable_scheduleHydration=function(t){if(t){var e=KN();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Yo.length&&e!==0&&e<Yo[r].priority;r++);Yo.splice(r,0,t),r===0&&YN(t)}};function qw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function M0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function SE(){}function S8(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=kg(o);i.call(u)}}var o=gP(e,n,t,0,null,!1,!1,"",SE);return t._reactRootContainer=o,t[fo]=o.current,Mf(t.nodeType===8?t.parentNode:t),Il(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var u=kg(c);a.call(u)}}var c=Uw(t,0,!1,null,null,!1,!1,"",SE);return t._reactRootContainer=c,t[fo]=c.current,Mf(t.nodeType===8?t.parentNode:t),Il(function(){D0(e,c,r,n)}),c}function L0(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=kg(o);a.call(c)}}D0(e,o,t,s)}else o=S8(r,e,t,s,n);return kg(o)}qN=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Id(e.pendingLanes);r!==0&&(dw(e,r|1),In(e,Xt()),!(Je&6)&&(mu=Xt()+500,ja()))}break;case 13:Il(function(){var n=ho(t,1);if(n!==null){var s=cn();Bs(n,t,1,s)}}),Hw(t,1)}};fw=function(t){if(t.tag===13){var e=ho(t,134217728);if(e!==null){var r=cn();Bs(e,t,134217728,r)}Hw(t,134217728)}};GN=function(t){if(t.tag===13){var e=ya(t),r=ho(t,e);if(r!==null){var n=cn();Bs(r,t,e,n)}Hw(t,e)}};KN=function(){return ft};QN=function(t,e){var r=ft;try{return ft=t,e()}finally{ft=r}};Gb=function(t,e,r){switch(e){case"input":if($b(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=k0(n);if(!s)throw Error(ie(90));CN(n),$b(n,s)}}}break;case"textarea":NN(t,r);break;case"select":e=r.value,e!=null&&Bc(t,!!r.multiple,e,!1)}};ON=Vw;MN=Il;var E8={usingClientEntryPoint:!1,Events:[Ih,Ec,k0,RN,DN,Vw]},pd={findFiberByHostInstance:il,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},T8={bundleType:pd.bundleType,version:pd.version,rendererPackageName:pd.rendererPackageName,rendererConfig:pd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:To.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=VN(t),t===null?null:t.stateNode},findFiberByHostInstance:pd.findFiberByHostInstance||_8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vp.isDisabled&&Vp.supportsFiber)try{S0=Vp.inject(T8),gi=Vp}catch{}}Zn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=E8;Zn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qw(e))throw Error(ie(200));return w8(t,e,null,r)};Zn.createRoot=function(t,e){if(!qw(t))throw Error(ie(299));var r=!1,n="",s=yP;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Uw(t,1,!1,null,null,r,!1,n,s),t[fo]=e.current,Mf(t.nodeType===8?t.parentNode:t),new Ww(e)};Zn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ie(188)):(t=Object.keys(t).join(","),Error(ie(268,t)));return t=VN(e),t=t===null?null:t.stateNode,t};Zn.flushSync=function(t){return Il(t)};Zn.hydrate=function(t,e,r){if(!M0(e))throw Error(ie(200));return L0(null,t,e,!0,r)};Zn.hydrateRoot=function(t,e,r){if(!qw(t))throw Error(ie(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=yP;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=gP(e,null,t,1,r??null,s,!1,i,o),t[fo]=e.current,Mf(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new O0(e)};Zn.render=function(t,e,r){if(!M0(e))throw Error(ie(200));return L0(null,t,e,!1,r)};Zn.unmountComponentAtNode=function(t){if(!M0(t))throw Error(ie(40));return t._reactRootContainer?(Il(function(){L0(null,null,t,!1,function(){t._reactRootContainer=null,t[fo]=null})}),!0):!1};Zn.unstable_batchedUpdates=Vw;Zn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!M0(r))throw Error(ie(200));if(t==null||t._reactInternals===void 0)throw Error(ie(38));return L0(t,e,r,!1,n)};Zn.version="18.3.1-next-f1338f8080-20240426";function vP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vP)}catch(t){console.error(t)}}vP(),vN.exports=Zn;var Ah=vN.exports;const C8=w0(Ah),k8=oN({__proto__:null,default:C8},[Ah]);var EE=Ah;Rb.createRoot=EE.createRoot,Rb.hydrateRoot=EE.hydrateRoot;var TE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);s<128?e[r++]=s:s<2048?(e[r++]=s>>6|192,e[r++]=s&63|128):(s&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=s>>18|240,e[r++]=s>>12&63|128,e[r++]=s>>6&63|128,e[r++]=s&63|128):(e[r++]=s>>12|224,e[r++]=s>>6&63|128,e[r++]=s&63|128)}return e},N8=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const s=t[r++];if(s<128)e[n++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[r++];e[n++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[r++],o=t[r++],a=t[r++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[n++]=String.fromCharCode(55296+(c>>10)),e[n++]=String.fromCharCode(56320+(c&1023))}else{const i=t[r++],o=t[r++];e[n++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},xP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,d=i>>2,h=(i&3)<<4|a>>4;let p=(a&15)<<2|u>>6,m=u&63;c||(m=64,o||(p=64)),n.push(r[d],r[h],r[p],r[m])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(bP(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):N8(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<t.length;){const i=r[t.charAt(s++)],a=s<t.length?r[t.charAt(s)]:0;++s;const u=s<t.length?r[t.charAt(s)]:64;++s;const h=s<t.length?r[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||h==null)throw new I8;const p=i<<2|a>>4;if(n.push(p),u!==64){const m=a<<4&240|u>>2;if(n.push(m),h!==64){const v=u<<6&192|h;n.push(v)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class I8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const P8=function(t){const e=bP(t);return xP.encodeByteArray(e,!0)},Ng=function(t){return P8(t).replace(/\./g,"")},wP=function(t){try{return xP.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j8=()=>A8().__FIREBASE_DEFAULTS__,R8=()=>{if(typeof process>"u"||typeof TE>"u")return;const t=TE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},D8=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&wP(t[1]);return e&&JSON.parse(e)},F0=()=>{try{return j8()||R8()||D8()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},_P=t=>{var e,r;return(r=(e=F0())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},O8=t=>{const e=_P(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},SP=()=>{var t;return(t=F0())===null||t===void 0?void 0:t.config},EP=t=>{var e;return(e=F0())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let M8=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L8(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ng(JSON.stringify(r)),Ng(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function F8(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zr())}function V8(){var t;const e=(t=F0())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $8(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function B8(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function z8(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function U8(){const t=Zr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function H8(){return!V8()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function W8(){try{return typeof indexedDB=="object"}catch{return!1}}function q8(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},s.onupgradeneeded=()=>{r=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G8="FirebaseError";class Co extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=G8,Object.setPrototypeOf(this,Co.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jh.prototype.create)}}class jh{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?K8(i,n):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Co(s,a,n)}}function K8(t,e){return t.replace(Q8,(r,n)=>{const s=e[n];return s!=null?String(s):`<${n}?>`})}const Q8=/\{\$([^}]+)}/g;function Y8(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ig(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const s of r){if(!n.includes(s))return!1;const i=t[s],o=e[s];if(CE(i)&&CE(o)){if(!Ig(i,o))return!1}else if(i!==o)return!1}for(const s of n)if(!r.includes(s))return!1;return!0}function CE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rh(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(s=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Ad(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[s,i]=n.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function jd(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function X8(t,e){const r=new J8(t,e);return r.subscribe.bind(r)}class J8{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let s;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");Z8(e,["next","error","complete"])?s=e:s={next:e,error:r,complete:n},s.next===void 0&&(s.next=Mv),s.error===void 0&&(s.error=Mv),s.complete===void 0&&(s.complete=Mv);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Z8(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function Mv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(t){return t&&t._delegate?t._delegate:t}class Pl{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eM=class{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new M8;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:r});s&&n.resolve(s)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rM(e))try{this.getOrInitializeService({instanceIdentifier:Za})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(r);try{const i=this.getOrInitializeService({instanceIdentifier:s});n.resolve(i)}catch{}}}}clearInstance(e=Za){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Za){return this.instances.has(e)}getOptions(e=Za){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);n===a&&o.resolve(s)}return s}onInit(e,r){var n;const s=this.normalizeInstanceIdentifier(r),i=(n=this.onInitCallbacks.get(s))!==null&&n!==void 0?n:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const s of n)try{s(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:tM(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Za){return this.component?this.component.multipleInstances?e:Za:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function tM(t){return t===Za?void 0:t}function rM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new eM(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ye||(Ye={}));const sM={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},iM=Ye.INFO,oM={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},aM=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),s=oM[e];if(s)console[s](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Gw{constructor(e){this.name=e,this._logLevel=iM,this._logHandler=aM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}}const lM=(t,e)=>e.some(r=>t instanceof r);let kE,NE;function cM(){return kE||(kE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uM(){return NE||(NE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const TP=new WeakMap,Cx=new WeakMap,CP=new WeakMap,Lv=new WeakMap,Kw=new WeakMap;function dM(t){const e=new Promise((r,n)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{r(ba(t.result)),s()},o=()=>{n(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&TP.set(r,t)}).catch(()=>{}),Kw.set(e,t),e}function fM(t){if(Cx.has(t))return;const e=new Promise((r,n)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{r(),s()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Cx.set(t,e)}let kx={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return Cx.get(t);if(e==="objectStoreNames")return t.objectStoreNames||CP.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return ba(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function hM(t){kx=t(kx)}function pM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(Fv(this),e,...r);return CP.set(n,e.sort?e.sort():[e]),ba(n)}:uM().includes(t)?function(...e){return t.apply(Fv(this),e),ba(TP.get(this))}:function(...e){return ba(t.apply(Fv(this),e))}}function mM(t){return typeof t=="function"?pM(t):(t instanceof IDBTransaction&&fM(t),lM(t,cM())?new Proxy(t,kx):t)}function ba(t){if(t instanceof IDBRequest)return dM(t);if(Lv.has(t))return Lv.get(t);const e=mM(t);return e!==t&&(Lv.set(t,e),Kw.set(e,t)),e}const Fv=t=>Kw.get(t);function gM(t,e,{blocked:r,upgrade:n,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=ba(o);return n&&o.addEventListener("upgradeneeded",c=>{n(ba(o.result),c.oldVersion,c.newVersion,ba(o.transaction),c)}),r&&o.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),a.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const yM=["get","getKey","getAll","getAllKeys","count"],vM=["put","add","delete","clear"],Vv=new Map;function IE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Vv.get(e))return Vv.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,s=vM.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(s||yM.includes(r)))return;const i=async function(o,...a){const c=this.transaction(o,s?"readwrite":"readonly");let u=c.store;return n&&(u=u.index(a.shift())),(await Promise.all([u[r](...a),s&&c.done]))[0]};return Vv.set(e,i),i}hM(t=>({...t,get:(e,r,n)=>IE(e,r)||t.get(e,r,n),has:(e,r)=>!!IE(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(xM(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function xM(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Nx="@firebase/app",PE="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo=new Gw("@firebase/app"),wM="@firebase/app-compat",_M="@firebase/analytics-compat",SM="@firebase/analytics",EM="@firebase/app-check-compat",TM="@firebase/app-check",CM="@firebase/auth",kM="@firebase/auth-compat",NM="@firebase/database",IM="@firebase/data-connect",PM="@firebase/database-compat",AM="@firebase/functions",jM="@firebase/functions-compat",RM="@firebase/installations",DM="@firebase/installations-compat",OM="@firebase/messaging",MM="@firebase/messaging-compat",LM="@firebase/performance",FM="@firebase/performance-compat",VM="@firebase/remote-config",$M="@firebase/remote-config-compat",BM="@firebase/storage",zM="@firebase/storage-compat",UM="@firebase/firestore",HM="@firebase/vertexai-preview",WM="@firebase/firestore-compat",qM="firebase",GM="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix="[DEFAULT]",KM={[Nx]:"fire-core",[wM]:"fire-core-compat",[SM]:"fire-analytics",[_M]:"fire-analytics-compat",[TM]:"fire-app-check",[EM]:"fire-app-check-compat",[CM]:"fire-auth",[kM]:"fire-auth-compat",[NM]:"fire-rtdb",[IM]:"fire-data-connect",[PM]:"fire-rtdb-compat",[AM]:"fire-fn",[jM]:"fire-fn-compat",[RM]:"fire-iid",[DM]:"fire-iid-compat",[OM]:"fire-fcm",[MM]:"fire-fcm-compat",[LM]:"fire-perf",[FM]:"fire-perf-compat",[VM]:"fire-rc",[$M]:"fire-rc-compat",[BM]:"fire-gcs",[zM]:"fire-gcs-compat",[UM]:"fire-fst",[WM]:"fire-fst-compat",[HM]:"fire-vertex","fire-js":"fire-js",[qM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pg=new Map,QM=new Map,Px=new Map;function AE(t,e){try{t.container.addComponent(e)}catch(r){mo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function gu(t){const e=t.name;if(Px.has(e))return mo.debug(`There were multiple attempts to register component ${e}.`),!1;Px.set(e,t);for(const r of Pg.values())AE(r,t);for(const r of QM.values())AE(r,t);return!0}function Qw(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function mi(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xa=new jh("app","Firebase",YM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Pl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vu=GM;function kP(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:Ix,automaticDataCollectionEnabled:!1},e),s=n.name;if(typeof s!="string"||!s)throw xa.create("bad-app-name",{appName:String(s)});if(r||(r=SP()),!r)throw xa.create("no-options");const i=Pg.get(s);if(i){if(Ig(r,i.options)&&Ig(n,i.config))return i;throw xa.create("duplicate-app",{appName:s})}const o=new nM(s);for(const c of Px.values())o.addComponent(c);const a=new XM(r,n,o);return Pg.set(s,a),a}function NP(t=Ix){const e=Pg.get(t);if(!e&&t===Ix&&SP())return kP();if(!e)throw xa.create("no-app",{appName:t});return e}function wa(t,e,r){var n;let s=(n=KM[t])!==null&&n!==void 0?n:t;r&&(s+=`-${r}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mo.warn(a.join(" "));return}gu(new Pl(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM="firebase-heartbeat-database",ZM=1,Wf="firebase-heartbeat-store";let $v=null;function IP(){return $v||($v=gM(JM,ZM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Wf)}catch(r){console.warn(r)}}}}).catch(t=>{throw xa.create("idb-open",{originalErrorMessage:t.message})})),$v}async function eL(t){try{const r=(await IP()).transaction(Wf),n=await r.objectStore(Wf).get(PP(t));return await r.done,n}catch(e){if(e instanceof Co)mo.warn(e.message);else{const r=xa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});mo.warn(r.message)}}}async function jE(t,e){try{const n=(await IP()).transaction(Wf,"readwrite");await n.objectStore(Wf).put(e,PP(t)),await n.done}catch(r){if(r instanceof Co)mo.warn(r.message);else{const n=xa.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});mo.warn(n.message)}}}function PP(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tL=1024,rL=30*24*60*60*1e3;class nL{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new iL(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=RE();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=rL}),this._storage.overwrite(this._heartbeatsCache))}catch(n){mo.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=RE(),{heartbeatsToSend:n,unsentEntries:s}=sL(this._heartbeatsCache.heartbeats),i=Ng(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(r){return mo.warn(r),""}}}function RE(){return new Date().toISOString().substring(0,10)}function sL(t,e=tL){const r=[];let n=t.slice();for(const s of t){const i=r.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),DE(r)>e){i.dates.pop();break}}else if(r.push({agent:s.agent,dates:[s.date]}),DE(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class iL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return W8()?q8().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await eL(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const s=await this.read();return jE(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const s=await this.read();return jE(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function DE(t){return Ng(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oL(t){gu(new Pl("platform-logger",e=>new bM(e),"PRIVATE")),gu(new Pl("heartbeat",e=>new nL(e),"PRIVATE")),wa(Nx,PE,t),wa(Nx,PE,"esm2017"),wa("fire-js","")}oL("");var aL="firebase",lL="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wa(aL,lL,"app");var Ax=function(t,e){return Ax=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},Ax(t,e)};function AP(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Ax(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var oe=function(){return oe=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},oe.apply(this,arguments)};function pn(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function cL(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Gt(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function zs(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}function jP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const uL=jP,RP=new jh("auth","Firebase",jP());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag=new Gw("@firebase/auth");function dL(t,...e){Ag.logLevel<=Ye.WARN&&Ag.warn(`Auth (${Vu}): ${t}`,...e)}function Em(t,...e){Ag.logLevel<=Ye.ERROR&&Ag.error(`Auth (${Vu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ws(t,...e){throw Yw(t,...e)}function vi(t,...e){return Yw(t,...e)}function DP(t,e,r){const n=Object.assign(Object.assign({},uL()),{[e]:r});return new jh("auth","Firebase",n).create(e,{appName:t.name})}function oo(t){return DP(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Yw(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return RP.create(t,...e)}function Pe(t,e,...r){if(!t)throw Yw(e,...r)}function to(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Em(e),new Error(e)}function go(t,e){t||to(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function fL(){return OE()==="http:"||OE()==="https:"}function OE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fL()||B8()||"connection"in navigator)?navigator.onLine:!0}function pL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,r){this.shortDelay=e,this.longDelay=r,go(r>e,"Short delay should be less than long delay!"),this.isMobile=F8()||z8()}get(){return hL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(t,e){go(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;to("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;to("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;to("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL=new Dh(3e4,6e4);function ko(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ai(t,e,r,n,s={}){return MP(t,s,async()=>{let i={},o={};n&&(e==="GET"?o=n:i={body:JSON.stringify(n)});const a=Rh(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},i);return $8()||(u.referrerPolicy="no-referrer"),OP.fetch()(LP(t,t.config.apiHost,r,a),u)})}async function MP(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},mL),e);try{const s=new vL(t),i=await Promise.race([r(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw $p(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw $p(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw $p(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw $p(t,"user-disabled",o);const d=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw DP(t,d,u);Ws(t,d)}}catch(s){if(s instanceof Co)throw s;Ws(t,"network-request-failed",{message:String(s)})}}async function Oh(t,e,r,n,s={}){const i=await Ai(t,e,r,n,s);return"mfaPendingCredential"in i&&Ws(t,"multi-factor-auth-required",{_serverResponse:i}),i}function LP(t,e,r,n){const s=`${e}${r}?${n}`;return t.config.emulator?Xw(t.config,s):`${t.config.apiScheme}://${s}`}function yL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class vL{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(vi(this.auth,"network-request-failed")),gL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function $p(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const s=vi(t,e,n);return s.customData._tokenResponse=r,s}function ME(t){return t!==void 0&&t.enterprise!==void 0}class bL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return yL(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function xL(t,e){return Ai(t,"GET","/v2/recaptchaConfig",ko(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wL(t,e){return Ai(t,"POST","/v1/accounts:delete",e)}async function FP(t,e){return Ai(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ef(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function _L(t,e=!1){const r=fr(t),n=await r.getIdToken(e),s=Jw(n);Pe(s&&s.exp&&s.auth_time&&s.iat,r.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:n,authTime:ef(Bv(s.auth_time)),issuedAtTime:ef(Bv(s.iat)),expirationTime:ef(Bv(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Bv(t){return Number(t)*1e3}function Jw(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return Em("JWT malformed, contained fewer than 3 sections"),null;try{const s=wP(r);return s?JSON.parse(s):(Em("Failed to decode base64 JWT payload"),null)}catch(s){return Em("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function LE(t){const e=Jw(t);return Pe(e,"internal-error"),Pe(typeof e.exp<"u","internal-error"),Pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yu(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof Co&&SL(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function SL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=ef(this.lastLoginAt),this.creationTime=ef(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jg(t){var e;const r=t.auth,n=await t.getIdToken(),s=await yu(t,FP(r,{idToken:n}));Pe(s==null?void 0:s.users.length,r,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?VP(i.providerUserInfo):[],a=CL(t.providerData,o),c=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),d=c?u:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Rx(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function TL(t){const e=fr(t);await jg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function CL(t,e){return[...t.filter(n=>!e.some(s=>s.providerId===n.providerId)),...e]}function VP(t){return t.map(e=>{var{providerId:r}=e,n=pn(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kL(t,e){const r=await MP(t,{},async()=>{const n=Rh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=LP(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",OP.fetch()(o,{method:"POST",headers:a,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function NL(t,e){return Ai(t,"POST","/v2/accounts:revokeToken",ko(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pe(e.idToken,"internal-error"),Pe(typeof e.idToken<"u","internal-error"),Pe(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):LE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Pe(e.length!==0,"internal-error");const r=LE(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:s,expiresIn:i}=await kL(e,r);this.updateTokensAndExpiration(n,s,Number(i))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:s,expirationTime:i}=r,o=new Gc;return n&&(Pe(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),s&&(Pe(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Pe(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Gc,this.toJSON())}_performRefresh(){return to("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fo(t,e){Pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ro{constructor(e){var{uid:r,auth:n,stsTokenManager:s}=e,i=pn(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new EL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Rx(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const r=await yu(this,this.stsTokenManager.getToken(this.auth,e));return Pe(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return _L(this,e)}reload(){return TL(this)}_assign(e){this!==e&&(Pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new ro(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await jg(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(mi(this.auth.app))return Promise.reject(oo(this.auth));const e=await this.getIdToken();return await yu(this,wL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,s,i,o,a,c,u,d;const h=(n=r.displayName)!==null&&n!==void 0?n:void 0,p=(s=r.email)!==null&&s!==void 0?s:void 0,m=(i=r.phoneNumber)!==null&&i!==void 0?i:void 0,v=(o=r.photoURL)!==null&&o!==void 0?o:void 0,b=(a=r.tenantId)!==null&&a!==void 0?a:void 0,y=(c=r._redirectEventId)!==null&&c!==void 0?c:void 0,x=(u=r.createdAt)!==null&&u!==void 0?u:void 0,g=(d=r.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:w,emailVerified:I,isAnonymous:P,providerData:A,stsTokenManager:S}=r;Pe(w&&S,e,"internal-error");const E=Gc.fromJSON(this.name,S);Pe(typeof w=="string",e,"internal-error"),Fo(h,e.name),Fo(p,e.name),Pe(typeof I=="boolean",e,"internal-error"),Pe(typeof P=="boolean",e,"internal-error"),Fo(m,e.name),Fo(v,e.name),Fo(b,e.name),Fo(y,e.name),Fo(x,e.name),Fo(g,e.name);const C=new ro({uid:w,auth:e,email:p,emailVerified:I,displayName:h,isAnonymous:P,photoURL:v,phoneNumber:m,tenantId:b,stsTokenManager:E,createdAt:x,lastLoginAt:g});return A&&Array.isArray(A)&&(C.providerData=A.map(k=>Object.assign({},k))),y&&(C._redirectEventId=y),C}static async _fromIdTokenResponse(e,r,n=!1){const s=new Gc;s.updateFromServerResponse(r);const i=new ro({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:n});return await jg(i),i}static async _fromGetAccountInfoResponse(e,r,n){const s=r.users[0];Pe(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?VP(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Gc;a.updateFromIdToken(n);const c=new ro({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Rx(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE=new Map;function no(t){go(t instanceof Function,"Expected a class definition");let e=FE.get(t);return e?(go(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,FE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}$P.type="NONE";const VE=$P;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(t,e,r){return`firebase:${t}:${e}:${r}`}class Kc{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:s,name:i}=this.auth;this.fullUserKey=Tm(this.userKey,s.apiKey,i),this.fullPersistenceKey=Tm("persistence",s.apiKey,i),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ro._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Kc(no(VE),e,n);const s=(await Promise.all(r.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||no(VE);const o=Tm(n,e.config.apiKey,e.name);let a=null;for(const u of r)try{const d=await u._get(o);if(d){const h=ro._fromJSON(e,d);u!==i&&(a=h),i=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Kc(i,e,n):(i=c[0],a&&await i._set(o,a.toJSON()),await Promise.all(r.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new Kc(i,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(HP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(BP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qP(e))return"Blackberry";if(GP(e))return"Webos";if(zP(e))return"Safari";if((e.includes("chrome/")||UP(e))&&!e.includes("edge/"))return"Chrome";if(WP(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function BP(t=Zr()){return/firefox\//i.test(t)}function zP(t=Zr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function UP(t=Zr()){return/crios\//i.test(t)}function HP(t=Zr()){return/iemobile/i.test(t)}function WP(t=Zr()){return/android/i.test(t)}function qP(t=Zr()){return/blackberry/i.test(t)}function GP(t=Zr()){return/webos/i.test(t)}function Zw(t=Zr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function IL(t=Zr()){var e;return Zw(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function PL(){return U8()&&document.documentMode===10}function KP(t=Zr()){return Zw(t)||WP(t)||GP(t)||qP(t)||/windows phone/i.test(t)||HP(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QP(t,e=[]){let r;switch(t){case"Browser":r=$E(Zr());break;case"Worker":r=`${$E(Zr())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Vu}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=i=>new Promise((o,a)=>{try{const c=e(i);o(c)}catch(c){a(c)}});n.onAbort=r,this.queue.push(n);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const s of r)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jL(t,e={}){return Ai(t,"GET","/v2/passwordPolicy",ko(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL=6;class DL{constructor(e){var r,n,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=o.minPasswordLength)!==null&&r!==void 0?r:RL,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,s,i,o,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(r=c.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(n=c.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),s&&(r.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let s=0;s<e.length;s++)n=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e,r,n,s){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new BE(this),this.idTokenSubscription=new BE(this),this.beforeStateQueue=new AL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=RP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=no(r)),this._initializationPromise=this.queue(async()=>{var n,s;if(!this._deleted&&(this.persistenceManager=await Kc.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await FP(this,{idToken:e}),n=await ro._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(mi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,a=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await jg(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=pL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(mi(this.app))return Promise.reject(oo(this));const r=e?fr(e):null;return r&&Pe(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return mi(this.app)?Promise.reject(oo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return mi(this.app)?Promise.reject(oo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(no(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await jL(this),r=new DL(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new jh("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await NL(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&no(e)||this._popupRedirectResolver;Pe(r,this,"argument-error"),this.redirectPersistenceManager=await Kc.create(this,[no(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,s){if(this._deleted)return()=>{};const i=typeof r=="function"?r:r.next.bind(r);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pe(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof r=="function"){const c=e.addObserver(r,n,s);return()=>{o=!0,c()}}else{const c=e.addObserver(r);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=QP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&dL(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function Ra(t){return fr(t)}class BE{constructor(e){this.auth=e,this.observer=null,this.addObserver=X8(r=>this.observer=r)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let V0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ML(t){V0=t}function YP(t){return V0.loadJS(t)}function LL(){return V0.recaptchaEnterpriseScript}function FL(){return V0.gapiScript}function VL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const $L="recaptcha-enterprise",BL="NO_RECAPTCHA";class zL{constructor(e){this.type=$L,this.auth=Ra(e)}async verify(e="verify",r=!1){async function n(i){if(!r){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{xL(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new bL(c);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})})}function s(i,o,a){const c=window.grecaptcha;ME(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(BL)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{n(this.auth).then(a=>{if(!r&&ME(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=LL();c.length!==0&&(c+=a),YP(c).then(()=>{s(a,i,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function zE(t,e,r,n=!1){const s=new zL(t);let i;try{i=await s.verify(r)}catch{i=await s.verify(r,!0)}const o=Object.assign({},e);return n?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Rg(t,e,r,n){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await zE(t,e,r,r==="getOobCode");return n(t,i)}else return n(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await zE(t,e,r,r==="getOobCode");return n(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UL(t,e){const r=Qw(t,"auth");if(r.isInitialized()){const s=r.getImmediate(),i=r.getOptions();if(Ig(i,e??{}))return s;Ws(s,"already-initialized")}return r.initialize({options:e})}function HL(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(no);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function WL(t,e,r){const n=Ra(t);Pe(n._canInitEmulator,n,"emulator-config-failed"),Pe(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const s=!1,i=XP(e),{host:o,port:a}=qL(e),c=a===null?"":`:${a}`;n.config.emulator={url:`${i}//${o}${c}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),GL()}function XP(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function qL(t){const e=XP(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(n);if(s){const i=s[1];return{host:i,port:UE(n.substr(i.length+1))}}else{const[i,o]=n.split(":");return{host:i,port:UE(o)}}}function UE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function GL(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return to("not implemented")}_getIdTokenResponse(e){return to("not implemented")}_linkToIdToken(e,r){return to("not implemented")}_getReauthenticationResolver(e){return to("not implemented")}}async function KL(t,e){return Ai(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QL(t,e){return Oh(t,"POST","/v1/accounts:signInWithPassword",ko(t,e))}async function YL(t,e){return Ai(t,"POST","/v1/accounts:sendOobCode",ko(t,e))}async function XL(t,e){return YL(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JL(t,e){return Oh(t,"POST","/v1/accounts:signInWithEmailLink",ko(t,e))}async function ZL(t,e){return Oh(t,"POST","/v1/accounts:signInWithEmailLink",ko(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf extends e_{constructor(e,r,n,s=null){super("password",n),this._email=e,this._password=r,this._tenantId=s}static _fromEmailAndPassword(e,r){return new qf(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new qf(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rg(e,r,"signInWithPassword",QL);case"emailLink":return JL(e,{email:this._email,oobCode:this._password});default:Ws(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rg(e,n,"signUpPassword",KL);case"emailLink":return ZL(e,{idToken:r,email:this._email,oobCode:this._password});default:Ws(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qc(t,e){return Oh(t,"POST","/v1/accounts:signInWithIdp",ko(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eF="http://localhost";class Al extends e_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Al(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Ws("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:s}=r,i=pn(r,["providerId","signInMethod"]);if(!n||!s)return null;const o=new Al(n,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return Qc(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Qc(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Qc(e,r)}buildRequest(){const e={requestUri:eF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Rh(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tF(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function rF(t){const e=Ad(jd(t)).link,r=e?Ad(jd(e)).deep_link_id:null,n=Ad(jd(t)).deep_link_id;return(n?Ad(jd(n)).link:null)||n||r||e||t}class t_{constructor(e){var r,n,s,i,o,a;const c=Ad(jd(e)),u=(r=c.apiKey)!==null&&r!==void 0?r:null,d=(n=c.oobCode)!==null&&n!==void 0?n:null,h=tF((s=c.mode)!==null&&s!==void 0?s:null);Pe(u&&d&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=d,this.continueUrl=(i=c.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const r=rF(e);try{return new t_(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(){this.providerId=$u.PROVIDER_ID}static credential(e,r){return qf._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=t_.parseLink(r);return Pe(n,"argument-error"),qf._fromEmailAndCode(e,n.code,n.tenantId)}}$u.PROVIDER_ID="password";$u.EMAIL_PASSWORD_SIGN_IN_METHOD="password";$u.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh extends JP{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo extends Mh{constructor(){super("facebook.com")}static credential(e){return Al._fromParams({providerId:Jo.PROVIDER_ID,signInMethod:Jo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jo.credentialFromTaggedObject(e)}static credentialFromError(e){return Jo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jo.credential(e.oauthAccessToken)}catch{return null}}}Jo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Jo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo extends Mh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Al._fromParams({providerId:Zo.PROVIDER_ID,signInMethod:Zo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Zo.credentialFromTaggedObject(e)}static credentialFromError(e){return Zo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Zo.credential(r,n)}catch{return null}}}Zo.GOOGLE_SIGN_IN_METHOD="google.com";Zo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea extends Mh{constructor(){super("github.com")}static credential(e){return Al._fromParams({providerId:ea.PROVIDER_ID,signInMethod:ea.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ea.credentialFromTaggedObject(e)}static credentialFromError(e){return ea.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ea.credential(e.oauthAccessToken)}catch{return null}}}ea.GITHUB_SIGN_IN_METHOD="github.com";ea.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta extends Mh{constructor(){super("twitter.com")}static credential(e,r){return Al._fromParams({providerId:ta.PROVIDER_ID,signInMethod:ta.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return ta.credentialFromTaggedObject(e)}static credentialFromError(e){return ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return ta.credential(r,n)}catch{return null}}}ta.TWITTER_SIGN_IN_METHOD="twitter.com";ta.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nF(t,e){return Oh(t,"POST","/v1/accounts:signUp",ko(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,s=!1){const i=await ro._fromIdTokenResponse(e,n,s),o=HE(n);return new jl({user:i,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const s=HE(n);return new jl({user:e,providerId:s,_tokenResponse:n,operationType:r})}}function HE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg extends Co{constructor(e,r,n,s){var i;super(r.code,r.message),this.operationType=n,this.user=s,Object.setPrototypeOf(this,Dg.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,s){return new Dg(e,r,n,s)}}function ZP(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Dg._fromErrorAndOperation(t,i,e,n):i})}async function sF(t,e,r=!1){const n=await yu(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return jl._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iF(t,e,r=!1){const{auth:n}=t;if(mi(n.app))return Promise.reject(oo(n));const s="reauthenticate";try{const i=await yu(t,ZP(n,s,e,t),r);Pe(i.idToken,n,"internal-error");const o=Jw(i.idToken);Pe(o,n,"internal-error");const{sub:a}=o;return Pe(t.uid===a,n,"user-mismatch"),jl._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Ws(n,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eA(t,e,r=!1){if(mi(t.app))return Promise.reject(oo(t));const n="signIn",s=await ZP(t,n,e),i=await jl._fromIdTokenResponse(t,n,s);return r||await t._updateCurrentUser(i.user),i}async function oF(t,e){return eA(Ra(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tA(t){const e=Ra(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function aF(t,e,r){const n=Ra(t);await Rg(n,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",XL)}async function lF(t,e,r){if(mi(t.app))return Promise.reject(oo(t));const n=Ra(t),o=await Rg(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",nF).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&tA(t),c}),a=await jl._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(a.user),a}function cF(t,e,r){return mi(t.app)?Promise.reject(oo(t)):oF(fr(t),$u.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&tA(t),n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uF(t,e){return Ai(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dF(t,{displayName:e,photoURL:r}){if(e===void 0&&r===void 0)return;const n=fr(t),i={idToken:await n.getIdToken(),displayName:e,photoUrl:r,returnSecureToken:!0},o=await yu(n,uF(n.auth,i));n.displayName=o.displayName||null,n.photoURL=o.photoUrl||null;const a=n.providerData.find(({providerId:c})=>c==="password");a&&(a.displayName=n.displayName,a.photoURL=n.photoURL),await n._updateTokensIfNecessary(o)}function fF(t,e,r,n){return fr(t).onIdTokenChanged(e,r,n)}function hF(t,e,r){return fr(t).beforeAuthStateChanged(e,r)}function rA(t){return fr(t).signOut()}const Og="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Og,"1"),this.storage.removeItem(Og),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pF=1e3,mF=10;class sA extends nA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=KP(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),s=this.localCache[r];n!==s&&e(r,s,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const n=e.key;r?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},i=this.storage.getItem(n);PL()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,mF):s()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},pF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}sA.type="LOCAL";const gF=sA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA extends nA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}iA.type="SESSION";const oA=iA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(s=>s.isListeningto(e));if(r)return r;const n=new $0(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:s,data:i}=r.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:s});const a=Array.from(o).map(async u=>u(r.origin,i)),c=await yF(a);r.ports[0].postMessage({status:"done",eventId:n,eventType:s,response:c})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r_(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,c)=>{const u=r_("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},n);o={messageChannel:s,onMessage(h){const p=h;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(d),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:r},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(){return window}function bF(t){bi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aA(){return typeof bi().WorkerGlobalScope<"u"&&typeof bi().importScripts=="function"}async function xF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function wF(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function _F(){return aA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA="firebaseLocalStorageDb",SF=1,Mg="firebaseLocalStorage",cA="fbase_key";class Lh{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function B0(t,e){return t.transaction([Mg],e?"readwrite":"readonly").objectStore(Mg)}function EF(){const t=indexedDB.deleteDatabase(lA);return new Lh(t).toPromise()}function Dx(){const t=indexedDB.open(lA,SF);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Mg,{keyPath:cA})}catch(s){r(s)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Mg)?e(n):(n.close(),await EF(),e(await Dx()))})})}async function WE(t,e,r){const n=B0(t,!0).put({[cA]:e,value:r});return new Lh(n).toPromise()}async function TF(t,e){const r=B0(t,!1).get(e),n=await new Lh(r).toPromise();return n===void 0?null:n.value}function qE(t,e){const r=B0(t,!0).delete(e);return new Lh(r).toPromise()}const CF=800,kF=3;class uA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Dx(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>kF)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return aA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$0._getInstance(_F()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await xF(),!this.activeServiceWorker)return;this.sender=new vF(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||wF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Dx();return await WE(e,Og,"1"),await qE(e,Og),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>WE(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>TF(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>qE(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=B0(s,!1).getAll();return new Lh(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)n.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),r.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!n.has(s)&&(this.notifyListeners(s,null),r.push(s));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),CF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uA.type="LOCAL";const NF=uA;new Dh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IF(t,e){return e?no(e):(Pe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_ extends e_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qc(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Qc(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Qc(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function PF(t){return eA(t.auth,new n_(t),t.bypassAuthState)}function AF(t){const{auth:e,user:r}=t;return Pe(r,e,"internal-error"),iF(r,new n_(t),t.bypassAuthState)}async function jF(t){const{auth:e,user:r}=t;return Pe(r,e,"internal-error"),sF(r,new n_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e,r,n,s,i=!1){this.auth=e,this.resolver=n,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:r,sessionId:n,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return PF;case"linkViaPopup":case"linkViaRedirect":return jF;case"reauthViaPopup":case"reauthViaRedirect":return AF;default:Ws(this.auth,"internal-error")}}resolve(e){go(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){go(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RF=new Dh(2e3,1e4);class Ac extends dA{constructor(e,r,n,s,i){super(e,r,s,i),this.provider=n,this.authWindow=null,this.pollId=null,Ac.currentPopupAction&&Ac.currentPopupAction.cancel(),Ac.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pe(e,this.auth,"internal-error"),e}async onExecution(){go(this.filter.length===1,"Popup operations only handle one event");const e=r_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ac.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,RF.get())};e()}}Ac.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DF="pendingRedirect",Cm=new Map;class OF extends dA{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=Cm.get(this.auth._key());if(!e){try{const n=await MF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}Cm.set(this.auth._key(),e)}return this.bypassAuthState||Cm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function MF(t,e){const r=VF(e),n=FF(t);if(!await n._isAvailable())return!1;const s=await n._get(r)==="true";return await n._remove(r),s}function LF(t,e){Cm.set(t._key(),e)}function FF(t){return no(t._redirectPersistence)}function VF(t){return Tm(DF,t.config.apiKey,t.name)}async function $F(t,e,r=!1){if(mi(t.app))return Promise.reject(oo(t));const n=Ra(t),s=IF(n,e),o=await new OF(n,s,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BF=10*60*1e3;class zF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!UF(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!fA(e)){const s=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(vi(this.auth,s))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=BF&&this.cachedEventUids.clear(),this.cachedEventUids.has(GE(e))}saveEventToCache(e){this.cachedEventUids.add(GE(e)),this.lastProcessedEventTime=Date.now()}}function GE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function fA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function UF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HF(t,e={}){return Ai(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qF=/^https?/;async function GF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await HF(t);for(const r of e)try{if(KF(r))return}catch{}Ws(t,"unauthorized-domain")}function KF(t){const e=jx(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!qF.test(r))return!1;if(WF.test(t))return n===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QF=new Dh(3e4,6e4);function KE(){const t=bi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function YF(t){return new Promise((e,r)=>{var n,s,i;function o(){KE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{KE(),r(vi(t,"network-request-failed"))},timeout:QF.get()})}if(!((s=(n=bi().gapi)===null||n===void 0?void 0:n.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=bi().gapi)===null||i===void 0)&&i.load)o();else{const a=VL("iframefcb");return bi()[a]=()=>{gapi.load?o():r(vi(t,"network-request-failed"))},YP(`${FL()}?onload=${a}`).catch(c=>r(c))}}).catch(e=>{throw km=null,e})}let km=null;function XF(t){return km=km||YF(t),km}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JF=new Dh(5e3,15e3),ZF="__/auth/iframe",e9="emulator/auth/iframe",t9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},r9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function n9(t){const e=t.config;Pe(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?Xw(e,e9):`https://${t.config.authDomain}/${ZF}`,n={apiKey:e.apiKey,appName:t.name,v:Vu},s=r9.get(t.config.apiHost);s&&(n.eid=s);const i=t._getFrameworks();return i.length&&(n.fw=i.join(",")),`${r}?${Rh(n).slice(1)}`}async function s9(t){const e=await XF(t),r=bi().gapi;return Pe(r,t,"internal-error"),e.open({where:document.body,url:n9(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:t9,dontclear:!0},n=>new Promise(async(s,i)=>{await n.restyle({setHideOnLeave:!1});const o=vi(t,"network-request-failed"),a=bi().setTimeout(()=>{i(o)},JF.get());function c(){bi().clearTimeout(a),s(n)}n.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},o9=500,a9=600,l9="_blank",c9="http://localhost";class QE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function u9(t,e,r,n=o9,s=a9){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let a="";const c=Object.assign(Object.assign({},i9),{width:n.toString(),height:s.toString(),top:i,left:o}),u=Zr().toLowerCase();r&&(a=UP(u)?l9:r),BP(u)&&(e=e||c9,c.scrollbars="yes");const d=Object.entries(c).reduce((p,[m,v])=>`${p}${m}=${v},`,"");if(IL(u)&&a!=="_self")return d9(e||"",a),new QE(null);const h=window.open(e||"",a,d);Pe(h,t,"popup-blocked");try{h.focus()}catch{}return new QE(h)}function d9(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f9="__/auth/handler",h9="emulator/auth/handler",p9=encodeURIComponent("fac");async function YE(t,e,r,n,s,i){Pe(t.config.authDomain,t,"auth-domain-config-required"),Pe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Vu,eventId:s};if(e instanceof JP){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Y8(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof Mh){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const c=await t._getAppCheckToken(),u=c?`#${p9}=${encodeURIComponent(c)}`:"";return`${m9(t)}?${Rh(a).slice(1)}${u}`}function m9({config:t}){return t.emulator?Xw(t,h9):`https://${t.authDomain}/${f9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv="webStorageSupport";class g9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oA,this._completeRedirectFn=$F,this._overrideRedirectResult=LF}async _openPopup(e,r,n,s){var i;go((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await YE(e,r,n,jx(),s);return u9(e,o,r_())}async _openRedirect(e,r,n,s){await this._originValidation(e);const i=await YE(e,r,n,jx(),s);return bF(i),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:s,promise:i}=this.eventManagers[r];return s?Promise.resolve(s):(go(i,"If manager is not set, promise should be"),i)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await s9(e),n=new zF(e);return r.register("authEvent",s=>(Pe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:n.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(zv,{type:zv},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[zv];o!==void 0&&r(!!o),Ws(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=GF(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return KP()||zP()||Zw()}}const y9=g9;var XE="@firebase/auth",JE="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function x9(t){gu(new Pl("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=n.options;Pe(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:QP(t)},u=new OL(n,s,i,c);return HL(u,r),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),gu(new Pl("auth-internal",e=>{const r=Ra(e.getProvider("auth").getImmediate());return(n=>new v9(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),wa(XE,JE,b9(t)),wa(XE,JE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w9=5*60,_9=EP("authIdTokenMaxAge")||w9;let ZE=null;const S9=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>_9)return;const s=r==null?void 0:r.token;ZE!==s&&(ZE=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function E9(t=NP()){const e=Qw(t,"auth");if(e.isInitialized())return e.getImmediate();const r=UL(t,{popupRedirectResolver:y9,persistence:[NF,gF,oA]}),n=EP("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(n,location.origin);if(location.origin===i.origin){const o=S9(i.toString());hF(r,o,()=>o(r.currentUser)),fF(r,a=>o(a))}}const s=_P("auth");return s&&WL(r,`http://${s}`),r}function T9(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}ML({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=s=>{const i=vi("internal-error");i.customData=s,r(i)},n.type="text/javascript",n.charset="UTF-8",T9().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});x9("Browser");var eT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yl,hA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,E){function C(){}C.prototype=E.prototype,S.D=E.prototype,S.prototype=new C,S.prototype.constructor=S,S.C=function(k,j,O){for(var D=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)D[ue-2]=arguments[ue];return E.prototype[j].apply(k,D)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(S,E,C){C||(C=0);var k=Array(16);if(typeof E=="string")for(var j=0;16>j;++j)k[j]=E.charCodeAt(C++)|E.charCodeAt(C++)<<8|E.charCodeAt(C++)<<16|E.charCodeAt(C++)<<24;else for(j=0;16>j;++j)k[j]=E[C++]|E[C++]<<8|E[C++]<<16|E[C++]<<24;E=S.g[0],C=S.g[1],j=S.g[2];var O=S.g[3],D=E+(O^C&(j^O))+k[0]+3614090360&4294967295;E=C+(D<<7&4294967295|D>>>25),D=O+(j^E&(C^j))+k[1]+3905402710&4294967295,O=E+(D<<12&4294967295|D>>>20),D=j+(C^O&(E^C))+k[2]+606105819&4294967295,j=O+(D<<17&4294967295|D>>>15),D=C+(E^j&(O^E))+k[3]+3250441966&4294967295,C=j+(D<<22&4294967295|D>>>10),D=E+(O^C&(j^O))+k[4]+4118548399&4294967295,E=C+(D<<7&4294967295|D>>>25),D=O+(j^E&(C^j))+k[5]+1200080426&4294967295,O=E+(D<<12&4294967295|D>>>20),D=j+(C^O&(E^C))+k[6]+2821735955&4294967295,j=O+(D<<17&4294967295|D>>>15),D=C+(E^j&(O^E))+k[7]+4249261313&4294967295,C=j+(D<<22&4294967295|D>>>10),D=E+(O^C&(j^O))+k[8]+1770035416&4294967295,E=C+(D<<7&4294967295|D>>>25),D=O+(j^E&(C^j))+k[9]+2336552879&4294967295,O=E+(D<<12&4294967295|D>>>20),D=j+(C^O&(E^C))+k[10]+4294925233&4294967295,j=O+(D<<17&4294967295|D>>>15),D=C+(E^j&(O^E))+k[11]+2304563134&4294967295,C=j+(D<<22&4294967295|D>>>10),D=E+(O^C&(j^O))+k[12]+1804603682&4294967295,E=C+(D<<7&4294967295|D>>>25),D=O+(j^E&(C^j))+k[13]+4254626195&4294967295,O=E+(D<<12&4294967295|D>>>20),D=j+(C^O&(E^C))+k[14]+2792965006&4294967295,j=O+(D<<17&4294967295|D>>>15),D=C+(E^j&(O^E))+k[15]+1236535329&4294967295,C=j+(D<<22&4294967295|D>>>10),D=E+(j^O&(C^j))+k[1]+4129170786&4294967295,E=C+(D<<5&4294967295|D>>>27),D=O+(C^j&(E^C))+k[6]+3225465664&4294967295,O=E+(D<<9&4294967295|D>>>23),D=j+(E^C&(O^E))+k[11]+643717713&4294967295,j=O+(D<<14&4294967295|D>>>18),D=C+(O^E&(j^O))+k[0]+3921069994&4294967295,C=j+(D<<20&4294967295|D>>>12),D=E+(j^O&(C^j))+k[5]+3593408605&4294967295,E=C+(D<<5&4294967295|D>>>27),D=O+(C^j&(E^C))+k[10]+38016083&4294967295,O=E+(D<<9&4294967295|D>>>23),D=j+(E^C&(O^E))+k[15]+3634488961&4294967295,j=O+(D<<14&4294967295|D>>>18),D=C+(O^E&(j^O))+k[4]+3889429448&4294967295,C=j+(D<<20&4294967295|D>>>12),D=E+(j^O&(C^j))+k[9]+568446438&4294967295,E=C+(D<<5&4294967295|D>>>27),D=O+(C^j&(E^C))+k[14]+3275163606&4294967295,O=E+(D<<9&4294967295|D>>>23),D=j+(E^C&(O^E))+k[3]+4107603335&4294967295,j=O+(D<<14&4294967295|D>>>18),D=C+(O^E&(j^O))+k[8]+1163531501&4294967295,C=j+(D<<20&4294967295|D>>>12),D=E+(j^O&(C^j))+k[13]+2850285829&4294967295,E=C+(D<<5&4294967295|D>>>27),D=O+(C^j&(E^C))+k[2]+4243563512&4294967295,O=E+(D<<9&4294967295|D>>>23),D=j+(E^C&(O^E))+k[7]+1735328473&4294967295,j=O+(D<<14&4294967295|D>>>18),D=C+(O^E&(j^O))+k[12]+2368359562&4294967295,C=j+(D<<20&4294967295|D>>>12),D=E+(C^j^O)+k[5]+4294588738&4294967295,E=C+(D<<4&4294967295|D>>>28),D=O+(E^C^j)+k[8]+2272392833&4294967295,O=E+(D<<11&4294967295|D>>>21),D=j+(O^E^C)+k[11]+1839030562&4294967295,j=O+(D<<16&4294967295|D>>>16),D=C+(j^O^E)+k[14]+4259657740&4294967295,C=j+(D<<23&4294967295|D>>>9),D=E+(C^j^O)+k[1]+2763975236&4294967295,E=C+(D<<4&4294967295|D>>>28),D=O+(E^C^j)+k[4]+1272893353&4294967295,O=E+(D<<11&4294967295|D>>>21),D=j+(O^E^C)+k[7]+4139469664&4294967295,j=O+(D<<16&4294967295|D>>>16),D=C+(j^O^E)+k[10]+3200236656&4294967295,C=j+(D<<23&4294967295|D>>>9),D=E+(C^j^O)+k[13]+681279174&4294967295,E=C+(D<<4&4294967295|D>>>28),D=O+(E^C^j)+k[0]+3936430074&4294967295,O=E+(D<<11&4294967295|D>>>21),D=j+(O^E^C)+k[3]+3572445317&4294967295,j=O+(D<<16&4294967295|D>>>16),D=C+(j^O^E)+k[6]+76029189&4294967295,C=j+(D<<23&4294967295|D>>>9),D=E+(C^j^O)+k[9]+3654602809&4294967295,E=C+(D<<4&4294967295|D>>>28),D=O+(E^C^j)+k[12]+3873151461&4294967295,O=E+(D<<11&4294967295|D>>>21),D=j+(O^E^C)+k[15]+530742520&4294967295,j=O+(D<<16&4294967295|D>>>16),D=C+(j^O^E)+k[2]+3299628645&4294967295,C=j+(D<<23&4294967295|D>>>9),D=E+(j^(C|~O))+k[0]+4096336452&4294967295,E=C+(D<<6&4294967295|D>>>26),D=O+(C^(E|~j))+k[7]+1126891415&4294967295,O=E+(D<<10&4294967295|D>>>22),D=j+(E^(O|~C))+k[14]+2878612391&4294967295,j=O+(D<<15&4294967295|D>>>17),D=C+(O^(j|~E))+k[5]+4237533241&4294967295,C=j+(D<<21&4294967295|D>>>11),D=E+(j^(C|~O))+k[12]+1700485571&4294967295,E=C+(D<<6&4294967295|D>>>26),D=O+(C^(E|~j))+k[3]+2399980690&4294967295,O=E+(D<<10&4294967295|D>>>22),D=j+(E^(O|~C))+k[10]+4293915773&4294967295,j=O+(D<<15&4294967295|D>>>17),D=C+(O^(j|~E))+k[1]+2240044497&4294967295,C=j+(D<<21&4294967295|D>>>11),D=E+(j^(C|~O))+k[8]+1873313359&4294967295,E=C+(D<<6&4294967295|D>>>26),D=O+(C^(E|~j))+k[15]+4264355552&4294967295,O=E+(D<<10&4294967295|D>>>22),D=j+(E^(O|~C))+k[6]+2734768916&4294967295,j=O+(D<<15&4294967295|D>>>17),D=C+(O^(j|~E))+k[13]+1309151649&4294967295,C=j+(D<<21&4294967295|D>>>11),D=E+(j^(C|~O))+k[4]+4149444226&4294967295,E=C+(D<<6&4294967295|D>>>26),D=O+(C^(E|~j))+k[11]+3174756917&4294967295,O=E+(D<<10&4294967295|D>>>22),D=j+(E^(O|~C))+k[2]+718787259&4294967295,j=O+(D<<15&4294967295|D>>>17),D=C+(O^(j|~E))+k[9]+3951481745&4294967295,S.g[0]=S.g[0]+E&4294967295,S.g[1]=S.g[1]+(j+(D<<21&4294967295|D>>>11))&4294967295,S.g[2]=S.g[2]+j&4294967295,S.g[3]=S.g[3]+O&4294967295}n.prototype.u=function(S,E){E===void 0&&(E=S.length);for(var C=E-this.blockSize,k=this.B,j=this.h,O=0;O<E;){if(j==0)for(;O<=C;)s(this,S,O),O+=this.blockSize;if(typeof S=="string"){for(;O<E;)if(k[j++]=S.charCodeAt(O++),j==this.blockSize){s(this,k),j=0;break}}else for(;O<E;)if(k[j++]=S[O++],j==this.blockSize){s(this,k),j=0;break}}this.h=j,this.o+=E},n.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var E=1;E<S.length-8;++E)S[E]=0;var C=8*this.o;for(E=S.length-8;E<S.length;++E)S[E]=C&255,C/=256;for(this.u(S),S=Array(16),E=C=0;4>E;++E)for(var k=0;32>k;k+=8)S[C++]=this.g[E]>>>k&255;return S};function i(S,E){var C=a;return Object.prototype.hasOwnProperty.call(C,S)?C[S]:C[S]=E(S)}function o(S,E){this.h=E;for(var C=[],k=!0,j=S.length-1;0<=j;j--){var O=S[j]|0;k&&O==E||(C[j]=O,k=!1)}this.g=C}var a={};function c(S){return-128<=S&&128>S?i(S,function(E){return new o([E|0],0>E?-1:0)}):new o([S|0],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return h;if(0>S)return y(u(-S));for(var E=[],C=1,k=0;S>=C;k++)E[k]=S/C|0,C*=4294967296;return new o(E,0)}function d(S,E){if(S.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(S.charAt(0)=="-")return y(d(S.substring(1),E));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=u(Math.pow(E,8)),k=h,j=0;j<S.length;j+=8){var O=Math.min(8,S.length-j),D=parseInt(S.substring(j,j+O),E);8>O?(O=u(Math.pow(E,O)),k=k.j(O).add(u(D))):(k=k.j(C),k=k.add(u(D)))}return k}var h=c(0),p=c(1),m=c(16777216);t=o.prototype,t.m=function(){if(b(this))return-y(this).m();for(var S=0,E=1,C=0;C<this.g.length;C++){var k=this.i(C);S+=(0<=k?k:4294967296+k)*E,E*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(v(this))return"0";if(b(this))return"-"+y(this).toString(S);for(var E=u(Math.pow(S,6)),C=this,k="";;){var j=I(C,E).g;C=x(C,j.j(E));var O=((0<C.g.length?C.g[0]:C.h)>>>0).toString(S);if(C=j,v(C))return O+k;for(;6>O.length;)O="0"+O;k=O+k}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function v(S){if(S.h!=0)return!1;for(var E=0;E<S.g.length;E++)if(S.g[E]!=0)return!1;return!0}function b(S){return S.h==-1}t.l=function(S){return S=x(this,S),b(S)?-1:v(S)?0:1};function y(S){for(var E=S.g.length,C=[],k=0;k<E;k++)C[k]=~S.g[k];return new o(C,~S.h).add(p)}t.abs=function(){return b(this)?y(this):this},t.add=function(S){for(var E=Math.max(this.g.length,S.g.length),C=[],k=0,j=0;j<=E;j++){var O=k+(this.i(j)&65535)+(S.i(j)&65535),D=(O>>>16)+(this.i(j)>>>16)+(S.i(j)>>>16);k=D>>>16,O&=65535,D&=65535,C[j]=D<<16|O}return new o(C,C[C.length-1]&-2147483648?-1:0)};function x(S,E){return S.add(y(E))}t.j=function(S){if(v(this)||v(S))return h;if(b(this))return b(S)?y(this).j(y(S)):y(y(this).j(S));if(b(S))return y(this.j(y(S)));if(0>this.l(m)&&0>S.l(m))return u(this.m()*S.m());for(var E=this.g.length+S.g.length,C=[],k=0;k<2*E;k++)C[k]=0;for(k=0;k<this.g.length;k++)for(var j=0;j<S.g.length;j++){var O=this.i(k)>>>16,D=this.i(k)&65535,ue=S.i(j)>>>16,V=S.i(j)&65535;C[2*k+2*j]+=D*V,g(C,2*k+2*j),C[2*k+2*j+1]+=O*V,g(C,2*k+2*j+1),C[2*k+2*j+1]+=D*ue,g(C,2*k+2*j+1),C[2*k+2*j+2]+=O*ue,g(C,2*k+2*j+2)}for(k=0;k<E;k++)C[k]=C[2*k+1]<<16|C[2*k];for(k=E;k<2*E;k++)C[k]=0;return new o(C,0)};function g(S,E){for(;(S[E]&65535)!=S[E];)S[E+1]+=S[E]>>>16,S[E]&=65535,E++}function w(S,E){this.g=S,this.h=E}function I(S,E){if(v(E))throw Error("division by zero");if(v(S))return new w(h,h);if(b(S))return E=I(y(S),E),new w(y(E.g),y(E.h));if(b(E))return E=I(S,y(E)),new w(y(E.g),E.h);if(30<S.g.length){if(b(S)||b(E))throw Error("slowDivide_ only works with positive integers.");for(var C=p,k=E;0>=k.l(S);)C=P(C),k=P(k);var j=A(C,1),O=A(k,1);for(k=A(k,2),C=A(C,2);!v(k);){var D=O.add(k);0>=D.l(S)&&(j=j.add(C),O=D),k=A(k,1),C=A(C,1)}return E=x(S,j.j(E)),new w(j,E)}for(j=h;0<=S.l(E);){for(C=Math.max(1,Math.floor(S.m()/E.m())),k=Math.ceil(Math.log(C)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),O=u(C),D=O.j(E);b(D)||0<D.l(S);)C-=k,O=u(C),D=O.j(E);v(O)&&(O=p),j=j.add(O),S=x(S,D)}return new w(j,S)}t.A=function(S){return I(this,S).h},t.and=function(S){for(var E=Math.max(this.g.length,S.g.length),C=[],k=0;k<E;k++)C[k]=this.i(k)&S.i(k);return new o(C,this.h&S.h)},t.or=function(S){for(var E=Math.max(this.g.length,S.g.length),C=[],k=0;k<E;k++)C[k]=this.i(k)|S.i(k);return new o(C,this.h|S.h)},t.xor=function(S){for(var E=Math.max(this.g.length,S.g.length),C=[],k=0;k<E;k++)C[k]=this.i(k)^S.i(k);return new o(C,this.h^S.h)};function P(S){for(var E=S.g.length+1,C=[],k=0;k<E;k++)C[k]=S.i(k)<<1|S.i(k-1)>>>31;return new o(C,S.h)}function A(S,E){var C=E>>5;E%=32;for(var k=S.g.length-C,j=[],O=0;O<k;O++)j[O]=0<E?S.i(O+C)>>>E|S.i(O+C+1)<<32-E:S.i(O+C);return new o(j,S.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,hA=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,yl=o}).apply(typeof eT<"u"?eT:typeof self<"u"?self:typeof window<"u"?window:{});var Bp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pA,Rd,mA,Nm,Ox,gA,yA,vA;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,_,N){return f==Array.prototype||f==Object.prototype||(f[_]=N.value),f};function r(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bp=="object"&&Bp];for(var _=0;_<f.length;++_){var N=f[_];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var n=r(this);function s(f,_){if(_)e:{var N=n;f=f.split(".");for(var R=0;R<f.length-1;R++){var H=f[R];if(!(H in N))break e;N=N[H]}f=f[f.length-1],R=N[f],_=_(R),_!=R&&_!=null&&e(N,f,{configurable:!0,writable:!0,value:_})}}function i(f,_){f instanceof String&&(f+="");var N=0,R=!1,H={next:function(){if(!R&&N<f.length){var Q=N++;return{value:_(Q,f[Q]),done:!1}}return R=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}s("Array.prototype.values",function(f){return f||function(){return i(this,function(_,N){return N})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function c(f){var _=typeof f;return _=_!="object"?_:f?Array.isArray(f)?"array":_:"null",_=="array"||_=="object"&&typeof f.length=="number"}function u(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function d(f,_,N){return f.call.apply(f.bind,arguments)}function h(f,_,N){if(!f)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,R),f.apply(_,H)}}return function(){return f.apply(_,arguments)}}function p(f,_,N){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,p.apply(null,arguments)}function m(f,_){var N=Array.prototype.slice.call(arguments,1);return function(){var R=N.slice();return R.push.apply(R,arguments),f.apply(this,R)}}function v(f,_){function N(){}N.prototype=_.prototype,f.aa=_.prototype,f.prototype=new N,f.prototype.constructor=f,f.Qb=function(R,H,Q){for(var ce=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)ce[wt-2]=arguments[wt];return _.prototype[H].apply(R,ce)}}function b(f){const _=f.length;if(0<_){const N=Array(_);for(let R=0;R<_;R++)N[R]=f[R];return N}return[]}function y(f,_){for(let N=1;N<arguments.length;N++){const R=arguments[N];if(c(R)){const H=f.length||0,Q=R.length||0;f.length=H+Q;for(let ce=0;ce<Q;ce++)f[H+ce]=R[ce]}else f.push(R)}}class x{constructor(_,N){this.i=_,this.j=N,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function g(f){return/^[\s\xa0]*$/.test(f)}function w(){var f=a.navigator;return f&&(f=f.userAgent)?f:""}function I(f){return I[" "](f),f}I[" "]=function(){};var P=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function A(f,_,N){for(const R in f)_.call(N,f[R],R,f)}function S(f,_){for(const N in f)_.call(void 0,f[N],N,f)}function E(f){const _={};for(const N in f)_[N]=f[N];return _}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(f,_){let N,R;for(let H=1;H<arguments.length;H++){R=arguments[H];for(N in R)f[N]=R[N];for(let Q=0;Q<C.length;Q++)N=C[Q],Object.prototype.hasOwnProperty.call(R,N)&&(f[N]=R[N])}}function j(f){var _=1;f=f.split(":");const N=[];for(;0<_&&f.length;)N.push(f.shift()),_--;return f.length&&N.push(f.join(":")),N}function O(f){a.setTimeout(()=>{throw f},0)}function D(){var f=Z;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class ue{constructor(){this.h=this.g=null}add(_,N){const R=V.get();R.set(_,N),this.h?this.h.next=R:this.g=R,this.h=R}}var V=new x(()=>new B,f=>f.reset());class B{constructor(){this.next=this.g=this.h=null}set(_,N){this.h=_,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let G,U=!1,Z=new ue,re=()=>{const f=a.Promise.resolve(void 0);G=()=>{f.then(me)}};var me=()=>{for(var f;f=D();){try{f.h.call(f.g)}catch(N){O(N)}var _=V;_.j(f),100>_.h&&(_.h++,f.next=_.g,_.g=f)}U=!1};function ae(){this.s=this.s,this.C=this.C}ae.prototype.s=!1,ae.prototype.ma=function(){this.s||(this.s=!0,this.N())},ae.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var X=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const N=()=>{};a.addEventListener("test",N,_),a.removeEventListener("test",N,_)}catch{}return f}();function ee(f,_){if(J.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var N=this.type=f.type,R=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget){if(P){e:{try{I(_.nodeName);var H=!0;break e}catch{}H=!1}H||(_=null)}}else N=="mouseover"?_=f.fromElement:N=="mouseout"&&(_=f.toElement);this.relatedTarget=_,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:we[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&ee.aa.h.call(this)}}v(ee,J);var we={2:"touch",3:"pen",4:"mouse"};ee.prototype.h=function(){ee.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Le="closure_listenable_"+(1e6*Math.random()|0),tt=0;function pr(f,_,N,R,H){this.listener=f,this.proxy=null,this.src=_,this.type=N,this.capture=!!R,this.ha=H,this.key=++tt,this.da=this.fa=!1}function Mr(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Sr(f){this.src=f,this.g={},this.h=0}Sr.prototype.add=function(f,_,N,R,H){var Q=f.toString();f=this.g[Q],f||(f=this.g[Q]=[],this.h++);var ce=Nt(f,_,R,H);return-1<ce?(_=f[ce],N||(_.fa=!1)):(_=new pr(_,this.src,Q,!!R,H),_.fa=N,f.push(_)),_};function Ne(f,_){var N=_.type;if(N in f.g){var R=f.g[N],H=Array.prototype.indexOf.call(R,_,void 0),Q;(Q=0<=H)&&Array.prototype.splice.call(R,H,1),Q&&(Mr(_),f.g[N].length==0&&(delete f.g[N],f.h--))}}function Nt(f,_,N,R){for(var H=0;H<f.length;++H){var Q=f[H];if(!Q.da&&Q.listener==_&&Q.capture==!!N&&Q.ha==R)return H}return-1}var Se="closure_lm_"+(1e6*Math.random()|0),Rt={};function _t(f,_,N,R,H){if(Array.isArray(_)){for(var Q=0;Q<_.length;Q++)_t(f,_[Q],N,R,H);return null}return N=gn(N),f&&f[Le]?f.K(_,N,u(R)?!!R.capture:!1,H):Mn(f,_,N,!1,R,H)}function Mn(f,_,N,R,H,Q){if(!_)throw Error("Invalid event type");var ce=u(H)?!!H.capture:!!H,wt=Er(f);if(wt||(f[Se]=wt=new Sr(f)),N=wt.add(_,N,R,ce,Q),N.proxy)return N;if(R=$a(),N.proxy=R,R.src=f,R.listener=N,f.addEventListener)X||(H=ce),H===void 0&&(H=!1),f.addEventListener(_.toString(),R,H);else if(f.attachEvent)f.attachEvent(Ln(_.toString()),R);else if(f.addListener&&f.removeListener)f.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return N}function $a(){function f(N){return _.call(f.src,f.listener,N)}const _=Ts;return f}function Di(f,_,N,R,H){if(Array.isArray(_))for(var Q=0;Q<_.length;Q++)Di(f,_[Q],N,R,H);else R=u(R)?!!R.capture:!!R,N=gn(N),f&&f[Le]?(f=f.i,_=String(_).toString(),_ in f.g&&(Q=f.g[_],N=Nt(Q,N,R,H),-1<N&&(Mr(Q[N]),Array.prototype.splice.call(Q,N,1),Q.length==0&&(delete f.g[_],f.h--)))):f&&(f=Er(f))&&(_=f.g[_.toString()],f=-1,_&&(f=Nt(_,N,R,H)),(N=-1<f?_[f]:null)&&mr(N))}function mr(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[Le])Ne(_.i,f);else{var N=f.type,R=f.proxy;_.removeEventListener?_.removeEventListener(N,R,f.capture):_.detachEvent?_.detachEvent(Ln(N),R):_.addListener&&_.removeListener&&_.removeListener(R),(N=Er(_))?(Ne(N,f),N.h==0&&(N.src=null,_[Se]=null)):Mr(f)}}}function Ln(f){return f in Rt?Rt[f]:Rt[f]="on"+f}function Ts(f,_){if(f.da)f=!0;else{_=new ee(_,this);var N=f.listener,R=f.ha||f.src;f.fa&&mr(f),f=N.call(R,_)}return f}function Er(f){return f=f[Se],f instanceof Sr?f:null}var gr="__closure_events_fn_"+(1e9*Math.random()>>>0);function gn(f){return typeof f=="function"?f:(f[gr]||(f[gr]=function(_){return f.handleEvent(_)}),f[gr])}function Dt(){ae.call(this),this.i=new Sr(this),this.M=this,this.F=null}v(Dt,ae),Dt.prototype[Le]=!0,Dt.prototype.removeEventListener=function(f,_,N,R){Di(this,f,_,N,R)};function Ot(f,_){var N,R=f.F;if(R)for(N=[];R;R=R.F)N.push(R);if(f=f.M,R=_.type||_,typeof _=="string")_=new J(_,f);else if(_ instanceof J)_.target=_.target||f;else{var H=_;_=new J(R,f),k(_,H)}if(H=!0,N)for(var Q=N.length-1;0<=Q;Q--){var ce=_.g=N[Q];H=Kt(ce,R,!0,_)&&H}if(ce=_.g=f,H=Kt(ce,R,!0,_)&&H,H=Kt(ce,R,!1,_)&&H,N)for(Q=0;Q<N.length;Q++)ce=_.g=N[Q],H=Kt(ce,R,!1,_)&&H}Dt.prototype.N=function(){if(Dt.aa.N.call(this),this.i){var f=this.i,_;for(_ in f.g){for(var N=f.g[_],R=0;R<N.length;R++)Mr(N[R]);delete f.g[_],f.h--}}this.F=null},Dt.prototype.K=function(f,_,N,R){return this.i.add(String(f),_,!1,N,R)},Dt.prototype.L=function(f,_,N,R){return this.i.add(String(f),_,!0,N,R)};function Kt(f,_,N,R){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();for(var H=!0,Q=0;Q<_.length;++Q){var ce=_[Q];if(ce&&!ce.da&&ce.capture==N){var wt=ce.listener,Tr=ce.ha||ce.src;ce.fa&&Ne(f.i,ce),H=wt.call(Tr,R)!==!1&&H}}return H&&!R.defaultPrevented}function tn(f,_,N){if(typeof f=="function")N&&(f=p(f,N));else if(f&&typeof f.handleEvent=="function")f=p(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:a.setTimeout(f,_||0)}function jo(f){f.g=tn(()=>{f.g=null,f.i&&(f.i=!1,jo(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class Oi extends ae{constructor(_,N){super(),this.m=_,this.l=N,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:jo(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ys(f){ae.call(this),this.h=f,this.g={}}v(Ys,ae);var Fn=[];function Ba(f){A(f.g,function(_,N){this.g.hasOwnProperty(N)&&mr(_)},f),f.g={}}Ys.prototype.N=function(){Ys.aa.N.call(this),Ba(this)},Ys.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yn=a.JSON.stringify,Mi=a.JSON.parse,nd=class{stringify(f){return a.JSON.stringify(f,void 0)}parse(f){return a.JSON.parse(f,void 0)}};function Li(){}Li.prototype.h=null;function Fi(f){return f.h||(f.h=f.i())}function Ro(){}var rn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Vi(){J.call(this,"d")}v(Vi,J);function Vn(){J.call(this,"c")}v(Vn,J);var ns={},Yl=null;function $i(){return Yl=Yl||new Dt}ns.La="serverreachability";function Bi(f){J.call(this,ns.La,f)}v(Bi,J);function ss(f){const _=$i();Ot(_,new Bi(_))}ns.STAT_EVENT="statevent";function vn(f,_){J.call(this,ns.STAT_EVENT,f),this.stat=_}v(vn,J);function or(f){const _=$i();Ot(_,new vn(_,f))}ns.Ma="timingevent";function L(f,_){J.call(this,ns.Ma,f),this.size=_}v(L,J);function z(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){f()},_)}function W(){this.g=!0}W.prototype.xa=function(){this.g=!1};function ne(f,_,N,R,H,Q){f.info(function(){if(f.g)if(Q)for(var ce="",wt=Q.split("&"),Tr=0;Tr<wt.length;Tr++){var Ze=wt[Tr].split("=");if(1<Ze.length){var $r=Ze[0];Ze=Ze[1];var Br=$r.split("_");ce=2<=Br.length&&Br[1]=="type"?ce+($r+"="+Ze+"&"):ce+($r+"=redacted&")}}else ce=null;else ce=Q;return"XMLHTTP REQ ("+R+") [attempt "+H+"]: "+_+`
`+N+`
`+ce})}function le(f,_,N,R,H,Q,ce){f.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+H+"]: "+_+`
`+N+`
`+Q+" "+ce})}function be(f,_,N,R){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+ge(f,N)+(R?" "+R:"")})}function Ce(f,_){f.info(function(){return"TIMEOUT: "+_})}W.prototype.info=function(){};function ge(f,_){if(!f.g)return _;if(!_)return null;try{var N=JSON.parse(_);if(N){for(f=0;f<N.length;f++)if(Array.isArray(N[f])){var R=N[f];if(!(2>R.length)){var H=R[1];if(Array.isArray(H)&&!(1>H.length)){var Q=H[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var ce=1;ce<H.length;ce++)H[ce]=""}}}}return yn(N)}catch{return _}}var pe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},de={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},he;function Ie(){}v(Ie,Li),Ie.prototype.g=function(){return new XMLHttpRequest},Ie.prototype.i=function(){return{}},he=new Ie;function Re(f,_,N,R){this.j=f,this.i=_,this.l=N,this.R=R||1,this.U=new Ys(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ht}function Ht(){this.i=null,this.g="",this.h=!1}var rt={},Be={};function gt(f,_,N){f.L=1,f.v=ec(Ns(_)),f.m=N,f.P=!0,$n(f,null)}function $n(f,_){f.F=Date.now(),ar(f),f.A=Ns(f.v);var N=f.A,R=f.R;Array.isArray(R)||(R=[String(R)]),hp(N.i,"t",R),f.C=0,N=f.j.J,f.h=new Ht,f.g=fS(f.j,N?_:null,!f.m),0<f.O&&(f.M=new Oi(p(f.Y,f,f.g),f.O)),_=f.U,N=f.g,R=f.ca;var H="readystatechange";Array.isArray(H)||(H&&(Fn[0]=H.toString()),H=Fn);for(var Q=0;Q<H.length;Q++){var ce=_t(N,H[Q],R||_.handleEvent,!1,_.h||_);if(!ce)break;_.g[ce.key]=ce}_=f.H?E(f.H):{},f.m?(f.u||(f.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,_)):(f.u="GET",f.g.ea(f.A,f.u,null,_)),ss(),ne(f.i,f.u,f.A,f.l,f.R,f.m)}Re.prototype.ca=function(f){f=f.target;const _=this.M;_&&Qt(f)==3?_.j():this.Y(f)},Re.prototype.Y=function(f){try{if(f==this.g)e:{const Br=Qt(this.g);var _=this.g.Ba();const ac=this.g.Z();if(!(3>Br)&&(Br!=3||this.g&&(this.h.h||this.g.oa()||Vr(this.g)))){this.J||Br!=4||_==7||(_==8||0>=ac?ss(3):ss(2)),bn(this);var N=this.g.Z();this.X=N;t:if(Xs(this)){var R=Vr(this.g);f="";var H=R.length,Q=Qt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xn(this),Fr(this);var ce="";break t}this.h.i=new a.TextDecoder}for(_=0;_<H;_++)this.h.h=!0,f+=this.h.i.decode(R[_],{stream:!(Q&&_==H-1)});R.length=0,this.h.g+=f,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=N==200,le(this.i,this.u,this.A,this.l,this.R,Br,N),this.o){if(this.T&&!this.K){t:{if(this.g){var wt,Tr=this.g;if((wt=Tr.g?Tr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!g(wt)){var Ze=wt;break t}}Ze=null}if(N=Ze)be(this.i,this.l,N,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Js(this,N);else{this.o=!1,this.s=3,or(12),xn(this),Fr(this);break e}}if(this.P){N=!0;let Is;for(;!this.J&&this.C<ce.length;)if(Is=Lr(this,ce),Is==Be){Br==4&&(this.s=4,or(14),N=!1),be(this.i,this.l,null,"[Incomplete Response]");break}else if(Is==rt){this.s=4,or(15),be(this.i,this.l,ce,"[Invalid Chunk]"),N=!1;break}else be(this.i,this.l,Is,null),Js(this,Is);if(Xs(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Br!=4||ce.length!=0||this.h.h||(this.s=1,or(16),N=!1),this.o=this.o&&N,!N)be(this.i,this.l,ce,"[Invalid Chunked Response]"),xn(this),Fr(this);else if(0<ce.length&&!this.W){this.W=!0;var $r=this.j;$r.g==this&&$r.ba&&!$r.M&&($r.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),lv($r),$r.M=!0,or(11))}}else be(this.i,this.l,ce,null),Js(this,ce);Br==4&&xn(this),this.o&&!this.J&&(Br==4?lS(this.j,this):(this.o=!1,ar(this)))}else Ga(this.g),N==400&&0<ce.indexOf("Unknown SID")?(this.s=3,or(12)):(this.s=0,or(13)),xn(this),Fr(this)}}}catch{}finally{}};function Xs(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Lr(f,_){var N=f.C,R=_.indexOf(`
`,N);return R==-1?Be:(N=Number(_.substring(N,R)),isNaN(N)?rt:(R+=1,R+N>_.length?Be:(_=_.slice(R,R+N),f.C=R+N,_)))}Re.prototype.cancel=function(){this.J=!0,xn(this)};function ar(f){f.S=Date.now()+f.I,Do(f,f.I)}function Do(f,_){if(f.B!=null)throw Error("WatchDog timer not null");f.B=z(p(f.ba,f),_)}function bn(f){f.B&&(a.clearTimeout(f.B),f.B=null)}Re.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Ce(this.i,this.A),this.L!=2&&(ss(),or(17)),xn(this),this.s=2,Fr(this)):Do(this,this.S-f)};function Fr(f){f.j.G==0||f.J||lS(f.j,f)}function xn(f){bn(f);var _=f.M;_&&typeof _.ma=="function"&&_.ma(),f.M=null,Ba(f.U),f.g&&(_=f.g,f.g=null,_.abort(),_.ma())}function Js(f,_){try{var N=f.j;if(N.G!=0&&(N.g==f||St(N.h,f))){if(!f.K&&St(N.h,f)&&N.G==3){try{var R=N.Da.g.parse(_)}catch{R=null}if(Array.isArray(R)&&R.length==3){var H=R;if(H[0]==0){e:if(!N.u){if(N.g)if(N.g.F+3e3<f.F)xp(N),vp(N);else break e;av(N),or(18)}}else N.za=H[1],0<N.za-N.T&&37500>H[2]&&N.F&&N.v==0&&!N.C&&(N.C=z(p(N.Za,N),6e3));if(1>=Zs(N.h)&&N.ca){try{N.ca()}catch{}N.ca=void 0}}else Ka(N,11)}else if((f.K||N.g==f)&&xp(N),!g(_))for(H=N.Da.g.parse(_),_=0;_<H.length;_++){let Ze=H[_];if(N.T=Ze[0],Ze=Ze[1],N.G==2)if(Ze[0]=="c"){N.K=Ze[1],N.ia=Ze[2];const $r=Ze[3];$r!=null&&(N.la=$r,N.j.info("VER="+N.la));const Br=Ze[4];Br!=null&&(N.Aa=Br,N.j.info("SVER="+N.Aa));const ac=Ze[5];ac!=null&&typeof ac=="number"&&0<ac&&(R=1.5*ac,N.L=R,N.j.info("backChannelRequestTimeoutMs_="+R)),R=N;const Is=f.g;if(Is){const _p=Is.g?Is.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_p){var Q=R.h;Q.g||_p.indexOf("spdy")==-1&&_p.indexOf("quic")==-1&&_p.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(is(Q,Q.h),Q.h=null))}if(R.D){const cv=Is.g?Is.g.getResponseHeader("X-HTTP-Session-Id"):null;cv&&(R.ya=cv,vt(R.I,R.D,cv))}}N.G=3,N.l&&N.l.ua(),N.ba&&(N.R=Date.now()-f.F,N.j.info("Handshake RTT: "+N.R+"ms")),R=N;var ce=f;if(R.qa=dS(R,R.J?R.ia:null,R.W),ce.K){za(R.h,ce);var wt=ce,Tr=R.L;Tr&&(wt.I=Tr),wt.B&&(bn(wt),ar(wt)),R.g=ce}else oS(R);0<N.i.length&&bp(N)}else Ze[0]!="stop"&&Ze[0]!="close"||Ka(N,7);else N.G==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?Ka(N,7):ic(N):Ze[0]!="noop"&&N.l&&N.l.ta(Ze),N.v=0)}}ss(4)}catch{}}var We=class{constructor(f,_){this.g=f,this.map=_}};function yt(f){this.l=f||10,a.PerformanceNavigationTiming?(f=a.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Cs(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Zs(f){return f.h?1:f.g?f.g.size:0}function St(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function is(f,_){f.g?f.g.add(_):f.h=_}function za(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}yt.prototype.cancel=function(){if(this.i=Xl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Xl(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const N of f.g.values())_=_.concat(N.D);return _}return b(f.i)}function ev(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(c(f)){for(var _=[],N=f.length,R=0;R<N;R++)_.push(f[R]);return _}_=[],N=0;for(R in f)_[N++]=f[R];return _}function tv(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(c(f)||typeof f=="string"){var _=[];f=f.length;for(var N=0;N<f;N++)_.push(N);return _}_=[],N=0;for(const R in f)_[N++]=R;return _}}}function cp(f,_){if(f.forEach&&typeof f.forEach=="function")f.forEach(_,void 0);else if(c(f)||typeof f=="string")Array.prototype.forEach.call(f,_,void 0);else for(var N=tv(f),R=ev(f),H=R.length,Q=0;Q<H;Q++)_.call(void 0,R[Q],N&&N[Q],f)}var up=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jl(f,_){if(f){f=f.split("&");for(var N=0;N<f.length;N++){var R=f[N].indexOf("="),H=null;if(0<=R){var Q=f[N].substring(0,R);H=f[N].substring(R+1)}else Q=f[N];_(Q,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function ks(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof ks){this.h=f.h,Zl(this,f.j),this.o=f.o,this.g=f.g,Ua(this,f.s),this.l=f.l;var _=f.i,N=new ei;N.i=_.i,_.g&&(N.g=new Map(_.g),N.h=_.h),dp(this,N),this.m=f.m}else f&&(_=String(f).match(up))?(this.h=!1,Zl(this,_[1]||"",!0),this.o=Oo(_[2]||""),this.g=Oo(_[3]||"",!0),Ua(this,_[4]),this.l=Oo(_[5]||"",!0),dp(this,_[6]||"",!0),this.m=Oo(_[7]||"")):(this.h=!1,this.i=new ei(null,this.h))}ks.prototype.toString=function(){var f=[],_=this.j;_&&f.push(Ha(_,fp,!0),":");var N=this.g;return(N||_=="file")&&(f.push("//"),(_=this.o)&&f.push(Ha(_,fp,!0),"@"),f.push(encodeURIComponent(String(N)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.s,N!=null&&f.push(":",String(N))),(N=this.l)&&(this.g&&N.charAt(0)!="/"&&f.push("/"),f.push(Ha(N,N.charAt(0)=="/"?nv:sd,!0))),(N=this.i.toString())&&f.push("?",N),(N=this.m)&&f.push("#",Ha(N,iv)),f.join("")};function Ns(f){return new ks(f)}function Zl(f,_,N){f.j=N?Oo(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function Ua(f,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);f.s=_}else f.s=null}function dp(f,_,N){_ instanceof ei?(f.i=_,id(f.i,f.h)):(N||(_=Ha(_,sv)),f.i=new ei(_,f.h))}function vt(f,_,N){f.i.set(_,N)}function ec(f){return vt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Oo(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Ha(f,_,N){return typeof f=="string"?(f=encodeURI(f).replace(_,rv),N&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function rv(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var fp=/[#\/\?@]/g,sd=/[#\?:]/g,nv=/[#\?]/g,sv=/[#\?@]/g,iv=/#/g;function ei(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function os(f){f.g||(f.g=new Map,f.h=0,f.i&&Jl(f.i,function(_,N){f.add(decodeURIComponent(_.replace(/\+/g," ")),N)}))}t=ei.prototype,t.add=function(f,_){os(this),this.i=null,f=zi(this,f);var N=this.g.get(f);return N||this.g.set(f,N=[]),N.push(_),this.h+=1,this};function tc(f,_){os(f),_=zi(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function rc(f,_){return os(f),_=zi(f,_),f.g.has(_)}t.forEach=function(f,_){os(this),this.g.forEach(function(N,R){N.forEach(function(H){f.call(_,H,R,this)},this)},this)},t.na=function(){os(this);const f=Array.from(this.g.values()),_=Array.from(this.g.keys()),N=[];for(let R=0;R<_.length;R++){const H=f[R];for(let Q=0;Q<H.length;Q++)N.push(_[R])}return N},t.V=function(f){os(this);let _=[];if(typeof f=="string")rc(this,f)&&(_=_.concat(this.g.get(zi(this,f))));else{f=Array.from(this.g.values());for(let N=0;N<f.length;N++)_=_.concat(f[N])}return _},t.set=function(f,_){return os(this),this.i=null,f=zi(this,f),rc(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},t.get=function(f,_){return f?(f=this.V(f),0<f.length?String(f[0]):_):_};function hp(f,_,N){tc(f,_),0<N.length&&(f.i=null,f.g.set(zi(f,_),b(N)),f.h+=N.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(var N=0;N<_.length;N++){var R=_[N];const Q=encodeURIComponent(String(R)),ce=this.V(R);for(R=0;R<ce.length;R++){var H=Q;ce[R]!==""&&(H+="="+encodeURIComponent(String(ce[R]))),f.push(H)}}return this.i=f.join("&")};function zi(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function id(f,_){_&&!f.j&&(os(f),f.i=null,f.g.forEach(function(N,R){var H=R.toLowerCase();R!=H&&(tc(this,R),hp(this,H,N))},f)),f.j=_}function pp(f,_){const N=new W;if(a.Image){const R=new Image;R.onload=m(wn,N,"TestLoadImage: loaded",!0,_,R),R.onerror=m(wn,N,"TestLoadImage: error",!1,_,R),R.onabort=m(wn,N,"TestLoadImage: abort",!1,_,R),R.ontimeout=m(wn,N,"TestLoadImage: timeout",!1,_,R),a.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=f}else _(!1)}function Ui(f,_){const N=new W,R=new AbortController,H=setTimeout(()=>{R.abort(),wn(N,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:R.signal}).then(Q=>{clearTimeout(H),Q.ok?wn(N,"TestPingServer: ok",!0,_):wn(N,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(H),wn(N,"TestPingServer: error",!1,_)})}function wn(f,_,N,R,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),R(N)}catch{}}function ov(){this.g=new nd}function mp(f,_,N){const R=N||"";try{cp(f,function(H,Q){let ce=H;u(H)&&(ce=yn(H)),_.push(R+Q+"="+encodeURIComponent(ce))})}catch(H){throw _.push(R+"type="+encodeURIComponent("_badmap")),H}}function nc(f){this.l=f.Ub||null,this.j=f.eb||!1}v(nc,Li),nc.prototype.g=function(){return new Wa(this.l,this.j)},nc.prototype.i=function(f){return function(){return f}}({});function Wa(f,_){Dt.call(this),this.D=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(Wa,Dt),t=Wa.prototype,t.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=_,this.readyState=1,Mo(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(_.body=f),(this.D||a).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qa(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Mo(this)),this.g&&(this.readyState=3,Mo(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;gp(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function gp(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?qa(this):Mo(this),this.readyState==3&&gp(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,qa(this))},t.Qa=function(f){this.g&&(this.response=f,qa(this))},t.ga=function(){this.g&&qa(this)};function qa(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Mo(f)}t.setRequestHeader=function(f,_){this.u.append(f,_)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var N=_.next();!N.done;)N=N.value,f.push(N[0]+": "+N[1]),N=_.next();return f.join(`\r
`)};function Mo(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Wa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function yp(f){let _="";return A(f,function(N,R){_+=R,_+=":",_+=N,_+=`\r
`}),_}function M(f,_,N){e:{for(R in N){var R=!1;break e}R=!0}R||(N=yp(N),typeof f=="string"?N!=null&&encodeURIComponent(String(N)):vt(f,_,N))}function F(f){Dt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(F,Dt);var K=/^https?$/i,ve=["POST","PUT"];t=F.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,_,N,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():he.g(),this.v=this.o?Fi(this.o):Fi(he),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch(Q){ze(this,Q);return}if(f=N||"",N=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var H in R)N.set(H,R[H]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const Q of R.keys())N.set(Q,R.get(Q));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(N.keys()).find(Q=>Q.toLowerCase()=="content-type"),H=a.FormData&&f instanceof a.FormData,!(0<=Array.prototype.indexOf.call(ve,_,void 0))||R||H||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ce]of N)this.g.setRequestHeader(Q,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xt(this),this.u=!0,this.g.send(f),this.u=!1}catch(Q){ze(this,Q)}};function ze(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.m=5,ct(f),qe(f)}function ct(f){f.A||(f.A=!0,Ot(f,"complete"),Ot(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Ot(this,"complete"),Ot(this,"abort"),qe(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qe(this,!0)),F.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?bt(this):this.bb())},t.bb=function(){bt(this)};function bt(f){if(f.h&&typeof o<"u"&&(!f.v[1]||Qt(f)!=4||f.Z()!=2)){if(f.u&&Qt(f)==4)tn(f.Ea,0,f);else if(Ot(f,"readystatechange"),Qt(f)==4){f.h=!1;try{const ce=f.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var N;if(!(N=_)){var R;if(R=ce===0){var H=String(f.D).match(up)[1]||null;!H&&a.self&&a.self.location&&(H=a.self.location.protocol.slice(0,-1)),R=!K.test(H?H.toLowerCase():"")}N=R}if(N)Ot(f,"complete"),Ot(f,"success");else{f.m=6;try{var Q=2<Qt(f)?f.g.statusText:""}catch{Q=""}f.l=Q+" ["+f.Z()+"]",ct(f)}}finally{qe(f)}}}}function qe(f,_){if(f.g){xt(f);const N=f.g,R=f.v[0]?()=>{}:null;f.g=null,f.v=null,_||Ot(f,"ready");try{N.onreadystatechange=R}catch{}}}function xt(f){f.I&&(a.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function Qt(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<Qt(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),Mi(_)}};function Vr(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Ga(f){const _={};f=(f.g&&2<=Qt(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<f.length;R++){if(g(f[R]))continue;var N=j(f[R]);const H=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const Q=_[H]||[];_[H]=Q,Q.push(N)}S(_,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hi(f,_,N){return N&&N.internalChannelParams&&N.internalChannelParams[f]||_}function sc(f){this.Aa=0,this.i=[],this.j=new W,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Hi("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Hi("baseRetryDelayMs",5e3,f),this.cb=Hi("retryDelaySeedMs",1e4,f),this.Wa=Hi("forwardChannelMaxRetries",2,f),this.wa=Hi("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new yt(f&&f.concurrentRequestLimit),this.Da=new ov,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=sc.prototype,t.la=8,t.G=1,t.connect=function(f,_,N,R){or(0),this.W=f,this.H=_||{},N&&R!==void 0&&(this.H.OSID=N,this.H.OAID=R),this.F=this.X,this.I=dS(this,null,this.W),bp(this)};function ic(f){if(nS(f),f.G==3){var _=f.U++,N=Ns(f.I);if(vt(N,"SID",f.K),vt(N,"RID",_),vt(N,"TYPE","terminate"),od(f,N),_=new Re(f,f.j,_),_.L=2,_.v=ec(Ns(N)),N=!1,a.navigator&&a.navigator.sendBeacon)try{N=a.navigator.sendBeacon(_.v.toString(),"")}catch{}!N&&a.Image&&(new Image().src=_.v,N=!0),N||(_.g=fS(_.j,null),_.g.ea(_.v)),_.F=Date.now(),ar(_)}uS(f)}function vp(f){f.g&&(lv(f),f.g.cancel(),f.g=null)}function nS(f){vp(f),f.u&&(a.clearTimeout(f.u),f.u=null),xp(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&a.clearTimeout(f.s),f.s=null)}function bp(f){if(!Cs(f.h)&&!f.s){f.s=!0;var _=f.Ga;G||re(),U||(G(),U=!0),Z.add(_,f),f.B=0}}function eD(f,_){return Zs(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=_.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=z(p(f.Ga,f,_),cS(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const H=new Re(this,this.j,f);let Q=this.o;if(this.S&&(Q?(Q=E(Q),k(Q,this.S)):Q=this.S),this.m!==null||this.O||(H.H=Q,Q=null),this.P)e:{for(var _=0,N=0;N<this.i.length;N++){t:{var R=this.i[N];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(_+=R,4096<_){_=N;break e}if(_===4096||N===this.i.length-1){_=N+1;break e}}_=1e3}else _=1e3;_=iS(this,H,_),N=Ns(this.I),vt(N,"RID",f),vt(N,"CVER",22),this.D&&vt(N,"X-HTTP-Session-Id",this.D),od(this,N),Q&&(this.O?_="headers="+encodeURIComponent(String(yp(Q)))+"&"+_:this.m&&M(N,this.m,Q)),is(this.h,H),this.Ua&&vt(N,"TYPE","init"),this.P?(vt(N,"$req",_),vt(N,"SID","null"),H.T=!0,gt(H,N,null)):gt(H,N,_),this.G=2}}else this.G==3&&(f?sS(this,f):this.i.length==0||Cs(this.h)||sS(this))};function sS(f,_){var N;_?N=_.l:N=f.U++;const R=Ns(f.I);vt(R,"SID",f.K),vt(R,"RID",N),vt(R,"AID",f.T),od(f,R),f.m&&f.o&&M(R,f.m,f.o),N=new Re(f,f.j,N,f.B+1),f.m===null&&(N.H=f.o),_&&(f.i=_.D.concat(f.i)),_=iS(f,N,1e3),N.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),is(f.h,N),gt(N,R,_)}function od(f,_){f.H&&A(f.H,function(N,R){vt(_,R,N)}),f.l&&cp({},function(N,R){vt(_,R,N)})}function iS(f,_,N){N=Math.min(f.i.length,N);var R=f.l?p(f.l.Na,f.l,f):null;e:{var H=f.i;let Q=-1;for(;;){const ce=["count="+N];Q==-1?0<N?(Q=H[0].g,ce.push("ofs="+Q)):Q=0:ce.push("ofs="+Q);let wt=!0;for(let Tr=0;Tr<N;Tr++){let Ze=H[Tr].g;const $r=H[Tr].map;if(Ze-=Q,0>Ze)Q=Math.max(0,H[Tr].g-100),wt=!1;else try{mp($r,ce,"req"+Ze+"_")}catch{R&&R($r)}}if(wt){R=ce.join("&");break e}}}return f=f.i.splice(0,N),_.D=f,R}function oS(f){if(!f.g&&!f.u){f.Y=1;var _=f.Fa;G||re(),U||(G(),U=!0),Z.add(_,f),f.v=0}}function av(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=z(p(f.Fa,f),cS(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,aS(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=z(p(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,or(10),vp(this),aS(this))};function lv(f){f.A!=null&&(a.clearTimeout(f.A),f.A=null)}function aS(f){f.g=new Re(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var _=Ns(f.qa);vt(_,"RID","rpc"),vt(_,"SID",f.K),vt(_,"AID",f.T),vt(_,"CI",f.F?"0":"1"),!f.F&&f.ja&&vt(_,"TO",f.ja),vt(_,"TYPE","xmlhttp"),od(f,_),f.m&&f.o&&M(_,f.m,f.o),f.L&&(f.g.I=f.L);var N=f.g;f=f.ia,N.L=1,N.v=ec(Ns(_)),N.m=null,N.P=!0,$n(N,f)}t.Za=function(){this.C!=null&&(this.C=null,vp(this),av(this),or(19))};function xp(f){f.C!=null&&(a.clearTimeout(f.C),f.C=null)}function lS(f,_){var N=null;if(f.g==_){xp(f),lv(f),f.g=null;var R=2}else if(St(f.h,_))N=_.D,za(f.h,_),R=1;else return;if(f.G!=0){if(_.o)if(R==1){N=_.m?_.m.length:0,_=Date.now()-_.F;var H=f.B;R=$i(),Ot(R,new L(R,N)),bp(f)}else oS(f);else if(H=_.s,H==3||H==0&&0<_.X||!(R==1&&eD(f,_)||R==2&&av(f)))switch(N&&0<N.length&&(_=f.h,_.i=_.i.concat(N)),H){case 1:Ka(f,5);break;case 4:Ka(f,10);break;case 3:Ka(f,6);break;default:Ka(f,2)}}}function cS(f,_){let N=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(N*=2),N*_}function Ka(f,_){if(f.j.info("Error code "+_),_==2){var N=p(f.fb,f),R=f.Xa;const H=!R;R=new ks(R||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Zl(R,"https"),ec(R),H?pp(R.toString(),N):Ui(R.toString(),N)}else or(2);f.G=0,f.l&&f.l.sa(_),uS(f),nS(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),or(2)):(this.j.info("Failed to ping google.com"),or(1))};function uS(f){if(f.G=0,f.ka=[],f.l){const _=Xl(f.h);(_.length!=0||f.i.length!=0)&&(y(f.ka,_),y(f.ka,f.i),f.h.i.length=0,b(f.i),f.i.length=0),f.l.ra()}}function dS(f,_,N){var R=N instanceof ks?Ns(N):new ks(N);if(R.g!="")_&&(R.g=_+"."+R.g),Ua(R,R.s);else{var H=a.location;R=H.protocol,_=_?_+"."+H.hostname:H.hostname,H=+H.port;var Q=new ks(null);R&&Zl(Q,R),_&&(Q.g=_),H&&Ua(Q,H),N&&(Q.l=N),R=Q}return N=f.D,_=f.ya,N&&_&&vt(R,N,_),vt(R,"VER",f.la),od(f,R),R}function fS(f,_,N){if(_&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Ca&&!f.pa?new F(new nc({eb:N})):new F(f.pa),_.Ha(f.J),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function hS(){}t=hS.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function wp(){}wp.prototype.g=function(f,_){return new Bn(f,_)};function Bn(f,_){Dt.call(this),this.g=new sc(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(f?f["X-WebChannel-Client-Profile"]=_.va:f={"X-WebChannel-Client-Profile":_.va}),this.g.S=f,(f=_&&_.Sb)&&!g(f)&&(this.g.m=f),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!g(_)&&(this.g.D=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new oc(this)}v(Bn,Dt),Bn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Bn.prototype.close=function(){ic(this.g)},Bn.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var N={};N.__data__=f,f=N}else this.u&&(N={},N.__data__=yn(f),f=N);_.i.push(new We(_.Ya++,f)),_.G==3&&bp(_)},Bn.prototype.N=function(){this.g.l=null,delete this.j,ic(this.g),delete this.g,Bn.aa.N.call(this)};function pS(f){Vi.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){e:{for(const N in _){f=N;break e}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}v(pS,Vi);function mS(){Vn.call(this),this.status=1}v(mS,Vn);function oc(f){this.g=f}v(oc,hS),oc.prototype.ua=function(){Ot(this.g,"a")},oc.prototype.ta=function(f){Ot(this.g,new pS(f))},oc.prototype.sa=function(f){Ot(this.g,new mS)},oc.prototype.ra=function(){Ot(this.g,"b")},wp.prototype.createWebChannel=wp.prototype.g,Bn.prototype.send=Bn.prototype.o,Bn.prototype.open=Bn.prototype.m,Bn.prototype.close=Bn.prototype.close,vA=function(){return new wp},yA=function(){return $i()},gA=ns,Ox={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},pe.NO_ERROR=0,pe.TIMEOUT=8,pe.HTTP_ERROR=6,Nm=pe,de.COMPLETE="complete",mA=de,Ro.EventType=rn,rn.OPEN="a",rn.CLOSE="b",rn.ERROR="c",rn.MESSAGE="d",Dt.prototype.listen=Dt.prototype.K,Rd=Ro,F.prototype.listenOnce=F.prototype.L,F.prototype.getLastError=F.prototype.Ka,F.prototype.getLastErrorCode=F.prototype.Ba,F.prototype.getStatus=F.prototype.Z,F.prototype.getResponseJson=F.prototype.Oa,F.prototype.getResponseText=F.prototype.oa,F.prototype.send=F.prototype.ea,F.prototype.setWithCredentials=F.prototype.Ha,pA=F}).apply(typeof Bp<"u"?Bp:typeof self<"u"?self:typeof window<"u"?window:{});const tT="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gr.UNAUTHENTICATED=new Gr(null),Gr.GOOGLE_CREDENTIALS=new Gr("google-credentials-uid"),Gr.FIRST_PARTY=new Gr("first-party-uid"),Gr.MOCK_USER=new Gr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bu="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rl=new Gw("@firebase/firestore");function md(){return Rl.logLevel}function xe(t,...e){if(Rl.logLevel<=Ye.DEBUG){const r=e.map(s_);Rl.debug(`Firestore (${Bu}): ${t}`,...r)}}function yo(t,...e){if(Rl.logLevel<=Ye.ERROR){const r=e.map(s_);Rl.error(`Firestore (${Bu}): ${t}`,...r)}}function vu(t,...e){if(Rl.logLevel<=Ye.WARN){const r=e.map(s_);Rl.warn(`Firestore (${Bu}): ${t}`,...r)}}function s_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function je(t="Unexpected state"){const e=`FIRESTORE (${Bu}) INTERNAL ASSERTION FAILED: `+t;throw yo(e),new Error(e)}function ht(t,e){t||je()}function Oe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Co{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class C9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Gr.UNAUTHENTICATED))}shutdown(){}}class k9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class N9{constructor(e){this.t=e,this.currentUser=Gr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){ht(this.o===void 0);let n=this.i;const s=c=>this.i!==n?(n=this.i,r(c)):Promise.resolve();let i=new ao;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ao,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},a=c=>{xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ao)}},0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(ht(typeof n.accessToken=="string"),new bA(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ht(e===null||typeof e=="string"),new Gr(e)}}class I9{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=Gr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class P9{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new I9(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(Gr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class A9{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class j9{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){ht(this.o===void 0);const n=i=>{i.error!=null&&xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,xe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>n(i))};const s=i=>{xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(ht(typeof r.token=="string"),this.R=r.token,new A9(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R9(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const s=R9(40);for(let i=0;i<s.length;++i)n.length<20&&s[i]<r&&(n+=e.charAt(s[i]%e.length))}return n}}function et(t,e){return t<e?-1:t>e?1:0}function bu(t,e,r){return t.length===e.length&&t.every((n,s)=>r(n,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new fe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new fe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new fe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Bt.fromMillis(Date.now())}static fromDate(e){return Bt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new Bt(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?et(this.nanoseconds,e.nanoseconds):et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.timestamp=e}static fromTimestamp(e){return new De(e)}static min(){return new De(new Bt(0,0))}static max(){return new De(new Bt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,r,n){r===void 0?r=0:r>e.length&&je(),n===void 0?n=e.length-r:n>e.length-r&&je(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Gf.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Gf?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let s=0;s<n;s++){const i=e.get(s),o=r.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class At extends Gf{construct(e,r,n){return new At(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new fe(te.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(s=>s.length>0))}return new At(r)}static emptyPath(){return new At([])}}const D9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pr extends Gf{construct(e,r,n){return new Pr(e,r,n)}static isValidIdentifier(e){return D9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Pr(["__name__"])}static fromServerFormat(e){const r=[];let n="",s=0;const i=()=>{if(n.length===0)throw new fe(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new fe(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new fe(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=c,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(n+=a,s++):(i(),s++)}if(i(),o)throw new fe(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pr(r)}static emptyPath(){return new Pr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(At.fromString(e))}static fromName(e){return new _e(At.fromString(e).popFirst(5))}static empty(){return new _e(At.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&At.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return At.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new At(e.slice()))}}function O9(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,s=De.fromTimestamp(n===1e9?new Bt(r+1,0):new Bt(r,n));return new Ta(s,_e.empty(),e)}function M9(t){return new Ta(t.readTime,t.key,-1)}class Ta{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Ta(De.min(),_e.empty(),-1)}static max(){return new Ta(De.max(),_e.empty(),-1)}}function L9(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=_e.comparator(t.documentKey,e.documentKey),r!==0?r:et(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class V9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fh(t){if(t.code!==te.FAILED_PRECONDITION||t.message!==F9)throw t;xe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&je(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new se((n,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(n,s)},this.catchCallback=i=>{this.wrapFailure(r,i).next(n,s)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof se?r:se.resolve(r)}catch(r){return se.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):se.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):se.reject(r)}static resolve(e){return new se((r,n)=>{r(e)})}static reject(e){return new se((r,n)=>{n(e)})}static waitFor(e){return new se((r,n)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&r()},c=>n(c))}),o=!0,i===s&&r()})}static or(e){let r=se.resolve(!1);for(const n of e)r=r.next(s=>s?se.resolve(s):n());return r}static forEach(e,r){const n=[];return e.forEach((s,i)=>{n.push(r.call(this,s,i))}),this.waitFor(n)}static mapArray(e,r){return new se((n,s)=>{const i=e.length,o=new Array(i);let a=0;for(let c=0;c<i;c++){const u=c;r(e[u]).next(d=>{o[u]=d,++a,a===i&&n(o)},d=>s(d))}})}static doWhile(e,r){return new se((n,s)=>{const i=()=>{e()===!0?r().next(()=>{i()},s):n()};i()})}}function $9(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Vh(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}i_.oe=-1;function z0(t){return t==null}function Lg(t){return t===0&&1/t==-1/0}function B9(t){return typeof t=="number"&&Number.isInteger(t)&&!Lg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Wl(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function wA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,r){this.comparator=e,this.root=r||kr.EMPTY}insert(e,r){return new Ut(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,kr.BLACK,null,null))}remove(e){return new Ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kr.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return r+n.left.size;s<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zp(this.root,e,this.comparator,!1)}getReverseIterator(){return new zp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zp(this.root,e,this.comparator,!0)}}class zp{constructor(e,r,n,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=r?n(e.key,r):1,r&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kr{constructor(e,r,n,s,i){this.key=e,this.value=r,this.color=n??kr.RED,this.left=s??kr.EMPTY,this.right=i??kr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,s,i){return new kr(e??this.key,r??this.value,n??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let s=this;const i=n(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,r,n),null):i===0?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(e,r,n)),s.fixUp()}removeMin(){if(this.left.isEmpty())return kr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,s=this;if(r(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,r),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),r(e,s.key)===0){if(s.right.isEmpty())return kr.EMPTY;n=s.right.min(),s=s.copy(n.key,n.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,r))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw je();const e=this.left.check();if(e!==this.right.check())throw je();return e+(this.isRed()?0:1)}}kr.EMPTY=null,kr.RED=!0,kr.BLACK=!1;kr.EMPTY=new class{constructor(){this.size=0}get key(){throw je()}get value(){throw je()}get color(){throw je()}get left(){throw je()}get right(){throw je()}copy(e,r,n,s,i){return this}insert(e,r,n){return new kr(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this.comparator=e,this.data=new Ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const s=n.getNext();if(this.comparator(s.key,e[1])>=0)return;r(s.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new nT(this.data.getIterator())}getIteratorFrom(e){return new nT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof jr)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const s=r.getNext().key,i=n.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new jr(this.comparator);return r.data=e,r}}class nT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.fields=e,e.sort(Pr.comparator)}static empty(){return new Wn([])}unionWith(e){let r=new jr(Pr.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Wn(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return bu(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new _A("Invalid base64 string: "+i):i}}(e);return new Or(r)}static fromUint8Array(e){const r=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Or(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let s=0;s<r.length;s++)n[s]=r.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Or.EMPTY_BYTE_STRING=new Or("");const z9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ca(t){if(ht(!!t),typeof t=="string"){let e=0;const r=z9.exec(t);if(ht(!!r),r[1]){let s=r[1];s=(s+"000000000").substr(0,9),e=Number(s)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Yt(t.seconds),nanos:Yt(t.nanos)}}function Yt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Dl(t){return typeof t=="string"?Or.fromBase64String(t):Or.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o_(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function a_(t){const e=t.mapValue.fields.__previous_value__;return o_(e)?a_(e):e}function Kf(t){const e=Ca(t.mapValue.fields.__local_write_time__.timestampValue);return new Bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{constructor(e,r,n,s,i,o,a,c,u){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}}class Qf{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Qf("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Qf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Up={mapValue:{}};function Ol(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?o_(t)?4:W9(t)?9007199254740991:H9(t)?10:11:je()}function ki(t,e){if(t===e)return!0;const r=Ol(t);if(r!==Ol(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Kf(t).isEqual(Kf(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Ca(s.timestampValue),a=Ca(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Dl(s.bytesValue).isEqual(Dl(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Yt(s.geoPointValue.latitude)===Yt(i.geoPointValue.latitude)&&Yt(s.geoPointValue.longitude)===Yt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Yt(s.integerValue)===Yt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Yt(s.doubleValue),a=Yt(i.doubleValue);return o===a?Lg(o)===Lg(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return bu(t.arrayValue.values||[],e.arrayValue.values||[],ki);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(rT(o)!==rT(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!ki(o[c],a[c])))return!1;return!0}(t,e);default:return je()}}function Yf(t,e){return(t.values||[]).find(r=>ki(r,e))!==void 0}function xu(t,e){if(t===e)return 0;const r=Ol(t),n=Ol(e);if(r!==n)return et(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return et(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Yt(i.integerValue||i.doubleValue),c=Yt(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return sT(t.timestampValue,e.timestampValue);case 4:return sT(Kf(t),Kf(e));case 5:return et(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Dl(i),c=Dl(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){const d=et(a[u],c[u]);if(d!==0)return d}return et(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=et(Yt(i.latitude),Yt(o.latitude));return a!==0?a:et(Yt(i.longitude),Yt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return iT(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,c,u,d;const h=i.fields||{},p=o.fields||{},m=(a=h.value)===null||a===void 0?void 0:a.arrayValue,v=(c=p.value)===null||c===void 0?void 0:c.arrayValue,b=et(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((d=v==null?void 0:v.values)===null||d===void 0?void 0:d.length)||0);return b!==0?b:iT(m,v)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Up.mapValue&&o===Up.mapValue)return 0;if(i===Up.mapValue)return 1;if(o===Up.mapValue)return-1;const a=i.fields||{},c=Object.keys(a),u=o.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let h=0;h<c.length&&h<d.length;++h){const p=et(c[h],d[h]);if(p!==0)return p;const m=xu(a[c[h]],u[d[h]]);if(m!==0)return m}return et(c.length,d.length)}(t.mapValue,e.mapValue);default:throw je()}}function sT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return et(t,e);const r=Ca(t),n=Ca(e),s=et(r.seconds,n.seconds);return s!==0?s:et(r.nanos,n.nanos)}function iT(t,e){const r=t.values||[],n=e.values||[];for(let s=0;s<r.length&&s<n.length;++s){const i=xu(r[s],n[s]);if(i)return i}return et(r.length,n.length)}function wu(t){return Mx(t)}function Mx(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=Ca(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return Dl(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return _e.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",s=!0;for(const i of r.values||[])s?s=!1:n+=",",n+=Mx(i);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let s="{",i=!0;for(const o of n)i?i=!1:s+=",",s+=`${o}:${Mx(r.fields[o])}`;return s+"}"}(t.mapValue):je()}function oT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Lx(t){return!!t&&"integerValue"in t}function l_(t){return!!t&&"arrayValue"in t}function aT(t){return!!t&&"nullValue"in t}function lT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Im(t){return!!t&&"mapValue"in t}function H9(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function tf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Wl(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=tf(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=tf(t.arrayValue.values[r]);return e}return Object.assign({},t)}function W9(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.value=e}static empty(){return new En({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!Im(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=tf(r)}setAll(e){let r=Pr.emptyPath(),n={},s=[];e.forEach((o,a)=>{if(!r.isImmediateParentOf(a)){const c=this.getFieldsMap(r);this.applyChanges(c,n,s),n={},s=[],r=a.popLast()}o?n[a.lastSegment()]=tf(o):s.push(a.lastSegment())});const i=this.getFieldsMap(r);this.applyChanges(i,n,s)}delete(e){const r=this.field(e.popLast());Im(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return ki(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let s=r.mapValue.fields[e.get(n)];Im(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=s),r=s}return r.mapValue.fields}applyChanges(e,r,n){Wl(r,(s,i)=>e[s]=i);for(const s of n)delete e[s]}clone(){return new En(tf(this.value))}}function SA(t){const e=[];return Wl(t.fields,(r,n)=>{const s=new Pr([r]);if(Im(n)){const i=SA(n.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e,r,n,s,i,o,a){this.key=e,this.documentType=r,this.version=n,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Qr(e,0,De.min(),De.min(),De.min(),En.empty(),0)}static newFoundDocument(e,r,n,s){return new Qr(e,1,r,De.min(),n,s,0)}static newNoDocument(e,r){return new Qr(e,2,r,De.min(),De.min(),En.empty(),0)}static newUnknownDocument(e,r){return new Qr(e,3,r,De.min(),De.min(),En.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e,r){this.position=e,this.inclusive=r}}function cT(t,e,r){let n=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?n=_e.comparator(_e.fromName(o.referenceValue),r.key):n=xu(o,r.data.field(i.field)),i.dir==="desc"&&(n*=-1),n!==0)break}return n}function uT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!ki(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e,r="asc"){this.field=e,this.dir=r}}function q9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{}class sr extends EA{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new K9(e,r,n):r==="array-contains"?new X9(e,n):r==="in"?new J9(e,n):r==="not-in"?new Z9(e,n):r==="array-contains-any"?new eV(e,n):new sr(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new Q9(e,n):new Y9(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(xu(r,this.value)):r!==null&&Ol(this.value)===Ol(r)&&this.matchesComparison(xu(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return je()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qs extends EA{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new qs(e,r)}matches(e){return TA(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function TA(t){return t.op==="and"}function CA(t){return G9(t)&&TA(t)}function G9(t){for(const e of t.filters)if(e instanceof qs)return!1;return!0}function Fx(t){if(t instanceof sr)return t.field.canonicalString()+t.op.toString()+wu(t.value);if(CA(t))return t.filters.map(e=>Fx(e)).join(",");{const e=t.filters.map(r=>Fx(r)).join(",");return`${t.op}(${e})`}}function kA(t,e){return t instanceof sr?function(n,s){return s instanceof sr&&n.op===s.op&&n.field.isEqual(s.field)&&ki(n.value,s.value)}(t,e):t instanceof qs?function(n,s){return s instanceof qs&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce((i,o,a)=>i&&kA(o,s.filters[a]),!0):!1}(t,e):void je()}function NA(t){return t instanceof sr?function(r){return`${r.field.canonicalString()} ${r.op} ${wu(r.value)}`}(t):t instanceof qs?function(r){return r.op.toString()+" {"+r.getFilters().map(NA).join(" ,")+"}"}(t):"Filter"}class K9 extends sr{constructor(e,r,n){super(e,r,n),this.key=_e.fromName(n.referenceValue)}matches(e){const r=_e.comparator(e.key,this.key);return this.matchesComparison(r)}}class Q9 extends sr{constructor(e,r){super(e,"in",r),this.keys=IA("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class Y9 extends sr{constructor(e,r){super(e,"not-in",r),this.keys=IA("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function IA(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>_e.fromName(n.referenceValue))}class X9 extends sr{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return l_(r)&&Yf(r.arrayValue,this.value)}}class J9 extends sr{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Yf(this.value.arrayValue,r)}}class Z9 extends sr{constructor(e,r){super(e,"not-in",r)}matches(e){if(Yf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!Yf(this.value.arrayValue,r)}}class eV extends sr{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!l_(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Yf(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(e,r=null,n=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function dT(t,e=null,r=[],n=[],s=null,i=null,o=null){return new tV(t,e,r,n,s,i,o)}function c_(t){const e=Oe(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>Fx(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(i){return i.field.canonicalString()+i.dir}(n)).join(","),z0(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>wu(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>wu(n)).join(",")),e.ue=r}return e.ue}function u_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!q9(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!kA(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!uT(t.startAt,e.startAt)&&uT(t.endAt,e.endAt)}function Vx(t){return _e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,r=null,n=[],s=[],i=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function rV(t,e,r,n,s,i,o,a){return new zu(t,e,r,n,s,i,o,a)}function U0(t){return new zu(t)}function fT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function PA(t){return t.collectionGroup!==null}function rf(t){const e=Oe(t);if(e.ce===null){e.ce=[];const r=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),r.add(i.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new jr(Pr.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{r.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Xf(i,n))}),r.has(Pr.keyField().canonicalString())||e.ce.push(new Xf(Pr.keyField(),n))}return e.ce}function xi(t){const e=Oe(t);return e.le||(e.le=nV(e,rf(t))),e.le}function nV(t,e){if(t.limitType==="F")return dT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Xf(s.field,i)});const r=t.endAt?new Fg(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Fg(t.startAt.position,t.startAt.inclusive):null;return dT(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function $x(t,e){const r=t.filters.concat([e]);return new zu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function Vg(t,e,r){return new zu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function H0(t,e){return u_(xi(t),xi(e))&&t.limitType===e.limitType}function AA(t){return`${c_(xi(t))}|lt:${t.limitType}`}function pc(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(s=>NA(s)).join(", ")}]`),z0(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(s=>wu(s)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(s=>wu(s)).join(",")),`Target(${n})`}(xi(t))}; limitType=${t.limitType})`}function W0(t,e){return e.isFoundDocument()&&function(n,s){const i=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):_e.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,s){for(const i of rf(n))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,s){for(const i of n.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(n,s){return!(n.startAt&&!function(o,a,c){const u=cT(o,a,c);return o.inclusive?u<=0:u<0}(n.startAt,rf(n),s)||n.endAt&&!function(o,a,c){const u=cT(o,a,c);return o.inclusive?u>=0:u>0}(n.endAt,rf(n),s))}(t,e)}function sV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function jA(t){return(e,r)=>{let n=!1;for(const s of rf(t)){const i=iV(s,e,r);if(i!==0)return i;n=n||s.field.isKeyField()}return 0}}function iV(t,e,r){const n=t.field.isKeyField()?_e.comparator(e.key,r.key):function(i,o,a){const c=o.data.field(i),u=a.data.field(i);return c!==null&&u!==null?xu(c,u):je()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return je()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[s,i]of n)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,r]);s.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let s=0;s<n.length;s++)if(this.equalsFn(n[s][0],e))return n.length===1?delete this.inner[r]:n.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Wl(this.inner,(r,n)=>{for(const[s,i]of n)e(s,i)})}isEmpty(){return wA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oV=new Ut(_e.comparator);function vo(){return oV}const RA=new Ut(_e.comparator);function Dd(...t){let e=RA;for(const r of t)e=e.insert(r.key,r);return e}function DA(t){let e=RA;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function ll(){return nf()}function OA(){return nf()}function nf(){return new Uu(t=>t.toString(),(t,e)=>t.isEqual(e))}const aV=new Ut(_e.comparator),lV=new jr(_e.comparator);function Ge(...t){let e=lV;for(const r of t)e=e.add(r);return e}const cV=new jr(et);function uV(){return cV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lg(e)?"-0":e}}function MA(t){return{integerValue:""+t}}function dV(t,e){return B9(e)?MA(e):d_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(){this._=void 0}}function fV(t,e,r){return t instanceof Jf?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&o_(i)&&(i=a_(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(r,e):t instanceof Zf?FA(t,e):t instanceof eh?VA(t,e):function(s,i){const o=LA(s,i),a=hT(o)+hT(s.Pe);return Lx(o)&&Lx(s.Pe)?MA(a):d_(s.serializer,a)}(t,e)}function hV(t,e,r){return t instanceof Zf?FA(t,e):t instanceof eh?VA(t,e):r}function LA(t,e){return t instanceof $g?function(n){return Lx(n)||function(i){return!!i&&"doubleValue"in i}(n)}(e)?e:{integerValue:0}:null}class Jf extends q0{}class Zf extends q0{constructor(e){super(),this.elements=e}}function FA(t,e){const r=$A(e);for(const n of t.elements)r.some(s=>ki(s,n))||r.push(n);return{arrayValue:{values:r}}}class eh extends q0{constructor(e){super(),this.elements=e}}function VA(t,e){let r=$A(e);for(const n of t.elements)r=r.filter(s=>!ki(s,n));return{arrayValue:{values:r}}}class $g extends q0{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function hT(t){return Yt(t.integerValue||t.doubleValue)}function $A(t){return l_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(e,r){this.field=e,this.transform=r}}function mV(t,e){return t.field.isEqual(e.field)&&function(n,s){return n instanceof Zf&&s instanceof Zf||n instanceof eh&&s instanceof eh?bu(n.elements,s.elements,ki):n instanceof $g&&s instanceof $g?ki(n.Pe,s.Pe):n instanceof Jf&&s instanceof Jf}(t.transform,e.transform)}class gV{constructor(e,r){this.version=e,this.transformResults=r}}class ms{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new ms}static exists(e){return new ms(void 0,e)}static updateTime(e){return new ms(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class G0{}function BA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new f_(t.key,ms.none()):new $h(t.key,t.data,ms.none());{const r=t.data,n=En.empty();let s=new jr(Pr.comparator);for(let i of e.fields)if(!s.has(i)){let o=r.field(i);o===null&&i.length>1&&(i=i.popLast(),o=r.field(i)),o===null?n.delete(i):n.set(i,o),s=s.add(i)}return new Da(t.key,n,new Wn(s.toArray()),ms.none())}}function yV(t,e,r){t instanceof $h?function(s,i,o){const a=s.value.clone(),c=mT(s.fieldTransforms,i,o.transformResults);a.setAll(c),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,r):t instanceof Da?function(s,i,o){if(!Pm(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=mT(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(zA(s)),c.setAll(a),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,r):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,r)}function sf(t,e,r,n){return t instanceof $h?function(i,o,a,c){if(!Pm(i.precondition,o))return a;const u=i.value.clone(),d=gT(i.fieldTransforms,c,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,r,n):t instanceof Da?function(i,o,a,c){if(!Pm(i.precondition,o))return a;const u=gT(i.fieldTransforms,c,o),d=o.data;return d.setAll(zA(i)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,r,n):function(i,o,a){return Pm(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,r)}function vV(t,e){let r=null;for(const n of t.fieldTransforms){const s=e.data.field(n.field),i=LA(n.transform,s||null);i!=null&&(r===null&&(r=En.empty()),r.set(n.field,i))}return r||null}function pT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&bu(n,s,(i,o)=>mV(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class $h extends G0{constructor(e,r,n,s=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Da extends G0{constructor(e,r,n,s,i=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function zA(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function mT(t,e,r){const n=new Map;ht(t.length===r.length);for(let s=0;s<r.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);n.set(i.field,hV(o,a,r[s]))}return n}function gT(t,e,r){const n=new Map;for(const s of t){const i=s.transform,o=r.data.field(s.field);n.set(s.field,fV(i,o,e))}return n}class f_ extends G0{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bV extends G0{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(e,r,n,s){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=s}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&yV(i,e,n[s])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=sf(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=sf(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=OA();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=r.has(s.key)?null:a;const c=BA(o,a);c!==null&&n.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(De.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Ge())}isEqual(e){return this.batchId===e.batchId&&bu(this.mutations,e.mutations,(r,n)=>pT(r,n))&&bu(this.baseMutations,e.baseMutations,(r,n)=>pT(r,n))}}class h_{constructor(e,r,n,s){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=s}static from(e,r,n){ht(e.mutations.length===n.length);let s=function(){return aV}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,n[o].version);return new h_(e,r,n,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var er,Xe;function SV(t){switch(t){default:return je();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0}}function UA(t){if(t===void 0)return yo("GRPC error has no .code"),te.UNKNOWN;switch(t){case er.OK:return te.OK;case er.CANCELLED:return te.CANCELLED;case er.UNKNOWN:return te.UNKNOWN;case er.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case er.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case er.INTERNAL:return te.INTERNAL;case er.UNAVAILABLE:return te.UNAVAILABLE;case er.UNAUTHENTICATED:return te.UNAUTHENTICATED;case er.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case er.NOT_FOUND:return te.NOT_FOUND;case er.ALREADY_EXISTS:return te.ALREADY_EXISTS;case er.PERMISSION_DENIED:return te.PERMISSION_DENIED;case er.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case er.ABORTED:return te.ABORTED;case er.OUT_OF_RANGE:return te.OUT_OF_RANGE;case er.UNIMPLEMENTED:return te.UNIMPLEMENTED;case er.DATA_LOSS:return te.DATA_LOSS;default:return je()}}(Xe=er||(er={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TV=new yl([4294967295,4294967295],0);function yT(t){const e=EV().encode(t),r=new hA;return r.update(e),new Uint8Array(r.digest())}function vT(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new yl([r,n],0),new yl([s,i],0)]}class p_{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Od(`Invalid padding: ${r}`);if(n<0)throw new Od(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Od(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Od(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=yl.fromNumber(this.Ie)}Ee(e,r,n){let s=e.add(r.multiply(yl.fromNumber(n)));return s.compare(TV)===1&&(s=new yl([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=yT(e),[n,s]=vT(r);for(let i=0;i<this.hashCount;i++){const o=this.Ee(n,s,i);if(!this.de(o))return!1}return!0}static create(e,r,n){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new p_(i,s,r);return n.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const r=yT(e),[n,s]=vT(r);for(let i=0;i<this.hashCount;i++){const o=this.Ee(n,s,i);this.Ae(o)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Od extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e,r,n,s,i){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const s=new Map;return s.set(e,Bh.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new K0(De.min(),s,new Ut(et),vo(),Ge())}}class Bh{constructor(e,r,n,s,i){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Bh(n,r,Ge(),Ge(),Ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e,r,n,s){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=s}}class HA{constructor(e,r){this.targetId=e,this.me=r}}class WA{constructor(e,r,n=Or.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=s}}class bT{constructor(){this.fe=0,this.ge=wT(),this.pe=Or.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ge(),r=Ge(),n=Ge();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:r=r.add(s);break;case 1:n=n.add(s);break;default:je()}}),new Bh(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=wT()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ht(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class CV{constructor(e){this.Le=e,this.Be=new Map,this.ke=vo(),this.qe=xT(),this.Qe=new Ut(et)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:je()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((n,s)=>{this.ze(s)&&r(s)})}He(e){const r=e.targetId,n=e.me.count,s=this.Je(r);if(s){const i=s.target;if(Vx(i))if(n===0){const o=new _e(i.path);this.Ue(r,o,Qr.newNoDocument(o,De.min()))}else ht(n===1);else{const o=this.Ye(r);if(o!==n){const a=this.Ze(e),c=a?this.Xe(a,e,o):1;if(c!==0){this.je(r);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,u)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:s=0},hashCount:i=0}=r;let o,a;try{o=Dl(n).toUint8Array()}catch(c){if(c instanceof _A)return vu("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new p_(o,s,i)}catch(c){return vu(c instanceof Od?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ie===0?null:a}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let s=0;return n.forEach(i=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(r,i,null),s++)}),s}rt(e){const r=new Map;this.Be.forEach((i,o)=>{const a=this.Je(o);if(a){if(i.current&&Vx(a.target)){const c=new _e(a.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,Qr.newNoDocument(c,e))}i.be&&(r.set(o,i.ve()),i.Ce())}});let n=Ge();this.qe.forEach((i,o)=>{let a=!0;o.forEachWhile(c=>{const u=this.Je(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(n=n.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new K0(e,r,this.Qe,this.ke,n);return this.ke=vo(),this.qe=xT(),this.Qe=new Ut(et),s}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,r)?s.Fe(r,1):s.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new bT,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new jr(et),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||xe("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new bT),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function xT(){return new Ut(_e.comparator)}function wT(){return new Ut(_e.comparator)}const kV={asc:"ASCENDING",desc:"DESCENDING"},NV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},IV={and:"AND",or:"OR"};class PV{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Bx(t,e){return t.useProto3Json||z0(e)?e:{value:e}}function Bg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function AV(t,e){return Bg(t,e.toTimestamp())}function wi(t){return ht(!!t),De.fromTimestamp(function(r){const n=Ca(r);return new Bt(n.seconds,n.nanos)}(t))}function m_(t,e){return zx(t,e).canonicalString()}function zx(t,e){const r=function(s){return new At(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?r:r.child(e)}function GA(t){const e=At.fromString(t);return ht(JA(e)),e}function Ux(t,e){return m_(t.databaseId,e.path)}function Uv(t,e){const r=GA(e);if(r.get(1)!==t.databaseId.projectId)throw new fe(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new fe(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new _e(QA(r))}function KA(t,e){return m_(t.databaseId,e)}function jV(t){const e=GA(t);return e.length===4?At.emptyPath():QA(e)}function Hx(t){return new At(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function QA(t){return ht(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function _T(t,e,r){return{name:Ux(t,e),fields:r.value.mapValue.fields}}function RV(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:je()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(ht(d===void 0||typeof d=="string"),Or.fromBase64String(d||"")):(ht(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Or.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?te.UNKNOWN:UA(u.code);return new fe(d,u.message||"")}(o);r=new WA(n,s,i,a||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const s=Uv(t,n.document.name),i=wi(n.document.updateTime),o=n.document.createTime?wi(n.document.createTime):De.min(),a=new En({mapValue:{fields:n.document.fields}}),c=Qr.newFoundDocument(s,i,o,a),u=n.targetIds||[],d=n.removedTargetIds||[];r=new Am(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const s=Uv(t,n.document),i=n.readTime?wi(n.readTime):De.min(),o=Qr.newNoDocument(s,i),a=n.removedTargetIds||[];r=new Am([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const s=Uv(t,n.document),i=n.removedTargetIds||[];r=new Am([],i,s,null)}else{if(!("filter"in e))return je();{e.filter;const n=e.filter;n.targetId;const{count:s=0,unchangedNames:i}=n,o=new _V(s,i),a=n.targetId;r=new HA(a,o)}}return r}function DV(t,e){let r;if(e instanceof $h)r={update:_T(t,e.key,e.value)};else if(e instanceof f_)r={delete:Ux(t,e.key)};else if(e instanceof Da)r={update:_T(t,e.key,e.data),updateMask:UV(e.fieldMask)};else{if(!(e instanceof bV))return je();r={verify:Ux(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(i,o){const a=o.transform;if(a instanceof Jf)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Zf)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof eh)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof $g)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw je()}(0,n))),e.precondition.isNone||(r.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:AV(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:je()}(t,e.precondition)),r}function OV(t,e){return t&&t.length>0?(ht(e!==void 0),t.map(r=>function(s,i){let o=s.updateTime?wi(s.updateTime):wi(i);return o.isEqual(De.min())&&(o=wi(i)),new gV(o,s.transformResults||[])}(r,e))):[]}function MV(t,e){return{documents:[KA(t,e.path)]}}function LV(t,e){const r={structuredQuery:{}},n=e.path;let s;e.collectionGroup!==null?(s=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=KA(t,s);const i=function(u){if(u.length!==0)return XA(qs.create(u,"and"))}(e.filters);i&&(r.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(d=>function(p){return{field:mc(p.field),direction:$V(p.dir)}}(d))}(e.orderBy);o&&(r.structuredQuery.orderBy=o);const a=Bx(t,e.limit);return a!==null&&(r.structuredQuery.limit=a),e.startAt&&(r.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:r,parent:s}}function FV(t){let e=jV(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let s=null;if(n>0){ht(n===1);const d=r.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];r.where&&(i=function(h){const p=YA(h);return p instanceof qs&&CA(p)?p.getFilters():[p]}(r.where));let o=[];r.orderBy&&(o=function(h){return h.map(p=>function(v){return new Xf(gc(v.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(p))}(r.orderBy));let a=null;r.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,z0(p)?null:p}(r.limit));let c=null;r.startAt&&(c=function(h){const p=!!h.before,m=h.values||[];return new Fg(m,p)}(r.startAt));let u=null;return r.endAt&&(u=function(h){const p=!h.before,m=h.values||[];return new Fg(m,p)}(r.endAt)),rV(e,s,o,i,a,"F",c,u)}function VV(t,e){const r=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return je()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function YA(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=gc(r.unaryFilter.field);return sr.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=gc(r.unaryFilter.field);return sr.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=gc(r.unaryFilter.field);return sr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=gc(r.unaryFilter.field);return sr.create(o,"!=",{nullValue:"NULL_VALUE"});default:return je()}}(t):t.fieldFilter!==void 0?function(r){return sr.create(gc(r.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return je()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return qs.create(r.compositeFilter.filters.map(n=>YA(n)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return je()}}(r.compositeFilter.op))}(t):je()}function $V(t){return kV[t]}function BV(t){return NV[t]}function zV(t){return IV[t]}function mc(t){return{fieldPath:t.canonicalString()}}function gc(t){return Pr.fromServerFormat(t.fieldPath)}function XA(t){return t instanceof sr?function(r){if(r.op==="=="){if(lT(r.value))return{unaryFilter:{field:mc(r.field),op:"IS_NAN"}};if(aT(r.value))return{unaryFilter:{field:mc(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(lT(r.value))return{unaryFilter:{field:mc(r.field),op:"IS_NOT_NAN"}};if(aT(r.value))return{unaryFilter:{field:mc(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mc(r.field),op:BV(r.op),value:r.value}}}(t):t instanceof qs?function(r){const n=r.getFilters().map(s=>XA(s));return n.length===1?n[0]:{compositeFilter:{op:zV(r.op),filters:n}}}(t):je()}function UV(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function JA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,r,n,s,i=De.min(),o=De.min(),a=Or.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new oa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new oa(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new oa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new oa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(e){this.ct=e}}function WV(t){const e=FV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Vg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(){this.un=new GV}addToCollectionParentIndex(e,r){return this.un.add(r),se.resolve()}getCollectionParents(e,r){return se.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return se.resolve()}deleteFieldIndex(e,r){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,r){return se.resolve()}getDocumentsMatchingTarget(e,r){return se.resolve(null)}getIndexType(e,r){return se.resolve(0)}getFieldIndexes(e,r){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,r){return se.resolve(Ta.min())}getMinOffsetFromCollectionGroup(e,r){return se.resolve(Ta.min())}updateCollectionGroup(e,r,n){return se.resolve()}updateIndexEntries(e,r){return se.resolve()}}class GV{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),s=this.index[r]||new jr(At.comparator),i=!s.has(n);return this.index[r]=s.add(n),i}has(e){const r=e.lastSegment(),n=e.popLast(),s=this.index[r];return s&&s.has(n)}getEntries(e){return(this.index[e]||new jr(At.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new _u(0)}static kn(){return new _u(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(){this.changes=new Uu(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Qr.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?se.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(e,r,n,s){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=s}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(s=>(n=s,this.remoteDocumentCache.getEntry(e,r))).next(s=>(n!==null&&sf(n.mutation,s,Wn.empty(),Bt.now()),s))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,Ge()).next(()=>n))}getLocalViewOfDocuments(e,r,n=Ge()){const s=ll();return this.populateOverlays(e,s,r).next(()=>this.computeViews(e,r,s,n).next(i=>{let o=Dd();return i.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,r){const n=ll();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,Ge()))}populateOverlays(e,r,n){const s=[];return n.forEach(i=>{r.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{r.set(o,a)})})}computeViews(e,r,n,s){let i=vo();const o=nf(),a=function(){return nf()}();return r.forEach((c,u)=>{const d=n.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof Da)?i=i.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),sf(d.mutation,u,d.mutation.getFieldMask(),Bt.now())):o.set(u.key,Wn.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((u,d)=>o.set(u,d)),r.forEach((u,d)=>{var h;return a.set(u,new QV(d,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,r){const n=nf();let s=new Ut((o,a)=>o-a),i=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(o=>{for(const a of o)a.keys().forEach(c=>{const u=r.get(c);if(u===null)return;let d=n.get(c)||Wn.empty();d=a.applyToLocalView(u,d),n.set(c,d);const h=(s.get(a.batchId)||Ge()).add(c);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,d=c.value,h=OA();d.forEach(p=>{if(!i.has(p)){const m=BA(r.get(p),n.get(p));m!==null&&h.set(p,m),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return se.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,s){return function(o){return _e.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):PA(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,s):this.getDocumentsMatchingCollectionQuery(e,r,n,s)}getNextDocuments(e,r,n,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,s-i.size):se.resolve(ll());let a=-1,c=i;return o.next(u=>se.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(d)?se.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{c=c.insert(d,p)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,c,u,Ge())).next(d=>({batchId:a,changes:DA(d)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new _e(r)).next(n=>{let s=Dd();return n.isFoundDocument()&&(s=s.insert(n.key,n)),s})}getDocumentsMatchingCollectionGroupQuery(e,r,n,s){const i=r.collectionGroup;let o=Dd();return this.indexManager.getCollectionParents(e,i).next(a=>se.forEach(a,c=>{const u=function(h,p){return new zu(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(r,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,n,s).next(d=>{d.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,r,n,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,i,s))).next(o=>{i.forEach((c,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,Qr.newInvalidDocument(d)))});let a=Dd();return o.forEach((c,u)=>{const d=i.get(c);d!==void 0&&sf(d.mutation,u,Wn.empty(),Bt.now()),W0(r,u)&&(a=a.insert(c,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return se.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(s){return{id:s.id,version:s.version,createTime:wi(s.createTime)}}(r)),se.resolve()}getNamedQuery(e,r){return se.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(s){return{name:s.name,query:WV(s.bundledQuery),readTime:wi(s.readTime)}}(r)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(){this.overlays=new Ut(_e.comparator),this.Ir=new Map}getOverlay(e,r){return se.resolve(this.overlays.get(r))}getOverlays(e,r){const n=ll();return se.forEach(r,s=>this.getOverlay(e,s).next(i=>{i!==null&&n.set(s,i)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((s,i)=>{this.ht(e,r,i)}),se.resolve()}removeOverlaysForBatchId(e,r,n){const s=this.Ir.get(n);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(n)),se.resolve()}getOverlaysForCollection(e,r,n){const s=ll(),i=r.length+1,o=new _e(r.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===i&&c.largestBatchId>n&&s.set(c.getKey(),c)}return se.resolve(s)}getOverlaysForCollectionGroup(e,r,n,s){let i=new Ut((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let d=i.get(u.largestBatchId);d===null&&(d=ll(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=ll(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=s)););return se.resolve(a)}ht(e,r,n){const s=this.overlays.get(n.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(n.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new wV(r,n));let i=this.Ir.get(r);i===void 0&&(i=Ge(),this.Ir.set(r,i)),this.Ir.set(r,i.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(){this.sessionToken=Or.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(){this.Tr=new jr(vr.Er),this.dr=new jr(vr.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new vr(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Vr(new vr(e,r))}mr(e,r){e.forEach(n=>this.removeReference(n,r))}gr(e){const r=new _e(new At([])),n=new vr(r,e),s=new vr(r,e+1),i=[];return this.dr.forEachInRange([n,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new _e(new At([])),n=new vr(r,e),s=new vr(r,e+1);let i=Ge();return this.dr.forEachInRange([n,s],o=>{i=i.add(o.key)}),i}containsKey(e){const r=new vr(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class vr{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return _e.comparator(e.key,r.key)||et(e.wr,r.wr)}static Ar(e,r){return et(e.wr,r.wr)||_e.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e7{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new jr(vr.Er)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new xV(i,r,n,s);this.mutationQueue.push(o);for(const a of s)this.br=this.br.add(new vr(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return se.resolve(o)}lookupMutationBatch(e,r){return se.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,s=this.vr(n),i=s<0?0:s;return se.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new vr(r,0),s=new vr(r,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([n,s],o=>{const a=this.Dr(o.wr);i.push(a)}),se.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new jr(et);return r.forEach(s=>{const i=new vr(s,0),o=new vr(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],a=>{n=n.add(a.wr)})}),se.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,s=n.length+1;let i=n;_e.isDocumentKey(i)||(i=i.child(""));const o=new vr(new _e(i),0);let a=new jr(et);return this.br.forEachWhile(c=>{const u=c.key.path;return!!n.isPrefixOf(u)&&(u.length===s&&(a=a.add(c.wr)),!0)},o),se.resolve(this.Cr(a))}Cr(e){const r=[];return e.forEach(n=>{const s=this.Dr(n);s!==null&&r.push(s)}),r}removeMutationBatch(e,r){ht(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return se.forEach(r.mutations,s=>{const i=new vr(s.key,r.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,r){const n=new vr(r,0),s=this.br.firstAfterOrEqual(n);return se.resolve(r.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t7{constructor(e){this.Mr=e,this.docs=function(){return new Ut(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,s=this.docs.get(n),i=s?s.size:0,o=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return se.resolve(n?n.document.mutableCopy():Qr.newInvalidDocument(r))}getEntries(e,r){let n=vo();return r.forEach(s=>{const i=this.docs.get(s);n=n.insert(s,i?i.document.mutableCopy():Qr.newInvalidDocument(s))}),se.resolve(n)}getDocumentsMatchingQuery(e,r,n,s){let i=vo();const o=r.path,a=new _e(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||L9(M9(d),n)<=0||(s.has(d.key)||W0(r,d))&&(i=i.insert(d.key,d.mutableCopy()))}return se.resolve(i)}getAllFromCollectionGroup(e,r,n,s){je()}Or(e,r){return se.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new r7(this)}getSize(e){return se.resolve(this.size)}}class r7 extends KV{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((n,s)=>{s.isValidDocument()?r.push(this.cr.addEntry(e,s)):this.cr.removeEntry(n)}),se.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n7{constructor(e){this.persistence=e,this.Nr=new Uu(r=>c_(r),u_),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.Lr=0,this.Br=new g_,this.targetCount=0,this.kr=_u.Bn()}forEachTarget(e,r){return this.Nr.forEach((n,s)=>r(s)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),se.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new _u(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,se.resolve()}updateTargetData(e,r){return this.Kn(r),se.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,r,n){let s=0;const i=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=r&&n.get(a.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),se.waitFor(i).next(()=>s)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return se.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),se.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const s=this.persistence.referenceDelegate,i=[];return s&&r.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),se.waitFor(i)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),se.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return se.resolve(n)}containsKey(e,r){return se.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s7{constructor(e,r){this.qr={},this.overlays={},this.Qr=new i_(0),this.Kr=!1,this.Kr=!0,this.$r=new ZV,this.referenceDelegate=e(this),this.Ur=new n7(this),this.indexManager=new qV,this.remoteDocumentCache=function(s){return new t7(s)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new HV(r),this.Gr=new XV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new JV,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new e7(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){xe("MemoryPersistence","Starting transaction:",e);const s=new i7(this.Qr.next());return this.referenceDelegate.zr(),n(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,r){return se.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,r)))}}class i7 extends V9{constructor(e){super(),this.currentSequenceNumber=e}}class y_{constructor(e){this.persistence=e,this.Jr=new g_,this.Yr=null}static Zr(e){return new y_(e)}get Xr(){if(this.Yr)return this.Yr;throw je()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),se.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),se.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),se.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(s=>this.Xr.add(s.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>n.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.Xr,n=>{const s=_e.fromPath(n);return this.ei(e,s).next(i=>{i||r.removeEntry(s,De.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return se.or([()=>se.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(e,r,n,s){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=s}static Wi(e,r){let n=Ge(),s=Ge();for(const i of r.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new v_(e,r.fromCache,n,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a7{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return H8()?8:$9(Zr())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,s){const i={result:null};return this.Yi(e,r).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,r,s,n).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new o7;return this.Xi(e,r,o).next(a=>{if(i.result=a,this.zi)return this.es(e,r,o,a.size)})}).next(()=>i.result)}es(e,r,n,s){return n.documentReadCount<this.ji?(md()<=Ye.DEBUG&&xe("QueryEngine","SDK will not create cache indexes for query:",pc(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),se.resolve()):(md()<=Ye.DEBUG&&xe("QueryEngine","Query:",pc(r),"scans",n.documentReadCount,"local documents and returns",s,"documents as results."),n.documentReadCount>this.Hi*s?(md()<=Ye.DEBUG&&xe("QueryEngine","The SDK decides to create cache indexes for query:",pc(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xi(r))):se.resolve())}Yi(e,r){if(fT(r))return se.resolve(null);let n=xi(r);return this.indexManager.getIndexType(e,n).next(s=>s===0?null:(r.limit!==null&&s===1&&(r=Vg(r,null,"F"),n=xi(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(i=>{const o=Ge(...i);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,n).next(c=>{const u=this.ts(r,a);return this.ns(r,u,o,c.readTime)?this.Yi(e,Vg(r,null,"F")):this.rs(e,u,r,c)}))})))}Zi(e,r,n,s){return fT(r)||s.isEqual(De.min())?se.resolve(null):this.Ji.getDocuments(e,n).next(i=>{const o=this.ts(r,i);return this.ns(r,o,n,s)?se.resolve(null):(md()<=Ye.DEBUG&&xe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),pc(r)),this.rs(e,o,r,O9(s,-1)).next(a=>a))})}ts(e,r){let n=new jr(jA(e));return r.forEach((s,i)=>{W0(e,i)&&(n=n.add(i))}),n}ns(e,r,n,s){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const i=e.limitType==="F"?r.last():r.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,r,n){return md()<=Ye.DEBUG&&xe("QueryEngine","Using full collection scan to execute query:",pc(r)),this.Ji.getDocumentsMatchingQuery(e,r,Ta.min(),n)}rs(e,r,n,s){return this.Ji.getDocumentsMatchingQuery(e,n,s).next(i=>(r.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l7{constructor(e,r,n,s){this.persistence=e,this.ss=r,this.serializer=s,this.os=new Ut(et),this._s=new Uu(i=>c_(i),u_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new YV(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function c7(t,e,r,n){return new l7(t,e,r,n)}async function ZA(t,e){const r=Oe(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let s;return r.mutationQueue.getAllMutationBatches(n).next(i=>(s=i,r.ls(e),r.mutationQueue.getAllMutationBatches(n))).next(i=>{const o=[],a=[];let c=Ge();for(const u of s){o.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of i){a.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return r.localDocuments.getDocuments(n,c).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function u7(t,e){const r=Oe(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const s=e.batch.keys(),i=r.cs.newChangeBuffer({trackRemovals:!0});return function(a,c,u,d){const h=u.batch,p=h.keys();let m=se.resolve();return p.forEach(v=>{m=m.next(()=>d.getEntry(c,v)).next(b=>{const y=u.docVersions.get(v);ht(y!==null),b.version.compareTo(y)<0&&(h.applyToRemoteDocument(b,u),b.isValidDocument()&&(b.setReadTime(u.commitVersion),d.addEntry(b)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(c,h))}(r,n,e,i).next(()=>i.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,s,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(a){let c=Ge();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>r.localDocuments.getDocuments(n,s))})}function ej(t){const e=Oe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function d7(t,e){const r=Oe(t),n=e.snapshotVersion;let s=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=r.cs.newChangeBuffer({trackRemovals:!0});s=r.os;const a=[];e.targetChanges.forEach((d,h)=>{const p=s.get(h);if(!p)return;a.push(r.Ur.removeMatchingKeys(i,d.removedDocuments,h).next(()=>r.Ur.addMatchingKeys(i,d.addedDocuments,h)));let m=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(Or.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,n)),s=s.insert(h,m),function(b,y,x){return b.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(p,m,d)&&a.push(r.Ur.updateTargetData(i,m))});let c=vo(),u=Ge();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(r.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(f7(i,o,e.documentUpdates).next(d=>{c=d.Ps,u=d.Is})),!n.isEqual(De.min())){const d=r.Ur.getLastRemoteSnapshotVersion(i).next(h=>r.Ur.setTargetsMetadata(i,i.currentSequenceNumber,n));a.push(d)}return se.waitFor(a).next(()=>o.apply(i)).next(()=>r.localDocuments.getLocalViewOfDocuments(i,c,u)).next(()=>c)}).then(i=>(r.os=s,i))}function f7(t,e,r){let n=Ge(),s=Ge();return r.forEach(i=>n=n.add(i)),e.getEntries(t,n).next(i=>{let o=vo();return r.forEach((a,c)=>{const u=i.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),c.isNoDocument()&&c.version.isEqual(De.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):xe("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{Ps:o,Is:s}})}function h7(t,e){const r=Oe(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function p7(t,e){const r=Oe(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let s;return r.Ur.getTargetData(n,e).next(i=>i?(s=i,se.resolve(s)):r.Ur.allocateTargetId(n).next(o=>(s=new oa(e,o,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,s).next(()=>s))))}).then(n=>{const s=r.os.get(n.targetId);return(s===null||n.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n})}async function Wx(t,e,r){const n=Oe(t),s=n.os.get(e),i=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",i,o=>n.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Vh(o))throw o;xe("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}n.os=n.os.remove(e),n._s.delete(s.target)}function ST(t,e,r){const n=Oe(t);let s=De.min(),i=Ge();return n.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,d){const h=Oe(c),p=h._s.get(d);return p!==void 0?se.resolve(h.os.get(p)):h.Ur.getTargetData(u,d)}(n,o,xi(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(o,a.targetId).next(c=>{i=c})}).next(()=>n.ss.getDocumentsMatchingQuery(o,e,r?s:De.min(),r?i:Ge())).next(a=>(m7(n,sV(e),a),{documents:a,Ts:i})))}function m7(t,e,r){let n=t.us.get(e)||De.min();r.forEach((s,i)=>{i.readTime.compareTo(n)>0&&(n=i.readTime)}),t.us.set(e,n)}class ET{constructor(){this.activeTargetIds=uV()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class g7{constructor(){this.so=new ET,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new ET,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y7{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){xe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){xe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hp=null;function Hv(){return Hp===null?Hp=function(){return 268435456+Math.round(2147483648*Math.random())}():Hp++,"0x"+Hp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b7{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hr="WebChannelConnection";class x7 extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(r,n,s,i,o){const a=Hv(),c=this.xo(r,n.toUriEncodedString());xe("RestConnection",`Sending RPC '${r}' ${a}:`,c,s);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,i,o),this.No(r,c,u,s).then(d=>(xe("RestConnection",`Received RPC '${r}' ${a}: `,d),d),d=>{throw vu("RestConnection",`RPC '${r}' ${a} failed with error: `,d,"url: ",c,"request:",s),d})}Lo(r,n,s,i,o,a){return this.Mo(r,n,s,i,o)}Oo(r,n,s){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Bu}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>r[o]=i),s&&s.headers.forEach((i,o)=>r[o]=i)}xo(r,n){const s=v7[r];return`${this.Do}/v1/${n}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,s){const i=Hv();return new Promise((o,a)=>{const c=new pA;c.setWithCredentials(!0),c.listenOnce(mA.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Nm.NO_ERROR:const d=c.getResponseJson();xe(Hr,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(d)),o(d);break;case Nm.TIMEOUT:xe(Hr,`RPC '${e}' ${i} timed out`),a(new fe(te.DEADLINE_EXCEEDED,"Request time out"));break;case Nm.HTTP_ERROR:const h=c.getStatus();if(xe(Hr,`RPC '${e}' ${i} failed with status:`,h,"response text:",c.getResponseText()),h>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const v=function(y){const x=y.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(x)>=0?x:te.UNKNOWN}(m.status);a(new fe(v,m.message))}else a(new fe(te.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new fe(te.UNAVAILABLE,"Connection failed."));break;default:je()}}finally{xe(Hr,`RPC '${e}' ${i} completed.`)}});const u=JSON.stringify(s);xe(Hr,`RPC '${e}' ${i} sending request:`,s),c.send(r,"POST",u,n,15)})}Bo(e,r,n){const s=Hv(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=vA(),a=yA(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,r,n),c.encodeInitMessageHeaders=!0;const d=i.join("");xe(Hr,`Creating RPC '${e}' stream ${s}: ${d}`,c);const h=o.createWebChannel(d,c);let p=!1,m=!1;const v=new b7({Io:y=>{m?xe(Hr,`Not sending because RPC '${e}' stream ${s} is closed:`,y):(p||(xe(Hr,`Opening RPC '${e}' stream ${s} transport.`),h.open(),p=!0),xe(Hr,`RPC '${e}' stream ${s} sending:`,y),h.send(y))},To:()=>h.close()}),b=(y,x,g)=>{y.listen(x,w=>{try{g(w)}catch(I){setTimeout(()=>{throw I},0)}})};return b(h,Rd.EventType.OPEN,()=>{m||(xe(Hr,`RPC '${e}' stream ${s} transport opened.`),v.yo())}),b(h,Rd.EventType.CLOSE,()=>{m||(m=!0,xe(Hr,`RPC '${e}' stream ${s} transport closed`),v.So())}),b(h,Rd.EventType.ERROR,y=>{m||(m=!0,vu(Hr,`RPC '${e}' stream ${s} transport errored:`,y),v.So(new fe(te.UNAVAILABLE,"The operation could not be completed")))}),b(h,Rd.EventType.MESSAGE,y=>{var x;if(!m){const g=y.data[0];ht(!!g);const w=g,I=w.error||((x=w[0])===null||x===void 0?void 0:x.error);if(I){xe(Hr,`RPC '${e}' stream ${s} received error:`,I);const P=I.status;let A=function(C){const k=er[C];if(k!==void 0)return UA(k)}(P),S=I.message;A===void 0&&(A=te.INTERNAL,S="Unknown error status: "+P+" with message "+I.message),m=!0,v.So(new fe(A,S)),h.close()}else xe(Hr,`RPC '${e}' stream ${s} received:`,g),v.bo(g)}}),b(a,gA.STAT_EVENT,y=>{y.stat===Ox.PROXY?xe(Hr,`RPC '${e}' stream ${s} detected buffering proxy`):y.stat===Ox.NOPROXY&&xe(Hr,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{v.wo()},0),v}}function Wv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(t){return new PV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(e,r,n=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),s=Math.max(0,r-n);s>0&&xe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{constructor(e,r,n,s,i,o,a,c){this.ui=e,this.Ho=n,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new tj(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===te.RESOURCE_EXHAUSTED?(yo(r.toString()),yo("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,s])=>{this.Yo===r&&this.P_(n,s)},n=>{e(()=>{const s=new fe(te.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(s)})})}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{n(()=>this.I_(s))}),this.stream.onMessage(s=>{n(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return xe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(xe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class w7 extends rj{constructor(e,r,n,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,s,o),this.serializer=i}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=RV(this.serializer,e),n=function(i){if(!("targetChange"in i))return De.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?De.min():o.readTime?wi(o.readTime):De.min()}(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=Hx(this.serializer),r.addTarget=function(i,o){let a;const c=o.target;if(a=Vx(c)?{documents:MV(i,c)}:{query:LV(i,c)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=qA(i,o.resumeToken);const u=Bx(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(De.min())>0){a.readTime=Bg(i,o.snapshotVersion.toTimestamp());const u=Bx(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const n=VV(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=Hx(this.serializer),r.removeTarget=e,this.a_(r)}}class _7 extends rj{constructor(e,r,n,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return ht(!!e.streamToken),this.lastStreamToken=e.streamToken,ht(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ht(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=OV(e.writeResults,e.commitTime),n=wi(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=Hx(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>DV(this.serializer,n))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S7 extends class{}{constructor(e,r,n,s){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new fe(te.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,zx(r,n),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new fe(te.UNKNOWN,i.toString())})}Lo(e,r,n,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,zx(r,n),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new fe(te.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class E7{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(yo(r),this.D_=!1):xe("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T7{constructor(e,r,n,s,i){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{n.enqueueAndForget(async()=>{ql(this)&&(xe("RemoteStore","Restarting streams for network reachability change."),await async function(c){const u=Oe(c);u.L_.add(4),await zh(u),u.q_.set("Unknown"),u.L_.delete(4),await Y0(u)}(this))})}),this.q_=new E7(n,s)}}async function Y0(t){if(ql(t))for(const e of t.B_)await e(!0)}async function zh(t){for(const e of t.B_)await e(!1)}function nj(t,e){const r=Oe(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),__(r)?w_(r):Hu(r).r_()&&x_(r,e))}function b_(t,e){const r=Oe(t),n=Hu(r);r.N_.delete(e),n.r_()&&sj(r,e),r.N_.size===0&&(n.r_()?n.o_():ql(r)&&r.q_.set("Unknown"))}function x_(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Hu(t).A_(e)}function sj(t,e){t.Q_.xe(e),Hu(t).R_(e)}function w_(t){t.Q_=new CV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Hu(t).start(),t.q_.v_()}function __(t){return ql(t)&&!Hu(t).n_()&&t.N_.size>0}function ql(t){return Oe(t).L_.size===0}function ij(t){t.Q_=void 0}async function C7(t){t.q_.set("Online")}async function k7(t){t.N_.forEach((e,r)=>{x_(t,e)})}async function N7(t,e){ij(t),__(t)?(t.q_.M_(e),w_(t)):t.q_.set("Unknown")}async function I7(t,e,r){if(t.q_.set("Online"),e instanceof WA&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.N_.delete(a),s.Q_.removeTarget(a))}(t,e)}catch(n){xe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await zg(t,n)}else if(e instanceof Am?t.Q_.Ke(e):e instanceof HA?t.Q_.He(e):t.Q_.We(e),!r.isEqual(De.min()))try{const n=await ej(t.localStore);r.compareTo(n)>=0&&await function(i,o){const a=i.Q_.rt(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=i.N_.get(u);d&&i.N_.set(u,d.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{const d=i.N_.get(c);if(!d)return;i.N_.set(c,d.withResumeToken(Or.EMPTY_BYTE_STRING,d.snapshotVersion)),sj(i,c);const h=new oa(d.target,c,u,d.sequenceNumber);x_(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,r)}catch(n){xe("RemoteStore","Failed to raise snapshot:",n),await zg(t,n)}}async function zg(t,e,r){if(!Vh(e))throw e;t.L_.add(1),await zh(t),t.q_.set("Offline"),r||(r=()=>ej(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{xe("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await Y0(t)})}function oj(t,e){return e().catch(r=>zg(t,r,e))}async function X0(t){const e=Oe(t),r=ka(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;P7(e);)try{const s=await h7(e.localStore,n);if(s===null){e.O_.length===0&&r.o_();break}n=s.batchId,A7(e,s)}catch(s){await zg(e,s)}aj(e)&&lj(e)}function P7(t){return ql(t)&&t.O_.length<10}function A7(t,e){t.O_.push(e);const r=ka(t);r.r_()&&r.V_&&r.m_(e.mutations)}function aj(t){return ql(t)&&!ka(t).n_()&&t.O_.length>0}function lj(t){ka(t).start()}async function j7(t){ka(t).p_()}async function R7(t){const e=ka(t);for(const r of t.O_)e.m_(r.mutations)}async function D7(t,e,r){const n=t.O_.shift(),s=h_.from(n,e,r);await oj(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await X0(t)}async function O7(t,e){e&&ka(t).V_&&await async function(n,s){if(function(o){return SV(o)&&o!==te.ABORTED}(s.code)){const i=n.O_.shift();ka(n).s_(),await oj(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,s)),await X0(n)}}(t,e),aj(t)&&lj(t)}async function CT(t,e){const r=Oe(t);r.asyncQueue.verifyOperationInProgress(),xe("RemoteStore","RemoteStore received new credentials");const n=ql(r);r.L_.add(3),await zh(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await Y0(r)}async function M7(t,e){const r=Oe(t);e?(r.L_.delete(2),await Y0(r)):e||(r.L_.add(2),await zh(r),r.q_.set("Unknown"))}function Hu(t){return t.K_||(t.K_=function(r,n,s){const i=Oe(r);return i.w_(),new w7(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:C7.bind(null,t),Ro:k7.bind(null,t),mo:N7.bind(null,t),d_:I7.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),__(t)?w_(t):t.q_.set("Unknown")):(await t.K_.stop(),ij(t))})),t.K_}function ka(t){return t.U_||(t.U_=function(r,n,s){const i=Oe(r);return i.w_(),new _7(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:j7.bind(null,t),mo:O7.bind(null,t),f_:R7.bind(null,t),g_:D7.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await X0(t)):(await t.U_.stop(),t.O_.length>0&&(xe("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(e,r,n,s,i){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=s,this.removalCallback=i,this.deferred=new ao,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,s,i){const o=Date.now()+n,a=new S_(e,r,o,s,i);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function E_(t,e){if(yo("AsyncQueue",`${e}: ${t}`),Vh(t))return new fe(te.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e){this.comparator=e?(r,n)=>e(r,n)||_e.comparator(r.key,n.key):(r,n)=>_e.comparator(r.key,n.key),this.keyedMap=Dd(),this.sortedSet=new Ut(this.comparator)}static emptySet(e){return new Yc(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Yc)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const s=r.getNext().key,i=n.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Yc;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(){this.W_=new Ut(_e.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):je():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,n)=>{e.push(n)}),e}}class Su{constructor(e,r,n,s,i,o,a,c,u){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,r,n,s,i){const o=[];return r.forEach(a=>{o.push({type:0,doc:a})}),new Su(e,r,Yc.emptySet(r),o,n,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&H0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let s=0;s<r.length;s++)if(r[s].type!==n[s].type||!r[s].doc.isEqual(n[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L7{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class F7{constructor(){this.queries=NT(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const s=Oe(r),i=s.queries;s.queries=NT(),i.forEach((o,a)=>{for(const c of a.j_)c.onError(n)})})(this,new fe(te.ABORTED,"Firestore shutting down"))}}function NT(){return new Uu(t=>AA(t),H0)}async function T_(t,e){const r=Oe(t);let n=3;const s=e.query;let i=r.queries.get(s);i?!i.H_()&&e.J_()&&(n=2):(i=new L7,n=e.J_()?0:1);try{switch(n){case 0:i.z_=await r.onListen(s,!0);break;case 1:i.z_=await r.onListen(s,!1);break;case 2:await r.onFirstRemoteStoreListen(s)}}catch(o){const a=E_(o,`Initialization of query '${pc(e.query)}' failed`);return void e.onError(a)}r.queries.set(s,i),i.j_.push(e),e.Z_(r.onlineState),i.z_&&e.X_(i.z_)&&k_(r)}async function C_(t,e){const r=Oe(t),n=e.query;let s=3;const i=r.queries.get(n);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function V7(t,e){const r=Oe(t);let n=!1;for(const s of e){const i=s.query,o=r.queries.get(i);if(o){for(const a of o.j_)a.X_(s)&&(n=!0);o.z_=s}}n&&k_(r)}function $7(t,e,r){const n=Oe(t),s=n.queries.get(e);if(s)for(const i of s.j_)i.onError(r);n.queries.delete(e)}function k_(t){t.Y_.forEach(e=>{e.next()})}var qx,IT;(IT=qx||(qx={})).ea="default",IT.Cache="cache";class N_{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const s of e.docChanges)s.type!==3&&n.push(s);e=new Su(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=Su.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==qx.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(e){this.key=e}}class uj{constructor(e){this.key=e}}class B7{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ge(),this.mutatedKeys=Ge(),this.Aa=jA(e),this.Ra=new Yc(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new kT,s=r?r.Ra:this.Ra;let i=r?r.mutatedKeys:this.mutatedKeys,o=s,a=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const p=s.get(d),m=W0(this.query,h)?h:null,v=!!p&&this.mutatedKeys.has(p.key),b=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let y=!1;p&&m?p.data.isEqual(m.data)?v!==b&&(n.track({type:3,doc:m}),y=!0):this.ga(p,m)||(n.track({type:2,doc:m}),y=!0,(c&&this.Aa(m,c)>0||u&&this.Aa(m,u)<0)&&(a=!0)):!p&&m?(n.track({type:0,doc:m}),y=!0):p&&!m&&(n.track({type:1,doc:p}),y=!0,(c||u)&&(a=!0)),y&&(m?(o=o.add(m),i=b?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),n.track({type:1,doc:d})}return{Ra:o,fa:n,ns:a,mutatedKeys:i}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,h)=>function(m,v){const b=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return je()}};return b(m)-b(v)}(d.type,h.type)||this.Aa(d.doc,h.doc)),this.pa(n),s=s!=null&&s;const a=r&&!s?this.ya():[],c=this.da.size===0&&this.current&&!s?1:0,u=c!==this.Ea;return this.Ea=c,o.length!==0||u?{snapshot:new Su(this.query,e.Ra,i,o,e.mutatedKeys,c===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new kT,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ge(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return e.forEach(n=>{this.da.has(n)||r.push(new uj(n))}),this.da.forEach(n=>{e.has(n)||r.push(new cj(n))}),r}ba(e){this.Ta=e.Ts,this.da=Ge();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return Su.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class z7{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class U7{constructor(e){this.key=e,this.va=!1}}class H7{constructor(e,r,n,s,i,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Uu(a=>AA(a),H0),this.Ma=new Map,this.xa=new Set,this.Oa=new Ut(_e.comparator),this.Na=new Map,this.La=new g_,this.Ba={},this.ka=new Map,this.qa=_u.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function W7(t,e,r=!0){const n=gj(t);let s;const i=n.Fa.get(e);return i?(n.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await dj(n,e,r,!0),s}async function q7(t,e){const r=gj(t);await dj(r,e,!0,!1)}async function dj(t,e,r,n){const s=await p7(t.localStore,xi(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,r);let a;return n&&(a=await G7(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&r&&nj(t.remoteStore,s),a}async function G7(t,e,r,n,s){t.Ka=(h,p,m)=>async function(b,y,x,g){let w=y.view.ma(x);w.ns&&(w=await ST(b.localStore,y.query,!1).then(({documents:S})=>y.view.ma(S,w)));const I=g&&g.targetChanges.get(y.targetId),P=g&&g.targetMismatches.get(y.targetId)!=null,A=y.view.applyChanges(w,b.isPrimaryClient,I,P);return AT(b,y.targetId,A.wa),A.snapshot}(t,h,p,m);const i=await ST(t.localStore,e,!0),o=new B7(e,i.Ts),a=o.ma(i.documents),c=Bh.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,c);AT(t,r,u.wa);const d=new z7(e,r,o);return t.Fa.set(e,d),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),u.snapshot}async function K7(t,e,r){const n=Oe(t),s=n.Fa.get(e),i=n.Ma.get(s.targetId);if(i.length>1)return n.Ma.set(s.targetId,i.filter(o=>!H0(o,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await Wx(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),r&&b_(n.remoteStore,s.targetId),Gx(n,s.targetId)}).catch(Fh)):(Gx(n,s.targetId),await Wx(n.localStore,s.targetId,!0))}async function Q7(t,e){const r=Oe(t),n=r.Fa.get(e),s=r.Ma.get(n.targetId);r.isPrimaryClient&&s.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),b_(r.remoteStore,n.targetId))}async function Y7(t,e,r){const n=n$(t);try{const s=await function(o,a){const c=Oe(o),u=Bt.now(),d=a.reduce((m,v)=>m.add(v.key),Ge());let h,p;return c.persistence.runTransaction("Locally write mutations","readwrite",m=>{let v=vo(),b=Ge();return c.cs.getEntries(m,d).next(y=>{v=y,v.forEach((x,g)=>{g.isValidDocument()||(b=b.add(x))})}).next(()=>c.localDocuments.getOverlayedDocuments(m,v)).next(y=>{h=y;const x=[];for(const g of a){const w=vV(g,h.get(g.key).overlayedDocument);w!=null&&x.push(new Da(g.key,w,SA(w.value.mapValue),ms.exists(!0)))}return c.mutationQueue.addMutationBatch(m,u,x,a)}).next(y=>{p=y;const x=y.applyToLocalDocumentSet(h,b);return c.documentOverlayCache.saveOverlays(m,y.batchId,x)})}).then(()=>({batchId:p.batchId,changes:DA(h)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(s.batchId),function(o,a,c){let u=o.Ba[o.currentUser.toKey()];u||(u=new Ut(et)),u=u.insert(a,c),o.Ba[o.currentUser.toKey()]=u}(n,s.batchId,r),await Uh(n,s.changes),await X0(n.remoteStore)}catch(s){const i=E_(s,"Failed to persist write");r.reject(i)}}async function fj(t,e){const r=Oe(t);try{const n=await d7(r.localStore,e);e.targetChanges.forEach((s,i)=>{const o=r.Na.get(i);o&&(ht(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?ht(o.va):s.removedDocuments.size>0&&(ht(o.va),o.va=!1))}),await Uh(r,n,e)}catch(n){await Fh(n)}}function PT(t,e,r){const n=Oe(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const s=[];n.Fa.forEach((i,o)=>{const a=o.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const c=Oe(o);c.onlineState=a;let u=!1;c.queries.forEach((d,h)=>{for(const p of h.j_)p.Z_(a)&&(u=!0)}),u&&k_(c)}(n.eventManager,e),s.length&&n.Ca.d_(s),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function X7(t,e,r){const n=Oe(t);n.sharedClientState.updateQueryState(e,"rejected",r);const s=n.Na.get(e),i=s&&s.key;if(i){let o=new Ut(_e.comparator);o=o.insert(i,Qr.newNoDocument(i,De.min()));const a=Ge().add(i),c=new K0(De.min(),new Map,new Ut(et),o,a);await fj(n,c),n.Oa=n.Oa.remove(i),n.Na.delete(e),I_(n)}else await Wx(n.localStore,e,!1).then(()=>Gx(n,e,r)).catch(Fh)}async function J7(t,e){const r=Oe(t),n=e.batch.batchId;try{const s=await u7(r.localStore,e);pj(r,n,null),hj(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Uh(r,s)}catch(s){await Fh(s)}}async function Z7(t,e,r){const n=Oe(t);try{const s=await function(o,a){const c=Oe(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,a).next(h=>(ht(h!==null),d=h.keys(),c.mutationQueue.removeMutationBatch(u,h))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(n.localStore,e);pj(n,e,r),hj(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Uh(n,s)}catch(s){await Fh(s)}}function hj(t,e){(t.ka.get(e)||[]).forEach(r=>{r.resolve()}),t.ka.delete(e)}function pj(t,e,r){const n=Oe(t);let s=n.Ba[n.currentUser.toKey()];if(s){const i=s.get(e);i&&(r?i.reject(r):i.resolve(),s=s.remove(e)),n.Ba[n.currentUser.toKey()]=s}}function Gx(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(n=>{t.La.containsKey(n)||mj(t,n)})}function mj(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(b_(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),I_(t))}function AT(t,e,r){for(const n of r)n instanceof cj?(t.La.addReference(n.key,e),e$(t,n)):n instanceof uj?(xe("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||mj(t,n.key)):je()}function e$(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(xe("SyncEngine","New document in limbo: "+r),t.xa.add(n),I_(t))}function I_(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new _e(At.fromString(e)),n=t.qa.next();t.Na.set(n,new U7(r)),t.Oa=t.Oa.insert(r,n),nj(t.remoteStore,new oa(xi(U0(r.path)),n,"TargetPurposeLimboResolution",i_.oe))}}async function Uh(t,e,r){const n=Oe(t),s=[],i=[],o=[];n.Fa.isEmpty()||(n.Fa.forEach((a,c)=>{o.push(n.Ka(c,e,r).then(u=>{var d;if((u||r)&&n.isPrimaryClient){const h=u?!u.fromCache:(d=r==null?void 0:r.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;n.sharedClientState.updateQueryState(c.targetId,h?"current":"not-current")}if(u){s.push(u);const h=v_.Wi(c.targetId,u);i.push(h)}}))}),await Promise.all(o),n.Ca.d_(s),await async function(c,u){const d=Oe(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>se.forEach(u,p=>se.forEach(p.$i,m=>d.persistence.referenceDelegate.addReference(h,p.targetId,m)).next(()=>se.forEach(p.Ui,m=>d.persistence.referenceDelegate.removeReference(h,p.targetId,m)))))}catch(h){if(!Vh(h))throw h;xe("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const p=h.targetId;if(!h.fromCache){const m=d.os.get(p),v=m.snapshotVersion,b=m.withLastLimboFreeSnapshotVersion(v);d.os=d.os.insert(p,b)}}}(n.localStore,i))}async function t$(t,e){const r=Oe(t);if(!r.currentUser.isEqual(e)){xe("SyncEngine","User change. New user:",e.toKey());const n=await ZA(r.localStore,e);r.currentUser=e,function(i,o){i.ka.forEach(a=>{a.forEach(c=>{c.reject(new fe(te.CANCELLED,o))})}),i.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Uh(r,n.hs)}}function r$(t,e){const r=Oe(t),n=r.Na.get(e);if(n&&n.va)return Ge().add(n.key);{let s=Ge();const i=r.Ma.get(e);if(!i)return s;for(const o of i){const a=r.Fa.get(o);s=s.unionWith(a.view.Va)}return s}}function gj(t){const e=Oe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=fj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=r$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=X7.bind(null,e),e.Ca.d_=V7.bind(null,e.eventManager),e.Ca.$a=$7.bind(null,e.eventManager),e}function n$(t){const e=Oe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=J7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Z7.bind(null,e),e}class Ug{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Q0(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return c7(this.persistence,new a7,e.initialUser,this.serializer)}Ga(e){return new s7(y_.Zr,this.serializer)}Wa(e){return new g7}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ug.provider={build:()=>new Ug};class Kx{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>PT(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=t$.bind(null,this.syncEngine),await M7(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new F7}()}createDatastore(e){const r=Q0(e.databaseInfo.databaseId),n=function(i){return new x7(i)}(e.databaseInfo);return function(i,o,a,c){return new S7(i,o,a,c)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,s,i,o,a){return new T7(n,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,r=>PT(this.syncEngine,r,0),function(){return TT.D()?new TT:new y7}())}createSyncEngine(e,r){return function(s,i,o,a,c,u,d){const h=new H7(s,i,o,a,c,u);return d&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(s){const i=Oe(s);xe("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await zh(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Kx.provider={build:()=>new Kx};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):yo("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s${constructor(e,r,n,s,i){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=s,this.user=Gr.UNAUTHENTICATED,this.clientId=xA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async o=>{xe("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(xe("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ao;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=E_(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function qv(t,e){t.asyncQueue.verifyOperationInProgress(),xe("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async s=>{n.isEqual(s)||(await ZA(e.localStore,s),n=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function jT(t,e){t.asyncQueue.verifyOperationInProgress();const r=await i$(t);xe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>CT(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,s)=>CT(e.remoteStore,s)),t._onlineComponents=e}async function i$(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){xe("FirestoreClient","Using user provided OfflineComponentProvider");try{await qv(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(s){return s.name==="FirebaseError"?s.code===te.FAILED_PRECONDITION||s.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(r))throw r;vu("Error using user provided cache. Falling back to memory cache: "+r),await qv(t,new Ug)}}else xe("FirestoreClient","Using default OfflineComponentProvider"),await qv(t,new Ug);return t._offlineComponents}async function yj(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(xe("FirestoreClient","Using user provided OnlineComponentProvider"),await jT(t,t._uninitializedComponentsProvider._online)):(xe("FirestoreClient","Using default OnlineComponentProvider"),await jT(t,new Kx))),t._onlineComponents}function o$(t){return yj(t).then(e=>e.syncEngine)}async function Hg(t){const e=await yj(t),r=e.eventManager;return r.onListen=W7.bind(null,e.syncEngine),r.onUnlisten=K7.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=q7.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=Q7.bind(null,e.syncEngine),r}function a$(t,e,r={}){const n=new ao;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,c,u){const d=new P_({next:p=>{d.Za(),o.enqueueAndForget(()=>C_(i,h));const m=p.docs.has(a);!m&&p.fromCache?u.reject(new fe(te.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&c&&c.source==="server"?u.reject(new fe(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),h=new N_(U0(a.path),d,{includeMetadataChanges:!0,_a:!0});return T_(i,h)}(await Hg(t),t.asyncQueue,e,r,n)),n.promise}function l$(t,e,r={}){const n=new ao;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,c,u){const d=new P_({next:p=>{d.Za(),o.enqueueAndForget(()=>C_(i,h)),p.fromCache&&c.source==="server"?u.reject(new fe(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),h=new N_(a,d,{includeMetadataChanges:!0,_a:!0});return T_(i,h)}(await Hg(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vj(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bj(t,e,r){if(!r)throw new fe(te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function c$(t,e,r,n){if(e===!0&&n===!0)throw new fe(te.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function DT(t){if(!_e.isDocumentKey(t))throw new fe(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function OT(t){if(_e.isDocumentKey(t))throw new fe(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function J0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":je()}function Pn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=J0(t);throw new fe(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}function u$(t,e){if(e<=0)throw new fe(te.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new fe(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}c$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vj((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,s){return n.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Z0{constructor(e,r,n,s){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new MT({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new MT(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new C9;switch(n.type){case"firstParty":return new P9(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new fe(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=RT.get(r);n&&(xe("ComponentProvider","Removing Datastore"),RT.delete(r),n.terminate())}(this),Promise.resolve()}}function d$(t,e,r,n={}){var s;const i=(t=Pn(t,Z0))._getSettings(),o=`${e}:${r}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&vu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),n.mockUserToken){let a,c;if(typeof n.mockUserToken=="string")a=n.mockUserToken,c=Gr.MOCK_USER;else{a=L8(n.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const u=n.mockUserToken.sub||n.mockUserToken.user_id;if(!u)throw new fe(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Gr(u)}t._authCredentials=new k9(new bA(a,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new No(this.firestore,e,this._query)}}class Xr{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _a(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xr(this.firestore,e,this._key)}}class _a extends No{constructor(e,r,n){super(e,r,U0(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xr(this.firestore,null,new _e(e))}withConverter(e){return new _a(this.firestore,e,this._path)}}function Zt(t,e,...r){if(t=fr(t),bj("collection","path",e),t instanceof Z0){const n=At.fromString(e,...r);return OT(n),new _a(t,null,n)}{if(!(t instanceof Xr||t instanceof _a))throw new fe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(At.fromString(e,...r));return OT(n),new _a(t.firestore,null,n)}}function ir(t,e,...r){if(t=fr(t),arguments.length===1&&(e=xA.newId()),bj("doc","path",e),t instanceof Z0){const n=At.fromString(e,...r);return DT(n),new Xr(t,null,new _e(n))}{if(!(t instanceof Xr||t instanceof _a))throw new fe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(At.fromString(e,...r));return DT(n),new Xr(t.firestore,t instanceof _a?t.converter:null,new _e(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new tj(this,"async_queue_retry"),this.Vu=()=>{const n=Wv();n&&xe("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=Wv();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=Wv();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new ao;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Vh(e))throw e;xe("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(n);throw yo("INTERNAL UNHANDLED ERROR: ",s),n}).then(n=>(this.du=!1,n))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const s=S_.createAndSchedule(this,e,r,n,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&je()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function FT(t){return function(r,n){if(typeof r!="object"||r===null)return!1;const s=r;for(const i of n)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class bo extends Z0{constructor(e,r,n,s){super(e,r,n,s),this.type="firestore",this._queue=new LT,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new LT(e),this._firestoreClient=void 0,await e}}}function f$(t,e){const r=typeof t=="object"?t:NP(),n=typeof t=="string"?t:"(default)",s=Qw(r,"firestore").getImmediate({identifier:n});if(!s._initialized){const i=O8("firestore");i&&d$(s,...i)}return s}function ey(t){if(t._terminated)throw new fe(te.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||h$(t),t._firestoreClient}function h$(t){var e,r,n;const s=t._freezeSettings(),i=function(a,c,u,d){return new U9(a,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,vj(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((r=s.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=s.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new s$(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const c=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Eu(Or.fromBase64String(e))}catch(r){throw new fe(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Eu(Or.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new fe(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new fe(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new fe(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return et(this._lat,e._lat)||et(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,s){if(n.length!==s.length)return!1;for(let i=0;i<n.length;++i)if(n[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p$=/^__.*__$/;class m${constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new Da(e,this.data,this.fieldMask,r,this.fieldTransforms):new $h(e,this.data,r,this.fieldTransforms)}}class xj{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new Da(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function wj(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw je()}}class R_{constructor(e,r,n,s,i,o){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new R_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),s=this.Fu({path:n,xu:!1});return s.Ou(e),s}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),s=this.Fu({path:n,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Wg(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(wj(this.Cu)&&p$.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class g${constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||Q0(e)}Qu(e,r,n,s=!1){return new R_({Cu:e,methodName:r,qu:n,path:Pr.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ny(t){const e=t._freezeSettings(),r=Q0(t._databaseId);return new g$(t._databaseId,!!e.ignoreUndefinedProperties,r)}function _j(t,e,r,n,s,i={}){const o=t.Qu(i.merge||i.mergeFields?2:0,e,r,s);O_("Data must be an object, but it was:",o,n);const a=Sj(n,o);let c,u;if(i.merge)c=new Wn(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const h of i.mergeFields){const p=Qx(e,h,r);if(!o.contains(p))throw new fe(te.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);Tj(d,p)||d.push(p)}c=new Wn(d),u=o.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,u=o.fieldTransforms;return new m$(new En(a),c,u)}class sy extends ry{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof sy}}class D_ extends ry{_toFieldTransform(e){return new pV(e.path,new Jf)}isEqual(e){return e instanceof D_}}function y$(t,e,r,n){const s=t.Qu(1,e,r);O_("Data must be an object, but it was:",s,n);const i=[],o=En.empty();Wl(n,(c,u)=>{const d=M_(e,c,r);u=fr(u);const h=s.Nu(d);if(u instanceof sy)i.push(d);else{const p=Hh(u,h);p!=null&&(i.push(d),o.set(d,p))}});const a=new Wn(i);return new xj(o,a,s.fieldTransforms)}function v$(t,e,r,n,s,i){const o=t.Qu(1,e,r),a=[Qx(e,n,r)],c=[s];if(i.length%2!=0)throw new fe(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)a.push(Qx(e,i[p])),c.push(i[p+1]);const u=[],d=En.empty();for(let p=a.length-1;p>=0;--p)if(!Tj(u,a[p])){const m=a[p];let v=c[p];v=fr(v);const b=o.Nu(m);if(v instanceof sy)u.push(m);else{const y=Hh(v,b);y!=null&&(u.push(m),d.set(m,y))}}const h=new Wn(u);return new xj(d,h,o.fieldTransforms)}function b$(t,e,r,n=!1){return Hh(r,t.Qu(n?4:3,e))}function Hh(t,e){if(Ej(t=fr(t)))return O_("Unsupported field value:",e,t),Sj(t,e);if(t instanceof ry)return function(n,s){if(!wj(s.Cu))throw s.Bu(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,s){const i=[];let o=0;for(const a of n){let c=Hh(a,s.Lu(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(n,s){if((n=fr(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return dV(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Bt.fromDate(n);return{timestampValue:Bg(s.serializer,i)}}if(n instanceof Bt){const i=new Bt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Bg(s.serializer,i)}}if(n instanceof A_)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Eu)return{bytesValue:qA(s.serializer,n._byteString)};if(n instanceof Xr){const i=s.databaseId,o=n.firestore._databaseId;if(!o.isEqual(i))throw s.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:m_(n.firestore._databaseId||s.databaseId,n._key.path)}}if(n instanceof j_)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Bu("VectorValues must only contain numeric values.");return d_(a.serializer,c)})}}}}}}(n,s);throw s.Bu(`Unsupported field value: ${J0(n)}`)}(t,e)}function Sj(t,e){const r={};return wA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wl(t,(n,s)=>{const i=Hh(s,e.Mu(n));i!=null&&(r[n]=i)}),{mapValue:{fields:r}}}function Ej(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Bt||t instanceof A_||t instanceof Eu||t instanceof Xr||t instanceof ry||t instanceof j_)}function O_(t,e,r){if(!Ej(r)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(r)){const n=J0(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}function Qx(t,e,r){if((e=fr(e))instanceof ty)return e._internalPath;if(typeof e=="string")return M_(t,e);throw Wg("Field path arguments must be of type string or ",t,!1,void 0,r)}const x$=new RegExp("[~\\*/\\[\\]]");function M_(t,e,r){if(e.search(x$)>=0)throw Wg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new ty(...e.split("."))._internalPath}catch{throw Wg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function Wg(t,e,r,n,s){const i=n&&!n.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;r&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${n}`),o&&(c+=` in document ${s}`),c+=")"),new fe(te.INVALID_ARGUMENT,a+t+c)}function Tj(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(e,r,n,s,i){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Xr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new w$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(iy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class w$ extends Cj{data(){return super.data()}}function iy(t,e){return typeof e=="string"?M_(t,e):e instanceof ty?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kj(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new fe(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class L_{}class F_ extends L_{}function xr(t,e,...r){let n=[];e instanceof L_&&n.push(e),n=n.concat(r),function(i){const o=i.filter(c=>c instanceof V_).length,a=i.filter(c=>c instanceof oy).length;if(o>1||o>0&&a>0)throw new fe(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)t=s._apply(t);return t}class oy extends F_{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new oy(e,r,n)}_apply(e){const r=this._parse(e);return Nj(e._query,r),new No(e.firestore,e.converter,$x(e._query,r))}_parse(e){const r=ny(e.firestore);return function(i,o,a,c,u,d,h){let p;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new fe(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){$T(h,d);const m=[];for(const v of h)m.push(VT(c,i,v));p={arrayValue:{values:m}}}else p=VT(c,i,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||$T(h,d),p=b$(a,o,h,d==="in"||d==="not-in");return sr.create(u,d,p)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function jc(t,e,r){const n=e,s=iy("where",t);return oy._create(s,n,r)}class V_ extends L_{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new V_(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:qs.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const c of a)Nj(o,c),o=$x(o,c)}(e._query,r),new No(e.firestore,e.converter,$x(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class $_ extends F_{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new $_(e,r)}_apply(e){const r=function(s,i,o){if(s.startAt!==null)throw new fe(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new fe(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Xf(i,o)}(e._query,this._field,this._direction);return new No(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new zu(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,r))}}function ts(t,e="asc"){const r=e,n=iy("orderBy",t);return $_._create(n,r)}class B_ extends F_{constructor(e,r,n){super(),this.type=e,this._limit=r,this._limitType=n}static _create(e,r,n){return new B_(e,r,n)}_apply(e){return new No(e.firestore,e.converter,Vg(e._query,this._limit,this._limitType))}}function z_(t){return u$("limit",t),B_._create("limit",t,"F")}function VT(t,e,r){if(typeof(r=fr(r))=="string"){if(r==="")throw new fe(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!PA(e)&&r.indexOf("/")!==-1)throw new fe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(At.fromString(r));if(!_e.isDocumentKey(n))throw new fe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return oT(t,new _e(n))}if(r instanceof Xr)return oT(t,r._key);throw new fe(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${J0(r)}.`)}function $T(t,e){if(!Array.isArray(t)||t.length===0)throw new fe(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Nj(t,e){const r=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new fe(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class _${convertValue(e,r="none"){switch(Ol(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Dl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw je()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return Wl(e,(s,i)=>{n[s]=this.convertValue(i,r)}),n}convertVectorValue(e){var r,n,s;const i=(s=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||s===void 0?void 0:s.map(o=>Yt(o.doubleValue));return new j_(i)}convertGeoPoint(e){return new A_(Yt(e.latitude),Yt(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=a_(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Kf(e));default:return null}}convertTimestamp(e){const r=Ca(e);return new Bt(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=At.fromString(e);ht(JA(n));const s=new Qf(n.get(1),n.get(3)),i=new _e(n.popFirst(5));return s.isEqual(r)||yo(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ij(t,e,r){let n;return n=t?t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Pj extends Cj{constructor(e,r,n,s,i,o){super(e,r,n,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new jm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(iy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class jm extends Pj{data(e={}){return super.data(e)}}class Aj{constructor(e,r,n,s){this._firestore=e,this._userDataWriter=r,this._snapshot=s,this.metadata=new Md(s.hasPendingWrites,s.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new jm(this._firestore,this._userDataWriter,n.key,n,new Md(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new fe(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const c=new jm(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Md(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const c=new jm(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Md(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:S$(a.type),doc:c,oldIndex:u,newIndex:d}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function S$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return je()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ml(t){t=Pn(t,Xr);const e=Pn(t.firestore,bo);return a$(ey(e),t._key).then(r=>Rj(e,t,r))}class U_ extends _${constructor(e){super(),this.firestore=e}convertBytes(e){return new Eu(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Xr(this.firestore,null,r)}}function Io(t){t=Pn(t,No);const e=Pn(t.firestore,bo),r=ey(e),n=new U_(e);return kj(t._query),l$(r,t._query).then(s=>new Aj(e,n,t,s))}function jj(t,e,r){t=Pn(t,Xr);const n=Pn(t.firestore,bo),s=Ij(t.converter,e);return ly(n,[_j(ny(n),"setDoc",t._key,s,t.converter!==null,r).toMutation(t._key,ms.none())])}function Wu(t,e,r,...n){t=Pn(t,Xr);const s=Pn(t.firestore,bo),i=ny(s);let o;return o=typeof(e=fr(e))=="string"||e instanceof ty?v$(i,"updateDoc",t._key,e,r,n):y$(i,"updateDoc",t._key,e),ly(s,[o.toMutation(t._key,ms.exists(!0))])}function ay(t){return ly(Pn(t.firestore,bo),[new f_(t._key,ms.none())])}function qu(t,e){const r=Pn(t.firestore,bo),n=ir(t),s=Ij(t.converter,e);return ly(r,[_j(ny(t.firestore),"addDoc",n._key,s,t.converter!==null,{}).toMutation(n._key,ms.exists(!1))]).then(()=>n)}function Gu(t,...e){var r,n,s;t=fr(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||FT(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(FT(e[o])){const h=e[o];e[o]=(r=h.next)===null||r===void 0?void 0:r.bind(h),e[o+1]=(n=h.error)===null||n===void 0?void 0:n.bind(h),e[o+2]=(s=h.complete)===null||s===void 0?void 0:s.bind(h)}let c,u,d;if(t instanceof Xr)u=Pn(t.firestore,bo),d=U0(t._key.path),c={next:h=>{e[o]&&e[o](Rj(u,t,h))},error:e[o+1],complete:e[o+2]};else{const h=Pn(t,No);u=Pn(h.firestore,bo),d=h._query;const p=new U_(u);c={next:m=>{e[o]&&e[o](new Aj(u,p,h,m))},error:e[o+1],complete:e[o+2]},kj(t._query)}return function(p,m,v,b){const y=new P_(b),x=new N_(m,y,v);return p.asyncQueue.enqueueAndForget(async()=>T_(await Hg(p),x)),()=>{y.Za(),p.asyncQueue.enqueueAndForget(async()=>C_(await Hg(p),x))}}(ey(u),d,a,c)}function ly(t,e){return function(n,s){const i=new ao;return n.asyncQueue.enqueueAndForget(async()=>Y7(await o$(n),s,i)),i.promise}(ey(t),e)}function Rj(t,e,r){const n=r.docs.get(e._key),s=new U_(t);return new Pj(t,s,e._key,n,new Md(r.hasPendingWrites,r.fromCache),e.converter)}function cl(){return new D_("serverTimestamp")}(function(e,r=!0){(function(s){Bu=s})(Vu),gu(new Pl("firestore",(n,{instanceIdentifier:s,options:i})=>{const o=n.getProvider("app").getImmediate(),a=new bo(new N9(n.getProvider("auth-internal")),new j9(n.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new fe(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qf(u.options.projectId,d)}(o,s),o);return i=Object.assign({useFetchStreams:r},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),wa(tT,"4.7.3",e),wa(tT,"4.7.3","esm2017")})();const E$=t=>{const e={},r={};return Object.keys(t).forEach(n=>{typeof t[n]=="string"?r[n]=t[n].trim():r[n]=t[n]}),r.email?/\S+@\S+\.\S+/.test(r.email)||(e.email="البريد الإلكتروني غير صالح"):e.email="البريد الإلكتروني مطلوب",r.password?r.password.length<6&&(e.password="كلمة المرور يجب أن تكون 6 أحرف على الأقل"):e.password="كلمة المرور مطلوبة",{isValid:Object.keys(e).length===0,errors:e,sanitizedInputs:r}},Wh=t=>(console.error("Firebase error:",t),{"auth/invalid-credential":"البريد الإلكتروني أو كلمة المرور غير صحيحة","auth/user-disabled":"هذا الحساب معطل","auth/user-not-found":"لم يتم العثور على حساب بهذا البريد الإلكتروني","auth/wrong-password":"كلمة المرور غير صحيحة","auth/email-already-in-use":"هذا البريد الإلكتروني مستخدم بالفعل","auth/weak-password":"كلمة المرور ضعيفة جداً","auth/invalid-email":"البريد الإلكتروني غير صالح","auth/too-many-requests":"تم تجاوز عدد المحاولات المسموح بها. الرجاء المحاولة لاحقاً","auth/network-request-failed":"حدث خطأ في الاتصال بالخادم. الرجاء التحقق من اتصالك بالإنترنت"}[t.code]||"حدث خطأ غير متوقع. الرجاء المحاولة مرة أخرى"),T$={apiKey:"AIzaSyBj9_ZBqV7fTgBL4tqo6vTKB5oHMaUOUDY",authDomain:"alsaad-travels-dev.firebaseapp.com",projectId:"alsaad-travels-dev",storageBucket:"alsaad-travels-dev.appspot.com",messagingSenderId:"1010310325534",appId:"1:1010310325534:web:3e45f6f28ef78d57a41a33"},H_=kP(T$),Ll=E9(H_),$e=f$(H_),C$=async()=>{try{const t=Zt($e,"employees"),e=xr(t,ts("employeeId","desc"),z_(1)),r=await Io(e);return r.empty?1e3:r.docs[0].data().employeeId+1}catch(t){return console.error("خطأ في الحصول على الرقم الوظيفي الجديد:",t),1e3}},k$=async(t,e)=>{try{console.log("محاولة تسجيل الدخول:",{email:t});const r=E$({email:t,password:e});if(!r.isValid)return{success:!1,error:Object.values(r.errors)[0]};const n=await cF(Ll,r.sanitizedInputs.email,r.sanitizedInputs.password);console.log("تم تسجيل الدخول بنجاح:",n.user.uid);const s=await Ml(ir($e,"users",n.user.uid));if(!s.exists())return console.log("لم يتم العثور على بيانات المستخدم في Firestore"),await jj(ir($e,"users",n.user.uid),{email:n.user.email,name:n.user.displayName||"مستخدم جديد",role:"admin",isActive:!0,createdAt:cl(),updatedAt:cl(),lastLoginAt:cl()}),console.log("تم إنشاء سجل جديد للمستخدم في Firestore"),{success:!0,user:{...(await Ml(ir($e,"users",n.user.uid))).data(),uid:n.user.uid,email:n.user.email}};const i=s.data();return i.isActive===!1?(console.log("حساب المستخدم غير نشط"),await rA(Ll),{success:!1,error:"حساب المستخدم غير نشط"}):(await Wu(ir($e,"users",n.user.uid),{lastLoginAt:cl()}),console.log("تم تحديث آخر تسجيل دخول"),{success:!0,user:{...i,uid:n.user.uid,email:n.user.email}})}catch(r){return console.error("خطأ في تسجيل الدخول:",r),{success:!1,error:Wh(r)}}},N$=async()=>{try{return await rA(Ll),{success:!0}}catch(t){return console.error("خطأ في تسجيل الخروج:",t),{success:!1,error:Wh(t)}}},I$=async t=>{try{return!t||!/\S+@\S+\.\S+/.test(t.trim())?{success:!1,error:"البريد الإلكتروني غير صالح"}:(await aF(Ll,t.trim()),{success:!0})}catch(e){return console.error("خطأ في إعادة تعيين كلمة المرور:",e),{success:!1,error:Wh(e)}}},P$=()=>new Promise(t=>{const e=Ll.onAuthStateChanged(r=>{e(),t(r)})}),A$=async t=>{try{const e=await Ml(ir($e,"users",t));return e.exists()?{success:!0,data:{...e.data(),uid:t}}:{success:!1,error:"لم يتم العثور على بيانات المستخدم"}}catch(e){return console.error("خطأ في الحصول على بيانات المستخدم:",e),{success:!1,error:Wh(e)}}},j$=async t=>{try{const e=xr(Zt($e,"users"),jc("role","==","admin"),z_(1));if(!(await Io(e)).empty)return{success:!1,error:"مشرف النظام موجود بالفعل"};const n=await lF(Ll,t.email,t.password);return await dF(n.user,{displayName:t.name}),await jj(ir($e,"users",n.user.uid),{name:t.name,email:t.email,role:"admin",isActive:!0,createdAt:cl(),updatedAt:cl(),permissions:["all"]}),{success:!0,uid:n.user.uid}}catch(e){return console.error("خطأ في إنشاء مشرف النظام:",e),{success:!1,error:Wh(e)}}},of={app:H_,auth:Ll,db:$e,signIn:k$,signOutUser:N$,resetPassword:I$,createSystemAdmin:j$,checkAuthState:P$,getUserData:A$,getNextEmployeeId:C$};function R$(t){return t!=null&&typeof t=="object"&&"nodeType"in t&&t.nodeType===Node.ELEMENT_NODE}function D$(){return!!(globalThis!=null&&globalThis.document)}function O$(t,...e){if(t==null)throw new TypeError("Cannot convert undefined or null to object");const r={...t};for(const n of e)if(n!=null)for(const s in n)Object.prototype.hasOwnProperty.call(n,s)&&(s in r&&delete r[s],r[s]=n[s]);return r}const Ke=t=>t?"":void 0,Gv=t=>t?!0:void 0;function Yx(t){return Array.isArray(t)}function Rr(t){const e=typeof t;return t!=null&&(e==="object"||e==="function")&&!Yx(t)}function M$(t){const e=t==null?0:t.length;return e?t[e-1]:void 0}function L$(t){const e=parseFloat(t.toString()),r=t.toString().replace(String(e),"");return{unitless:!r,value:e,unit:r}}function Xx(t){if(t==null)return t;const{unitless:e}=L$(t);return e||typeof t=="number"?`${t}px`:t}const Dj=(t,e)=>parseInt(t[1],10)>parseInt(e[1],10)?1:-1,W_=t=>Object.fromEntries(Object.entries(t).sort(Dj));function BT(t){const e=W_(t);return Object.assign(Object.values(e),e)}function F$(t){const e=Object.keys(W_(t));return new Set(e)}function zT(t){if(!t)return t;t=Xx(t)??t;const e=-.02;return typeof t=="number"?`${t+e}`:t.replace(/(\d+\.?\d*)/u,r=>`${parseFloat(r)+e}`)}function Ld(t,e){const r=["@media screen"];return t&&r.push("and",`(min-width: ${Xx(t)})`),e&&r.push("and",`(max-width: ${Xx(e)})`),r.join(" ")}function V$(t){if(!t)return null;t.base=t.base??"0px";const e=BT(t),r=Object.entries(t).sort(Dj).map(([i,o],a,c)=>{let[,u]=c[a+1]??[];return u=parseFloat(u)>0?zT(u):void 0,{_minW:zT(o),breakpoint:i,minW:o,maxW:u,maxWQuery:Ld(null,u),minWQuery:Ld(o),minMaxQuery:Ld(o,u)}}),n=F$(t),s=Array.from(n.values());return{keys:n,normalized:e,isResponsive(i){const o=Object.keys(i);return o.length>0&&o.every(a=>n.has(a))},asObject:W_(t),asArray:BT(t),details:r,get(i){return r.find(o=>o.breakpoint===i)},media:[null,...e.map(i=>Ld(i)).slice(1)],toArrayValue(i){if(!Rr(i))throw new Error("toArrayValue: value must be an object");const o=s.map(a=>i[a]??null);for(;M$(o)===null;)o.pop();return o},toObjectValue(i){if(!Array.isArray(i))throw new Error("toObjectValue: value must be an array");return i.reduce((o,a,c)=>{const u=s[c];return u!=null&&a!=null&&(o[u]=a),o},{})}}}function $$(...t){return function(...r){t.forEach(n=>n==null?void 0:n(...r))}}function yr(...t){return function(r){t.some(n=>(n==null||n(r),r==null?void 0:r.defaultPrevented))}}function Oj(t){return T.Children.toArray(t).filter(e=>T.isValidElement(e))}function Ku(t){const e=Object.assign({},t);for(let r in e)e[r]===void 0&&delete e[r];return e}function B$(t,e){return`${t} returned \`undefined\`. Seems you forgot to wrap component within ${e}`}function Ss(t={}){const{name:e,strict:r=!0,hookName:n="useContext",providerName:s="Provider",errorMessage:i,defaultValue:o}=t,a=T.createContext(o);a.displayName=e;function c(){var d;const u=T.useContext(a);if(!u&&r){const h=new Error(i??B$(n,s));throw h.name="ContextError",(d=Error.captureStackTrace)==null||d.call(Error,h,c),h}return u}return[a.Provider,c,a]}const Ct=(...t)=>t.filter(Boolean).join(" ");function z$(t,e,r,n){const s=typeof e=="string"?e.split("."):[e];for(n=0;n<s.length&&t;n+=1)t=t[s[n]];return t===void 0?r:t}const U$=t=>{const e=new WeakMap;return(n,s,i,o)=>{if(typeof n>"u")return t(n,s,i);e.has(n)||e.set(n,new Map);const a=e.get(n);if(a.has(s))return a.get(s);const c=t(n,s,i,o);return a.set(s,c),c}},Mj=U$(z$),H$=t=>t.default||t;function cy(t,e=[]){const r=Object.assign({},t);for(const n of e)n in r&&delete r[n];return r}function Lj(t,e){const r={};for(const n of e)n in t&&(r[n]=t[n]);return r}function Fj(t,e){return Array.isArray(t)?t.map(r=>r===null?null:e(r)):Rr(t)?Object.keys(t).reduce((r,n)=>(r[n]=e(t[n]),r),{}):t!=null?e(t):null}const W$=t=>typeof t=="function";function fs(t,...e){return W$(t)?t(...e):t}function q$(t){const e=t.ownerDocument.defaultView||window,{overflow:r,overflowX:n,overflowY:s}=e.getComputedStyle(t);return/auto|scroll|overlay|hidden/.test(r+s+n)}function G$(t){return t.localName==="html"?t:t.assignedSlot||t.parentElement||t.ownerDocument.documentElement}function Vj(t){return["html","body","#document"].includes(t.localName)?t.ownerDocument.body:R$(t)&&q$(t)?t:Vj(G$(t))}function K$(t,e){const r={},n={};for(const[s,i]of Object.entries(t))e.includes(s)?r[s]=i:n[s]=i;return[r,n]}function Q$(t,...e){const r=Object.getOwnPropertyDescriptors(t),n=Object.keys(r),s=o=>{const a={};for(let c=0;c<o.length;c++){const u=o[c];r[u]&&(Object.defineProperty(a,u,r[u]),delete r[u])}return a},i=o=>s(Array.isArray(o)?o:n.filter(o));return e.map(i).concat(s(n))}function UT(t,e,r={}){const{stop:n,getKey:s}=r;function i(o,a=[]){if(Rr(o)||Array.isArray(o)){const c={};for(const[u,d]of Object.entries(o)){const h=(s==null?void 0:s(u))??u,p=[...a,h];if(n!=null&&n(o,p))return e(o,a);c[h]=i(d,p)}return c}return e(o,a)}return i(t)}var qg={exports:{}};qg.exports;(function(t,e){var r=200,n="__lodash_hash_undefined__",s=800,i=16,o=9007199254740991,a="[object Arguments]",c="[object Array]",u="[object AsyncFunction]",d="[object Boolean]",h="[object Date]",p="[object Error]",m="[object Function]",v="[object GeneratorFunction]",b="[object Map]",y="[object Number]",x="[object Null]",g="[object Object]",w="[object Proxy]",I="[object RegExp]",P="[object Set]",A="[object String]",S="[object Undefined]",E="[object WeakMap]",C="[object ArrayBuffer]",k="[object DataView]",j="[object Float32Array]",O="[object Float64Array]",D="[object Int8Array]",ue="[object Int16Array]",V="[object Int32Array]",B="[object Uint8Array]",G="[object Uint8ClampedArray]",U="[object Uint16Array]",Z="[object Uint32Array]",re=/[\\^$.*+?()[\]{}|]/g,me=/^\[object .+?Constructor\]$/,ae=/^(?:0|[1-9]\d*)$/,J={};J[j]=J[O]=J[D]=J[ue]=J[V]=J[B]=J[G]=J[U]=J[Z]=!0,J[a]=J[c]=J[C]=J[d]=J[k]=J[h]=J[p]=J[m]=J[b]=J[y]=J[g]=J[I]=J[P]=J[A]=J[E]=!1;var X=typeof na=="object"&&na&&na.Object===Object&&na,ee=typeof self=="object"&&self&&self.Object===Object&&self,we=X||ee||Function("return this")(),Le=e&&!e.nodeType&&e,tt=Le&&!0&&t&&!t.nodeType&&t,pr=tt&&tt.exports===Le,Mr=pr&&X.process,Sr=function(){try{var M=tt&&tt.require&&tt.require("util").types;return M||Mr&&Mr.binding&&Mr.binding("util")}catch{}}(),Ne=Sr&&Sr.isTypedArray;function Nt(M,F,K){switch(K.length){case 0:return M.call(F);case 1:return M.call(F,K[0]);case 2:return M.call(F,K[0],K[1]);case 3:return M.call(F,K[0],K[1],K[2])}return M.apply(F,K)}function Se(M,F){for(var K=-1,ve=Array(M);++K<M;)ve[K]=F(K);return ve}function Rt(M){return function(F){return M(F)}}function _t(M,F){return M==null?void 0:M[F]}function Mn(M,F){return function(K){return M(F(K))}}var $a=Array.prototype,Di=Function.prototype,mr=Object.prototype,Ln=we["__core-js_shared__"],Ts=Di.toString,Er=mr.hasOwnProperty,gr=function(){var M=/[^.]+$/.exec(Ln&&Ln.keys&&Ln.keys.IE_PROTO||"");return M?"Symbol(src)_1."+M:""}(),gn=mr.toString,Dt=Ts.call(Object),Ot=RegExp("^"+Ts.call(Er).replace(re,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Kt=pr?we.Buffer:void 0,tn=we.Symbol,jo=we.Uint8Array;Kt&&Kt.allocUnsafe;var Oi=Mn(Object.getPrototypeOf,Object),Ys=Object.create,Fn=mr.propertyIsEnumerable,Ba=$a.splice,yn=tn?tn.toStringTag:void 0,Mi=function(){try{var M=ks(Object,"defineProperty");return M({},"",{}),M}catch{}}(),nd=Kt?Kt.isBuffer:void 0,Li=Math.max,Fi=Date.now,Ro=ks(we,"Map"),rn=ks(Object,"create"),Vi=function(){function M(){}return function(F){if(!Ui(F))return{};if(Ys)return Ys(F);M.prototype=F;var K=new M;return M.prototype=void 0,K}}();function Vn(M){var F=-1,K=M==null?0:M.length;for(this.clear();++F<K;){var ve=M[F];this.set(ve[0],ve[1])}}function ns(){this.__data__=rn?rn(null):{},this.size=0}function Yl(M){var F=this.has(M)&&delete this.__data__[M];return this.size-=F?1:0,F}function $i(M){var F=this.__data__;if(rn){var K=F[M];return K===n?void 0:K}return Er.call(F,M)?F[M]:void 0}function Bi(M){var F=this.__data__;return rn?F[M]!==void 0:Er.call(F,M)}function ss(M,F){var K=this.__data__;return this.size+=this.has(M)?0:1,K[M]=rn&&F===void 0?n:F,this}Vn.prototype.clear=ns,Vn.prototype.delete=Yl,Vn.prototype.get=$i,Vn.prototype.has=Bi,Vn.prototype.set=ss;function vn(M){var F=-1,K=M==null?0:M.length;for(this.clear();++F<K;){var ve=M[F];this.set(ve[0],ve[1])}}function or(){this.__data__=[],this.size=0}function L(M){var F=this.__data__,K=Lr(F,M);if(K<0)return!1;var ve=F.length-1;return K==ve?F.pop():Ba.call(F,K,1),--this.size,!0}function z(M){var F=this.__data__,K=Lr(F,M);return K<0?void 0:F[K][1]}function W(M){return Lr(this.__data__,M)>-1}function ne(M,F){var K=this.__data__,ve=Lr(K,M);return ve<0?(++this.size,K.push([M,F])):K[ve][1]=F,this}vn.prototype.clear=or,vn.prototype.delete=L,vn.prototype.get=z,vn.prototype.has=W,vn.prototype.set=ne;function le(M){var F=-1,K=M==null?0:M.length;for(this.clear();++F<K;){var ve=M[F];this.set(ve[0],ve[1])}}function be(){this.size=0,this.__data__={hash:new Vn,map:new(Ro||vn),string:new Vn}}function Ce(M){var F=Jl(this,M).delete(M);return this.size-=F?1:0,F}function ge(M){return Jl(this,M).get(M)}function pe(M){return Jl(this,M).has(M)}function de(M,F){var K=Jl(this,M),ve=K.size;return K.set(M,F),this.size+=K.size==ve?0:1,this}le.prototype.clear=be,le.prototype.delete=Ce,le.prototype.get=ge,le.prototype.has=pe,le.prototype.set=de;function he(M){var F=this.__data__=new vn(M);this.size=F.size}function Ie(){this.__data__=new vn,this.size=0}function Re(M){var F=this.__data__,K=F.delete(M);return this.size=F.size,K}function Ht(M){return this.__data__.get(M)}function rt(M){return this.__data__.has(M)}function Be(M,F){var K=this.__data__;if(K instanceof vn){var ve=K.__data__;if(!Ro||ve.length<r-1)return ve.push([M,F]),this.size=++K.size,this;K=this.__data__=new le(ve)}return K.set(M,F),this.size=K.size,this}he.prototype.clear=Ie,he.prototype.delete=Re,he.prototype.get=Ht,he.prototype.has=rt,he.prototype.set=Be;function gt(M,F){var K=tc(M),ve=!K&&os(M),ze=!K&&!ve&&zi(M),ct=!K&&!ve&&!ze&&mp(M),bt=K||ve||ze||ct,qe=bt?Se(M.length,String):[],xt=qe.length;for(var Qt in M)bt&&(Qt=="length"||ze&&(Qt=="offset"||Qt=="parent")||ct&&(Qt=="buffer"||Qt=="byteLength"||Qt=="byteOffset")||Ua(Qt,xt))||qe.push(Qt);return qe}function $n(M,F,K){(K!==void 0&&!ei(M[F],K)||K===void 0&&!(F in M))&&ar(M,F,K)}function Xs(M,F,K){var ve=M[F];(!(Er.call(M,F)&&ei(ve,K))||K===void 0&&!(F in M))&&ar(M,F,K)}function Lr(M,F){for(var K=M.length;K--;)if(ei(M[K][0],F))return K;return-1}function ar(M,F,K){F=="__proto__"&&Mi?Mi(M,F,{configurable:!0,enumerable:!0,value:K,writable:!0}):M[F]=K}var Do=up();function bn(M){return M==null?M===void 0?S:x:yn&&yn in Object(M)?Ns(M):rv(M)}function Fr(M){return wn(M)&&bn(M)==a}function xn(M){if(!Ui(M)||ec(M))return!1;var F=id(M)?Ot:me;return F.test(iv(M))}function Js(M){return wn(M)&&pp(M.length)&&!!J[bn(M)]}function We(M){if(!Ui(M))return Ha(M);var F=Oo(M),K=[];for(var ve in M)ve=="constructor"&&(F||!Er.call(M,ve))||K.push(ve);return K}function yt(M,F,K,ve,ze){M!==F&&Do(F,function(ct,bt){if(ze||(ze=new he),Ui(ct))Cs(M,F,bt,K,yt,ve,ze);else{var qe=ve?ve(sd(M,bt),ct,bt+"",M,F,ze):void 0;qe===void 0&&(qe=ct),$n(M,bt,qe)}},Wa)}function Cs(M,F,K,ve,ze,ct,bt){var qe=sd(M,K),xt=sd(F,K),Qt=bt.get(xt);if(Qt){$n(M,K,Qt);return}var Vr=ct?ct(qe,xt,K+"",M,F,bt):void 0,Ga=Vr===void 0;if(Ga){var Hi=tc(xt),sc=!Hi&&zi(xt),ic=!Hi&&!sc&&mp(xt);Vr=xt,Hi||sc||ic?tc(qe)?Vr=qe:hp(qe)?Vr=ev(qe):sc?(Ga=!1,Vr=is(xt)):ic?(Ga=!1,Vr=Xl(xt)):Vr=[]:ov(xt)||os(xt)?(Vr=qe,os(qe)?Vr=nc(qe):(!Ui(qe)||id(qe))&&(Vr=Zl(xt))):Ga=!1}Ga&&(bt.set(xt,Vr),ze(Vr,xt,ve,ct,bt),bt.delete(xt)),$n(M,K,Vr)}function Zs(M,F){return nv(fp(M,F,Mo),M+"")}var St=Mi?function(M,F){return Mi(M,"toString",{configurable:!0,enumerable:!1,value:qa(F),writable:!0})}:Mo;function is(M,F){return M.slice()}function za(M){var F=new M.constructor(M.byteLength);return new jo(F).set(new jo(M)),F}function Xl(M,F){var K=za(M.buffer);return new M.constructor(K,M.byteOffset,M.length)}function ev(M,F){var K=-1,ve=M.length;for(F||(F=Array(ve));++K<ve;)F[K]=M[K];return F}function tv(M,F,K,ve){var ze=!K;K||(K={});for(var ct=-1,bt=F.length;++ct<bt;){var qe=F[ct],xt=void 0;xt===void 0&&(xt=M[qe]),ze?ar(K,qe,xt):Xs(K,qe,xt)}return K}function cp(M){return Zs(function(F,K){var ve=-1,ze=K.length,ct=ze>1?K[ze-1]:void 0,bt=ze>2?K[2]:void 0;for(ct=M.length>3&&typeof ct=="function"?(ze--,ct):void 0,bt&&dp(K[0],K[1],bt)&&(ct=ze<3?void 0:ct,ze=1),F=Object(F);++ve<ze;){var qe=K[ve];qe&&M(F,qe,ve,ct)}return F})}function up(M){return function(F,K,ve){for(var ze=-1,ct=Object(F),bt=ve(F),qe=bt.length;qe--;){var xt=bt[++ze];if(K(ct[xt],xt,ct)===!1)break}return F}}function Jl(M,F){var K=M.__data__;return vt(F)?K[typeof F=="string"?"string":"hash"]:K.map}function ks(M,F){var K=_t(M,F);return xn(K)?K:void 0}function Ns(M){var F=Er.call(M,yn),K=M[yn];try{M[yn]=void 0;var ve=!0}catch{}var ze=gn.call(M);return ve&&(F?M[yn]=K:delete M[yn]),ze}function Zl(M){return typeof M.constructor=="function"&&!Oo(M)?Vi(Oi(M)):{}}function Ua(M,F){var K=typeof M;return F=F??o,!!F&&(K=="number"||K!="symbol"&&ae.test(M))&&M>-1&&M%1==0&&M<F}function dp(M,F,K){if(!Ui(K))return!1;var ve=typeof F;return(ve=="number"?rc(K)&&Ua(F,K.length):ve=="string"&&F in K)?ei(K[F],M):!1}function vt(M){var F=typeof M;return F=="string"||F=="number"||F=="symbol"||F=="boolean"?M!=="__proto__":M===null}function ec(M){return!!gr&&gr in M}function Oo(M){var F=M&&M.constructor,K=typeof F=="function"&&F.prototype||mr;return M===K}function Ha(M){var F=[];if(M!=null)for(var K in Object(M))F.push(K);return F}function rv(M){return gn.call(M)}function fp(M,F,K){return F=Li(F===void 0?M.length-1:F,0),function(){for(var ve=arguments,ze=-1,ct=Li(ve.length-F,0),bt=Array(ct);++ze<ct;)bt[ze]=ve[F+ze];ze=-1;for(var qe=Array(F+1);++ze<F;)qe[ze]=ve[ze];return qe[F]=K(bt),Nt(M,this,qe)}}function sd(M,F){if(!(F==="constructor"&&typeof M[F]=="function")&&F!="__proto__")return M[F]}var nv=sv(St);function sv(M){var F=0,K=0;return function(){var ve=Fi(),ze=i-(ve-K);if(K=ve,ze>0){if(++F>=s)return arguments[0]}else F=0;return M.apply(void 0,arguments)}}function iv(M){if(M!=null){try{return Ts.call(M)}catch{}try{return M+""}catch{}}return""}function ei(M,F){return M===F||M!==M&&F!==F}var os=Fr(function(){return arguments}())?Fr:function(M){return wn(M)&&Er.call(M,"callee")&&!Fn.call(M,"callee")},tc=Array.isArray;function rc(M){return M!=null&&pp(M.length)&&!id(M)}function hp(M){return wn(M)&&rc(M)}var zi=nd||yp;function id(M){if(!Ui(M))return!1;var F=bn(M);return F==m||F==v||F==u||F==w}function pp(M){return typeof M=="number"&&M>-1&&M%1==0&&M<=o}function Ui(M){var F=typeof M;return M!=null&&(F=="object"||F=="function")}function wn(M){return M!=null&&typeof M=="object"}function ov(M){if(!wn(M)||bn(M)!=g)return!1;var F=Oi(M);if(F===null)return!0;var K=Er.call(F,"constructor")&&F.constructor;return typeof K=="function"&&K instanceof K&&Ts.call(K)==Dt}var mp=Ne?Rt(Ne):Js;function nc(M){return tv(M,Wa(M))}function Wa(M){return rc(M)?gt(M):We(M)}var gp=cp(function(M,F,K,ve){yt(M,F,K,ve)});function qa(M){return function(){return M}}function Mo(M){return M}function yp(){return!1}t.exports=gp})(qg,qg.exports);var Y$=qg.exports;const hs=w0(Y$);function Us(t,e=[]){const r=T.useRef(t);return T.useEffect(()=>{r.current=t}),T.useCallback((...n)=>{var s;return(s=r.current)==null?void 0:s.call(r,...n)},e)}function Kv(t,e,r,n){const s=Us(r);return T.useEffect(()=>{const i=typeof t=="function"?t():t??document;if(!(!r||!i))return i.addEventListener(e,s,n),()=>{i.removeEventListener(e,s,n)}},[e,t,n,s,r]),()=>{const i=typeof t=="function"?t():t??document;i==null||i.removeEventListener(e,s,n)}}function X$(t){const{value:e,defaultValue:r,onChange:n,shouldUpdate:s=(p,m)=>p!==m}=t,i=Us(n),o=Us(s),[a,c]=T.useState(r),u=e!==void 0,d=u?e:a,h=Us(p=>{const v=typeof p=="function"?p(d):p;o(d,v)&&(u||c(v),i(v))},[u,i,d,o]);return[d,h]}function J$(t={}){const{onClose:e,onOpen:r,isOpen:n,id:s}=t,i=Us(r),o=Us(e),[a,c]=T.useState(t.defaultIsOpen||!1),u=n!==void 0?n:a,d=n!==void 0,h=T.useId(),p=s??`disclosure-${h}`,m=T.useCallback(()=>{d||c(!1),o==null||o()},[d,o]),v=T.useCallback(()=>{d||c(!0),i==null||i()},[d,i]),b=T.useCallback(()=>{u?m():v()},[u,v,m]);function y(g={}){return{...g,"aria-expanded":u,"aria-controls":p,onClick(w){var I;(I=g.onClick)==null||I.call(g,w),b()}}}function x(g={}){return{...g,hidden:!u,id:p}}return{isOpen:u,onOpen:v,onClose:m,onToggle:b,isControlled:d,getButtonProps:y,getDisclosureProps:x}}const Xc=globalThis!=null&&globalThis.document?T.useLayoutEffect:T.useEffect,Jx=(t,e)=>{const r=T.useRef(!1),n=T.useRef(!1);T.useEffect(()=>{if(r.current&&n.current)return t();n.current=!0},e),T.useEffect(()=>(r.current=!0,()=>{r.current=!1}),[])};function Z$(t,e){if(t!=null){if(typeof t=="function"){t(e);return}try{t.current=e}catch{throw new Error(`Cannot assign value '${e}' to ref '${t}'`)}}}function Na(...t){return e=>{t.forEach(r=>{Z$(r,e)})}}function eB(...t){return T.useMemo(()=>Na(...t),t)}function tB(t,e){const r=Us(t);T.useEffect(()=>{if(e==null)return;let n=null;return n=window.setTimeout(()=>{r()},e),()=>{n&&window.clearTimeout(n)}},[e,r])}const lr={open:(t,e)=>`${t}[data-open], ${t}[open], ${t}[data-state=open] ${e}`,closed:(t,e)=>`${t}[data-closed], ${t}[data-state=closed] ${e}`,hover:(t,e)=>`${t}:hover ${e}, ${t}[data-hover] ${e}`,focus:(t,e)=>`${t}:focus ${e}, ${t}[data-focus] ${e}`,focusVisible:(t,e)=>`${t}:focus-visible ${e}`,focusWithin:(t,e)=>`${t}:focus-within ${e}`,active:(t,e)=>`${t}:active ${e}, ${t}[data-active] ${e}`,disabled:(t,e)=>`${t}:disabled ${e}, ${t}[data-disabled] ${e}`,invalid:(t,e)=>`${t}:invalid ${e}, ${t}[data-invalid] ${e}`,checked:(t,e)=>`${t}:checked ${e}, ${t}[data-checked] ${e}`,placeholderShown:(t,e)=>`${t}:placeholder-shown ${e}`},ri=t=>$j(e=>t(e,"&"),"[role=group]","[data-group]",".group"),Wi=t=>$j(e=>t(e,"~ &"),"[data-peer]",".peer"),$j=(t,...e)=>e.map(t).join(", "),Jc={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within, &[data-focus-within]",_focusVisible:"&:focus-visible, &[data-focus-visible]",_disabled:"&:disabled, &[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty, &[data-empty]",_expanded:"&[aria-expanded=true], &[data-expanded], &[data-state=expanded]",_checked:"&[aria-checked=true], &[data-checked], &[data-state=checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_firstLetter:"&::first-letter",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate], &[data-state=indeterminate]",_groupOpen:ri(lr.open),_groupClosed:ri(lr.closed),_groupHover:ri(lr.hover),_peerHover:Wi(lr.hover),_groupFocus:ri(lr.focus),_peerFocus:Wi(lr.focus),_groupFocusVisible:ri(lr.focusVisible),_peerFocusVisible:Wi(lr.focusVisible),_groupActive:ri(lr.active),_peerActive:Wi(lr.active),_groupDisabled:ri(lr.disabled),_peerDisabled:Wi(lr.disabled),_groupInvalid:ri(lr.invalid),_peerInvalid:Wi(lr.invalid),_groupChecked:ri(lr.checked),_peerChecked:Wi(lr.checked),_groupFocusWithin:ri(lr.focusWithin),_peerFocusWithin:Wi(lr.focusWithin),_peerPlaceholderShown:Wi(lr.placeholderShown),_placeholder:"&::placeholder, &[data-placeholder]",_placeholderShown:"&:placeholder-shown, &[data-placeholder-shown]",_fullScreen:"&:fullscreen, &[data-fullscreen]",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &:not([data-theme]),[data-theme=dark] &:not([data-theme]),&[data-theme=dark]",_light:".chakra-ui-light &:not([data-theme]),[data-theme=light] &:not([data-theme]),&[data-theme=light]",_horizontal:"&[data-orientation=horizontal]",_vertical:"&[data-orientation=vertical]",_open:"&[data-open], &[open], &[data-state=open]",_closed:"&[data-closed], &[data-state=closed]",_complete:"&[data-complete]",_incomplete:"&[data-incomplete]",_current:"&[data-current]"},Bj=Object.keys(Jc),rB=t=>/!(important)?$/.test(t),HT=t=>typeof t=="string"?t.replace(/!(important)?$/,"").trim():t,nB=(t,e)=>r=>{const n=String(e),s=rB(n),i=HT(n),o=t?`${t}.${i}`:i;let a=Rr(r.__cssMap)&&o in r.__cssMap?r.__cssMap[o].varRef:e;return a=HT(a),s?`${a} !important`:a};function q_(t){const{scale:e,transform:r,compose:n}=t;return(i,o)=>{const a=nB(e,i)(o);let c=(r==null?void 0:r(a,o))??a;return n&&(c=n(c,o)),c}}const Wp=(...t)=>e=>t.reduce((r,n)=>n(r),e);function as(t,e){return r=>{const n={property:r,scale:t};return n.transform=q_({scale:t,transform:e}),n}}const sB=({rtl:t,ltr:e})=>r=>r.direction==="rtl"?t:e;function iB(t){const{property:e,scale:r,transform:n}=t;return{scale:r,property:sB(e),transform:r?q_({scale:r,compose:n}):n}}const zj=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"];function oB(){return["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))",...zj].join(" ")}function aB(){return["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)",...zj].join(" ")}const lB={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:["var(--chakra-blur)","var(--chakra-brightness)","var(--chakra-contrast)","var(--chakra-grayscale)","var(--chakra-hue-rotate)","var(--chakra-invert)","var(--chakra-saturate)","var(--chakra-sepia)","var(--chakra-drop-shadow)"].join(" ")},cB={backdropFilter:["var(--chakra-backdrop-blur)","var(--chakra-backdrop-brightness)","var(--chakra-backdrop-contrast)","var(--chakra-backdrop-grayscale)","var(--chakra-backdrop-hue-rotate)","var(--chakra-backdrop-invert)","var(--chakra-backdrop-opacity)","var(--chakra-backdrop-saturate)","var(--chakra-backdrop-sepia)"].join(" "),"--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"};function uB(t){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":t,boxShadow:["var(--chakra-ring-offset-shadow)","var(--chakra-ring-shadow)","var(--chakra-shadow, 0 0 #0000)"].join(", ")}}const dB={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},Zx={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},fB=new Set(Object.values(Zx)),e1=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),hB=t=>t.trim();function pB(t,e){if(t==null||e1.has(t))return t;if(!(t1(t)||e1.has(t)))return`url('${t}')`;const s=/(^[a-z-A-Z]+)\((.*)\)/g.exec(t),i=s==null?void 0:s[1],o=s==null?void 0:s[2];if(!i||!o)return t;const a=i.includes("-gradient")?i:`${i}-gradient`,[c,...u]=o.split(",").map(hB).filter(Boolean);if((u==null?void 0:u.length)===0)return t;const d=c in Zx?Zx[c]:c;u.unshift(d);const h=u.map(p=>{if(fB.has(p))return p;const m=p.indexOf(" "),[v,b]=m!==-1?[p.substr(0,m),p.substr(m+1)]:[p],y=t1(b)?b:b&&b.split(" "),x=`colors.${v}`,g=x in e.__cssMap?e.__cssMap[x].varRef:v;return y?[g,...Array.isArray(y)?y:[y]].join(" "):g});return`${a}(${h.join(", ")})`}const t1=t=>typeof t=="string"&&t.includes("(")&&t.includes(")"),mB=(t,e)=>pB(t,e??{});function gB(t){return/^var\(--.+\)$/.test(t)}const yB=t=>{const e=parseFloat(t.toString()),r=t.toString().replace(String(e),"");return{unitless:!r,value:e,unit:r}},ni=t=>e=>`${t}(${e})`,Qe={filter(t){return t!=="auto"?t:lB},backdropFilter(t){return t!=="auto"?t:cB},ring(t){return uB(Qe.px(t))},bgClip(t){return t==="text"?{color:"transparent",backgroundClip:"text"}:{backgroundClip:t}},transform(t){return t==="auto"?oB():t==="auto-gpu"?aB():t},vh(t){return t==="$100vh"?"var(--chakra-vh)":t},px(t){if(t==null)return t;const{unitless:e}=yB(t);return e||typeof t=="number"?`${t}px`:t},fraction(t){return typeof t!="number"||t>1?t:`${t*100}%`},float(t,e){const r={left:"right",right:"left"};return e.direction==="rtl"?r[t]:t},degree(t){if(gB(t)||t==null)return t;const e=typeof t=="string"&&!t.endsWith("deg");return typeof t=="number"||e?`${t}deg`:t},gradient:mB,blur:ni("blur"),opacity:ni("opacity"),brightness:ni("brightness"),contrast:ni("contrast"),dropShadow:ni("drop-shadow"),grayscale:ni("grayscale"),hueRotate:t=>ni("hue-rotate")(Qe.degree(t)),invert:ni("invert"),saturate:ni("saturate"),sepia:ni("sepia"),bgImage(t){return t==null||t1(t)||e1.has(t)?t:`url(${t})`},outline(t){const e=String(t)==="0"||String(t)==="none";return t!==null&&e?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:t}},flexDirection(t){const{space:e,divide:r}=dB[t]??{},n={flexDirection:t};return e&&(n[e]=1),r&&(n[r]=1),n}},$={borderWidths:as("borderWidths"),borderStyles:as("borderStyles"),colors:as("colors"),borders:as("borders"),gradients:as("gradients",Qe.gradient),radii:as("radii",Qe.px),space:as("space",Wp(Qe.vh,Qe.px)),spaceT:as("space",Wp(Qe.vh,Qe.px)),degreeT(t){return{property:t,transform:Qe.degree}},prop(t,e,r){return{property:t,scale:e,...e&&{transform:q_({scale:e,transform:r})}}},propT(t,e){return{property:t,transform:e}},sizes:as("sizes",Wp(Qe.vh,Qe.px)),sizesT:as("sizes",Wp(Qe.vh,Qe.fraction)),shadows:as("shadows"),logical:iB,blur:as("blur",Qe.blur)},Rm={background:$.colors("background"),backgroundColor:$.colors("backgroundColor"),backgroundImage:$.gradients("backgroundImage"),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:Qe.bgClip},bgSize:$.prop("backgroundSize"),bgPosition:$.prop("backgroundPosition"),bg:$.colors("background"),bgColor:$.colors("backgroundColor"),bgPos:$.prop("backgroundPosition"),bgRepeat:$.prop("backgroundRepeat"),bgAttachment:$.prop("backgroundAttachment"),bgGradient:$.gradients("backgroundImage"),bgClip:{transform:Qe.bgClip}};Object.assign(Rm,{bgImage:Rm.backgroundImage,bgImg:Rm.backgroundImage});const nt={border:$.borders("border"),borderWidth:$.borderWidths("borderWidth"),borderStyle:$.borderStyles("borderStyle"),borderColor:$.colors("borderColor"),borderRadius:$.radii("borderRadius"),borderTop:$.borders("borderTop"),borderBlockStart:$.borders("borderBlockStart"),borderTopLeftRadius:$.radii("borderTopLeftRadius"),borderStartStartRadius:$.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:$.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:$.radii("borderTopRightRadius"),borderStartEndRadius:$.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:$.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:$.borders("borderRight"),borderInlineEnd:$.borders("borderInlineEnd"),borderBottom:$.borders("borderBottom"),borderBlockEnd:$.borders("borderBlockEnd"),borderBottomLeftRadius:$.radii("borderBottomLeftRadius"),borderBottomRightRadius:$.radii("borderBottomRightRadius"),borderLeft:$.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:$.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:$.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:$.borders(["borderLeft","borderRight"]),borderInline:$.borders("borderInline"),borderY:$.borders(["borderTop","borderBottom"]),borderBlock:$.borders("borderBlock"),borderTopWidth:$.borderWidths("borderTopWidth"),borderBlockStartWidth:$.borderWidths("borderBlockStartWidth"),borderTopColor:$.colors("borderTopColor"),borderBlockStartColor:$.colors("borderBlockStartColor"),borderTopStyle:$.borderStyles("borderTopStyle"),borderBlockStartStyle:$.borderStyles("borderBlockStartStyle"),borderBottomWidth:$.borderWidths("borderBottomWidth"),borderBlockEndWidth:$.borderWidths("borderBlockEndWidth"),borderBottomColor:$.colors("borderBottomColor"),borderBlockEndColor:$.colors("borderBlockEndColor"),borderBottomStyle:$.borderStyles("borderBottomStyle"),borderBlockEndStyle:$.borderStyles("borderBlockEndStyle"),borderLeftWidth:$.borderWidths("borderLeftWidth"),borderInlineStartWidth:$.borderWidths("borderInlineStartWidth"),borderLeftColor:$.colors("borderLeftColor"),borderInlineStartColor:$.colors("borderInlineStartColor"),borderLeftStyle:$.borderStyles("borderLeftStyle"),borderInlineStartStyle:$.borderStyles("borderInlineStartStyle"),borderRightWidth:$.borderWidths("borderRightWidth"),borderInlineEndWidth:$.borderWidths("borderInlineEndWidth"),borderRightColor:$.colors("borderRightColor"),borderInlineEndColor:$.colors("borderInlineEndColor"),borderRightStyle:$.borderStyles("borderRightStyle"),borderInlineEndStyle:$.borderStyles("borderInlineEndStyle"),borderTopRadius:$.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:$.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:$.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:$.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign(nt,{rounded:nt.borderRadius,roundedTop:nt.borderTopRadius,roundedTopLeft:nt.borderTopLeftRadius,roundedTopRight:nt.borderTopRightRadius,roundedTopStart:nt.borderStartStartRadius,roundedTopEnd:nt.borderStartEndRadius,roundedBottom:nt.borderBottomRadius,roundedBottomLeft:nt.borderBottomLeftRadius,roundedBottomRight:nt.borderBottomRightRadius,roundedBottomStart:nt.borderEndStartRadius,roundedBottomEnd:nt.borderEndEndRadius,roundedLeft:nt.borderLeftRadius,roundedRight:nt.borderRightRadius,roundedStart:nt.borderInlineStartRadius,roundedEnd:nt.borderInlineEndRadius,borderStart:nt.borderInlineStart,borderEnd:nt.borderInlineEnd,borderTopStartRadius:nt.borderStartStartRadius,borderTopEndRadius:nt.borderStartEndRadius,borderBottomStartRadius:nt.borderEndStartRadius,borderBottomEndRadius:nt.borderEndEndRadius,borderStartRadius:nt.borderInlineStartRadius,borderEndRadius:nt.borderInlineEndRadius,borderStartWidth:nt.borderInlineStartWidth,borderEndWidth:nt.borderInlineEndWidth,borderStartColor:nt.borderInlineStartColor,borderEndColor:nt.borderInlineEndColor,borderStartStyle:nt.borderInlineStartStyle,borderEndStyle:nt.borderInlineEndStyle});const vB={color:$.colors("color"),textColor:$.colors("color"),fill:$.colors("fill"),stroke:$.colors("stroke"),accentColor:$.colors("accentColor"),textFillColor:$.colors("textFillColor")},Gg={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:Qe.flexDirection},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:$.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:$.space("gap"),rowGap:$.space("rowGap"),columnGap:$.space("columnGap")};Object.assign(Gg,{flexDir:Gg.flexDirection});const ls={width:$.sizesT("width"),inlineSize:$.sizesT("inlineSize"),height:$.sizes("height"),blockSize:$.sizes("blockSize"),boxSize:$.sizes(["width","height"]),minWidth:$.sizes("minWidth"),minInlineSize:$.sizes("minInlineSize"),minHeight:$.sizes("minHeight"),minBlockSize:$.sizes("minBlockSize"),maxWidth:$.sizes("maxWidth"),maxInlineSize:$.sizes("maxInlineSize"),maxHeight:$.sizes("maxHeight"),maxBlockSize:$.sizes("maxBlockSize"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,aspectRatio:!0,hideFrom:{scale:"breakpoints",transform:(t,e)=>{var s,i;return{[`@media screen and (min-width: ${((i=(s=e.__breakpoints)==null?void 0:s.get(t))==null?void 0:i.minW)??t})`]:{display:"none"}}}},hideBelow:{scale:"breakpoints",transform:(t,e)=>{var s,i;return{[`@media screen and (max-width: ${((i=(s=e.__breakpoints)==null?void 0:s.get(t))==null?void 0:i._minW)??t})`]:{display:"none"}}}},verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:$.propT("float",Qe.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(ls,{w:ls.width,h:ls.height,minW:ls.minWidth,maxW:ls.maxWidth,minH:ls.minHeight,maxH:ls.maxHeight,overscroll:ls.overscrollBehavior,overscrollX:ls.overscrollBehaviorX,overscrollY:ls.overscrollBehaviorY});const bB={filter:{transform:Qe.filter},blur:$.blur("--chakra-blur"),brightness:$.propT("--chakra-brightness",Qe.brightness),contrast:$.propT("--chakra-contrast",Qe.contrast),hueRotate:$.propT("--chakra-hue-rotate",Qe.hueRotate),invert:$.propT("--chakra-invert",Qe.invert),saturate:$.propT("--chakra-saturate",Qe.saturate),dropShadow:$.propT("--chakra-drop-shadow",Qe.dropShadow),backdropFilter:{transform:Qe.backdropFilter},backdropBlur:$.blur("--chakra-backdrop-blur"),backdropBrightness:$.propT("--chakra-backdrop-brightness",Qe.brightness),backdropContrast:$.propT("--chakra-backdrop-contrast",Qe.contrast),backdropHueRotate:$.propT("--chakra-backdrop-hue-rotate",Qe.hueRotate),backdropInvert:$.propT("--chakra-backdrop-invert",Qe.invert),backdropSaturate:$.propT("--chakra-backdrop-saturate",Qe.saturate)},xB={ring:{transform:Qe.ring},ringColor:$.colors("--chakra-ring-color"),ringOffset:$.prop("--chakra-ring-offset-width"),ringOffsetColor:$.colors("--chakra-ring-offset-color"),ringInset:$.prop("--chakra-ring-inset")},wB={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:Qe.outline},outlineOffset:!0,outlineColor:$.colors("outlineColor")},Uj={gridGap:$.space("gridGap"),gridColumnGap:$.space("gridColumnGap"),gridRowGap:$.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0};function _B(t,e,r,n){const s=typeof e=="string"?e.split("."):[e];for(n=0;n<s.length&&t;n+=1)t=t[s[n]];return t===void 0?r:t}const SB=t=>{const e=new WeakMap;return(n,s,i,o)=>{if(typeof n>"u")return t(n,s,i);e.has(n)||e.set(n,new Map);const a=e.get(n);if(a.has(s))return a.get(s);const c=t(n,s,i,o);return a.set(s,c),c}},EB=SB(_B),TB={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},CB={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},Qv=(t,e,r)=>{const n={},s=EB(t,e,{});for(const i in s)i in r&&r[i]!=null||(n[i]=s[i]);return n},kB={srOnly:{transform(t){return t===!0?TB:t==="focusable"?CB:{}}},layerStyle:{processResult:!0,transform:(t,e,r)=>Qv(e,`layerStyles.${t}`,r)},textStyle:{processResult:!0,transform:(t,e,r)=>Qv(e,`textStyles.${t}`,r)},apply:{processResult:!0,transform:(t,e,r)=>Qv(e,t,r)}},af={position:!0,pos:$.prop("position"),zIndex:$.prop("zIndex","zIndices"),inset:$.spaceT("inset"),insetX:$.spaceT(["left","right"]),insetInline:$.spaceT("insetInline"),insetY:$.spaceT(["top","bottom"]),insetBlock:$.spaceT("insetBlock"),top:$.spaceT("top"),insetBlockStart:$.spaceT("insetBlockStart"),bottom:$.spaceT("bottom"),insetBlockEnd:$.spaceT("insetBlockEnd"),left:$.spaceT("left"),insetInlineStart:$.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:$.spaceT("right"),insetInlineEnd:$.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(af,{insetStart:af.insetInlineStart,insetEnd:af.insetInlineEnd});const r1={boxShadow:$.shadows("boxShadow"),mixBlendMode:!0,blendMode:$.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:$.prop("backgroundBlendMode"),opacity:!0};Object.assign(r1,{shadow:r1.boxShadow});const Pt={margin:$.spaceT("margin"),marginTop:$.spaceT("marginTop"),marginBlockStart:$.spaceT("marginBlockStart"),marginRight:$.spaceT("marginRight"),marginInlineEnd:$.spaceT("marginInlineEnd"),marginBottom:$.spaceT("marginBottom"),marginBlockEnd:$.spaceT("marginBlockEnd"),marginLeft:$.spaceT("marginLeft"),marginInlineStart:$.spaceT("marginInlineStart"),marginX:$.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:$.spaceT("marginInline"),marginY:$.spaceT(["marginTop","marginBottom"]),marginBlock:$.spaceT("marginBlock"),padding:$.space("padding"),paddingTop:$.space("paddingTop"),paddingBlockStart:$.space("paddingBlockStart"),paddingRight:$.space("paddingRight"),paddingBottom:$.space("paddingBottom"),paddingBlockEnd:$.space("paddingBlockEnd"),paddingLeft:$.space("paddingLeft"),paddingInlineStart:$.space("paddingInlineStart"),paddingInlineEnd:$.space("paddingInlineEnd"),paddingX:$.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:$.space("paddingInline"),paddingY:$.space(["paddingTop","paddingBottom"]),paddingBlock:$.space("paddingBlock")};Object.assign(Pt,{m:Pt.margin,mt:Pt.marginTop,mr:Pt.marginRight,me:Pt.marginInlineEnd,marginEnd:Pt.marginInlineEnd,mb:Pt.marginBottom,ml:Pt.marginLeft,ms:Pt.marginInlineStart,marginStart:Pt.marginInlineStart,mx:Pt.marginX,my:Pt.marginY,p:Pt.padding,pt:Pt.paddingTop,py:Pt.paddingY,px:Pt.paddingX,pb:Pt.paddingBottom,pl:Pt.paddingLeft,ps:Pt.paddingInlineStart,paddingStart:Pt.paddingInlineStart,pr:Pt.paddingRight,pe:Pt.paddingInlineEnd,paddingEnd:Pt.paddingInlineEnd});const NB={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:$.spaceT("scrollMargin"),scrollMarginTop:$.spaceT("scrollMarginTop"),scrollMarginBottom:$.spaceT("scrollMarginBottom"),scrollMarginLeft:$.spaceT("scrollMarginLeft"),scrollMarginRight:$.spaceT("scrollMarginRight"),scrollMarginX:$.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:$.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:$.spaceT("scrollPadding"),scrollPaddingTop:$.spaceT("scrollPaddingTop"),scrollPaddingBottom:$.spaceT("scrollPaddingBottom"),scrollPaddingLeft:$.spaceT("scrollPaddingLeft"),scrollPaddingRight:$.spaceT("scrollPaddingRight"),scrollPaddingX:$.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:$.spaceT(["scrollPaddingTop","scrollPaddingBottom"])},IB={fontFamily:$.prop("fontFamily","fonts"),fontSize:$.prop("fontSize","fontSizes",Qe.px),fontWeight:$.prop("fontWeight","fontWeights"),lineHeight:$.prop("lineHeight","lineHeights"),letterSpacing:$.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,textIndent:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,isTruncated:{transform(t){if(t===!0)return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"}},PB={textDecorationColor:$.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:$.shadows("textShadow")},AB={clipPath:!0,transform:$.propT("transform",Qe.transform),transformOrigin:!0,translateX:$.spaceT("--chakra-translate-x"),translateY:$.spaceT("--chakra-translate-y"),skewX:$.degreeT("--chakra-skew-x"),skewY:$.degreeT("--chakra-skew-y"),scaleX:$.prop("--chakra-scale-x"),scaleY:$.prop("--chakra-scale-y"),scale:$.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:$.degreeT("--chakra-rotate")},jB={listStyleType:!0,listStylePosition:!0,listStylePos:$.prop("listStylePosition"),listStyleImage:!0,listStyleImg:$.prop("listStyleImage")},RB={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:$.prop("transitionDuration","transition.duration"),transitionProperty:$.prop("transitionProperty","transition.property"),transitionTimingFunction:$.prop("transitionTimingFunction","transition.easing")},G_=hs({},Rm,nt,vB,Gg,ls,bB,xB,wB,Uj,kB,af,r1,Pt,NB,IB,PB,AB,jB,RB),DB=Object.assign({},Pt,ls,Gg,Uj,af),OB=Object.keys(DB),MB=[...Object.keys(G_),...Bj],LB={...G_,...Jc},FB=t=>t in LB,VB=t=>e=>{if(!e.__breakpoints)return t;const{isResponsive:r,toArrayValue:n,media:s}=e.__breakpoints,i={};for(const o in t){let a=fs(t[o],e);if(a==null)continue;if(a=Rr(a)&&r(a)?n(a):a,!Array.isArray(a)){i[o]=a;continue}const c=a.slice(0,s.length).length;for(let u=0;u<c;u+=1){const d=s==null?void 0:s[u];if(!d){i[o]=a[u];continue}i[d]=i[d]||{},a[u]!=null&&(i[d][o]=a[u])}}return i};function $B(t){const e=[];let r="",n=!1;for(let s=0;s<t.length;s++){const i=t[s];i==="("?(n=!0,r+=i):i===")"?(n=!1,r+=i):i===","&&!n?(e.push(r),r=""):r+=i}return r=r.trim(),r&&e.push(r),e}function BB(t){return/^var\(--.+\)$/.test(t)}const zB=(t,e)=>t.startsWith("--")&&typeof e=="string"&&!BB(e),UB=(t,e)=>{if(e==null)return e;const r=o=>{var a,c;return(c=(a=t.__cssMap)==null?void 0:a[o])==null?void 0:c.varRef},n=o=>r(o)??o,[s,i]=$B(e);return e=r(s)??n(i)??n(e),e};function HB(t){const{configs:e={},pseudos:r={},theme:n}=t,s=(i,o=!1)=>{var d;const a=fs(i,n),c=VB(a)(n);let u={};for(let h in c){const p=c[h];let m=fs(p,n);h in r&&(h=r[h]),zB(h,m)&&(m=UB(n,m));let v=e[h];if(v===!0&&(v={property:h}),Rr(m)){u[h]=u[h]??{},u[h]=hs({},u[h],s(m,!0));continue}let b=((d=v==null?void 0:v.transform)==null?void 0:d.call(v,m,n,a))??m;b=v!=null&&v.processResult?s(b,!0):b;const y=fs(v==null?void 0:v.property,n);if(!o&&(v!=null&&v.static)){const x=fs(v.static,n);u=hs({},u,x)}if(y&&Array.isArray(y)){for(const x of y)u[x]=b;continue}if(y){y==="&"&&Rr(b)?u=hs({},u,b):u[y]=b;continue}if(Rr(b)){u=hs({},u,b);continue}u[h]=b}return u};return s}const Hj=t=>e=>HB({theme:e,pseudos:Jc,configs:G_})(t);function kt(t){return{definePartsStyle(e){return e},defineMultiStyleConfig(e){return{parts:t,...e}}}}function WB(t,e,r){var n,s;return((s=(n=t.__cssMap)==null?void 0:n[`${e}.${r}`])==null?void 0:s.varRef)??r}function qB(t,e){if(Array.isArray(t))return t;if(Rr(t))return e(t);if(t!=null)return[t]}function GB(t,e){for(let r=e+1;r<t.length;r++)if(t[r]!=null)return r;return-1}function KB(t){const e=t.__breakpoints;return function(n,s,i,o){var p,m;if(!e)return;const a={},c=qB(i,e.toArrayValue);if(!c)return a;const u=c.length,d=u===1,h=!!n.parts;for(let v=0;v<u;v++){const b=e.details[v],y=e.details[GB(c,v)],x=Ld(b.minW,y==null?void 0:y._minW),g=fs((p=n[s])==null?void 0:p[c[v]],o);if(g){if(h){(m=n.parts)==null||m.forEach(w=>{hs(a,{[w]:d?g[w]:{[x]:g[w]}})});continue}if(!h){d?hs(a,g):a[x]=g;continue}a[x]=g}}return a}}function QB(t){return e=>{const{variant:r,size:n,theme:s}=e,i=KB(s);return hs({},fs(t.baseStyle??{},e),i(t,"sizes",n,e),i(t,"variants",r,e))}}function en(t){return cy(t,["styleConfig","size","variant","colorScheme"])}function Wj(t){return Rr(t)&&t.reference?t.reference:String(t)}const uy=(t,...e)=>e.map(Wj).join(` ${t} `).replace(/calc/g,""),WT=(...t)=>`calc(${uy("+",...t)})`,qT=(...t)=>`calc(${uy("-",...t)})`,n1=(...t)=>`calc(${uy("*",...t)})`,GT=(...t)=>`calc(${uy("/",...t)})`,KT=t=>{const e=Wj(t);return e!=null&&!Number.isNaN(parseFloat(e))?String(e).startsWith("-")?String(e).slice(1):`-${e}`:n1(e,-1)},Qi=Object.assign(t=>({add:(...e)=>Qi(WT(t,...e)),subtract:(...e)=>Qi(qT(t,...e)),multiply:(...e)=>Qi(n1(t,...e)),divide:(...e)=>Qi(GT(t,...e)),negate:()=>Qi(KT(t)),toString:()=>t.toString()}),{add:WT,subtract:qT,multiply:n1,divide:GT,negate:KT});function YB(t,e="-"){return t.replace(/\s+/g,e)}function XB(t){const e=YB(t.toString());return ZB(JB(e))}function JB(t){return t.includes("\\.")?t:!Number.isInteger(parseFloat(t.toString()))?t.replace(".","\\."):t}function ZB(t){return t.replace(/[!-,/:-@[-^`{-~]/g,"\\$&")}function ez(t,e=""){return[e,t].filter(Boolean).join("-")}function tz(t,e){return`var(${t}${e?`, ${e}`:""})`}function rz(t,e=""){return XB(`--${ez(t,e)}`)}function Te(t,e,r){const n=rz(t,r);return{variable:n,reference:tz(n,e)}}function nz(t,e){const r={};for(const n of e){if(Array.isArray(n)){const[s,i]=n;r[s]=Te(`${t}-${s}`,i);continue}r[n]=Te(`${t}-${n}`)}return r}const sz=["colors","borders","borderWidths","borderStyles","fonts","fontSizes","fontWeights","gradients","letterSpacings","lineHeights","radii","space","shadows","sizes","zIndices","transition","blur","breakpoints"];function iz(t){return Lj(t,sz)}function oz(t){return t.semanticTokens}function az(t){const{__cssMap:e,__cssVars:r,__breakpoints:n,...s}=t;return s}function lz(t){const e=iz(t),r=oz(t),n=i=>Bj.includes(i)||i==="default",s={};return UT(e,(i,o)=>{i!=null&&(s[o.join(".")]={isSemantic:!1,value:i})}),UT(r,(i,o)=>{i!=null&&(s[o.join(".")]={isSemantic:!0,value:i})},{stop:i=>Object.keys(i).every(n)}),s}function QT(t,e){return Te(String(t).replace(/\./g,"-"),void 0,e)}function cz(t){var o;const e=lz(t),r=(o=t.config)==null?void 0:o.cssVarPrefix;let n={};const s={};function i(a,c){const d=[String(a).split(".")[0],c].join(".");if(!e[d])return c;const{reference:p}=QT(d,r);return p}for(const[a,c]of Object.entries(e)){const{isSemantic:u,value:d}=c,{variable:h,reference:p}=QT(a,r);if(!u){if(a.startsWith("space")){const v=a.split("."),[b,...y]=v,x=`${b}.-${y.join(".")}`,g=Qi.negate(d),w=Qi.negate(p);s[x]={value:g,var:h,varRef:w}}n[h]=d,s[a]={value:d,var:h,varRef:p};continue}const m=Rr(d)?d:{default:d};n=hs(n,Object.entries(m).reduce((v,[b,y])=>{if(!y)return v;const x=i(a,`${y}`);if(b==="default")return v[h]=x,v;const g=(Jc==null?void 0:Jc[b])??b;return v[g]={[h]:x},v},{})),s[a]={value:p,var:h,varRef:p}}return{cssVars:n,cssMap:s}}function uz(t){const e=az(t),{cssMap:r,cssVars:n}=cz(e);return Object.assign(e,{__cssVars:{...{"--chakra-ring-inset":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-ring-offset-width":"0px","--chakra-ring-offset-color":"#fff","--chakra-ring-color":"rgba(66, 153, 225, 0.6)","--chakra-ring-offset-shadow":"0 0 #0000","--chakra-ring-shadow":"0 0 #0000","--chakra-space-x-reverse":"0","--chakra-space-y-reverse":"0"},...n},__cssMap:r,__breakpoints:V$(e.breakpoints)}),e}function at(t,e={}){let r=!1;function n(){if(!r){r=!0;return}throw new Error("[anatomy] .part(...) should only be called once. Did you mean to use .extend(...) ?")}function s(...d){n();for(const h of d)e[h]=c(h);return at(t,e)}function i(...d){for(const h of d)h in e||(e[h]=c(h));return at(t,e)}function o(){return Object.fromEntries(Object.entries(e).map(([h,p])=>[h,p.selector]))}function a(){return Object.fromEntries(Object.entries(e).map(([h,p])=>[h,p.className]))}function c(d){const m=`chakra-${(["container","root"].includes(d??"")?[t]:[t,d]).filter(Boolean).join("__")}`;return{className:m,selector:`.${m}`,toString:()=>d}}return{parts:s,toPart:c,extend:i,selectors:o,classnames:a,get keys(){return Object.keys(e)},__type:{}}}const dz=at("accordion").parts("root","container","button","panel","icon"),fz=at("alert").parts("title","description","container","icon","spinner"),hz=at("avatar").parts("label","badge","container","excessLabel","group"),pz=at("breadcrumb").parts("link","item","container","separator");at("button").parts();const mz=at("checkbox").parts("control","icon","container","label");at("progress").parts("track","filledTrack","label");const gz=at("drawer").parts("overlay","dialogContainer","dialog","header","closeButton","body","footer"),yz=at("editable").parts("preview","input","textarea"),vz=at("form").parts("container","requiredIndicator","helperText"),bz=at("formError").parts("text","icon"),xz=at("input").parts("addon","field","element","group"),wz=at("list").parts("container","item","icon"),_z=at("menu").parts("button","list","item","groupTitle","icon","command","divider"),Sz=at("modal").parts("overlay","dialogContainer","dialog","header","closeButton","body","footer"),Ez=at("numberinput").parts("root","field","stepperGroup","stepper");at("pininput").parts("field");const Tz=at("popover").parts("content","header","body","footer","popper","arrow","closeButton"),Cz=at("progress").parts("label","filledTrack","track"),kz=at("radio").parts("container","control","label"),Nz=at("select").parts("field","icon"),Iz=at("slider").parts("container","track","thumb","filledTrack","mark"),Pz=at("stat").parts("container","label","helpText","number","icon"),Az=at("switch").parts("container","track","thumb","label"),jz=at("table").parts("table","thead","tbody","tr","th","td","tfoot","caption"),Rz=at("tabs").parts("root","tab","tablist","tabpanel","tabpanels","indicator"),Dz=at("tag").parts("container","label","closeButton"),Oz=at("card").parts("container","header","body","footer");at("stepper").parts("stepper","step","title","description","indicator","separator","icon","number");const{definePartsStyle:Mz,defineMultiStyleConfig:Lz}=kt(dz.keys),Fz={borderTopWidth:"1px",borderColor:"inherit",_last:{borderBottomWidth:"1px"}},Vz={transitionProperty:"common",transitionDuration:"normal",fontSize:"md",_focusVisible:{boxShadow:"outline"},_hover:{bg:"blackAlpha.50"},_disabled:{opacity:.4,cursor:"not-allowed"},px:"4",py:"2"},$z={pt:"2",px:"4",pb:"5"},Bz={fontSize:"1.25em"},zz=Mz({container:Fz,button:Vz,panel:$z,icon:Bz}),Uz=Lz({baseStyle:zz});function ul(t,e,r){return Math.min(Math.max(t,r),e)}class Hz extends Error{constructor(e){super(`Failed to parse color: "${e}"`)}}var Fd=Hz;function K_(t){if(typeof t!="string")throw new Fd(t);if(t.trim().toLowerCase()==="transparent")return[0,0,0,0];let e=t.trim();e=Jz.test(t)?Gz(t):t;const r=Kz.exec(e);if(r){const o=Array.from(r).slice(1);return[...o.slice(0,3).map(a=>parseInt(th(a,2),16)),parseInt(th(o[3]||"f",2),16)/255]}const n=Qz.exec(e);if(n){const o=Array.from(n).slice(1);return[...o.slice(0,3).map(a=>parseInt(a,16)),parseInt(o[3]||"ff",16)/255]}const s=Yz.exec(e);if(s){const o=Array.from(s).slice(1);return[...o.slice(0,3).map(a=>parseInt(a,10)),parseFloat(o[3]||"1")]}const i=Xz.exec(e);if(i){const[o,a,c,u]=Array.from(i).slice(1).map(parseFloat);if(ul(0,100,a)!==a)throw new Fd(t);if(ul(0,100,c)!==c)throw new Fd(t);return[...Zz(o,a,c),Number.isNaN(u)?1:u]}throw new Fd(t)}function Wz(t){let e=5381,r=t.length;for(;r;)e=e*33^t.charCodeAt(--r);return(e>>>0)%2341}const YT=t=>parseInt(t.replace(/_/g,""),36),qz="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((t,e)=>{const r=YT(e.substring(0,3)),n=YT(e.substring(3)).toString(16);let s="";for(let i=0;i<6-n.length;i++)s+="0";return t[r]=`${s}${n}`,t},{});function Gz(t){const e=t.toLowerCase().trim(),r=qz[Wz(e)];if(!r)throw new Fd(t);return`#${r}`}const th=(t,e)=>Array.from(Array(e)).map(()=>t).join(""),Kz=new RegExp(`^#${th("([a-f0-9])",3)}([a-f0-9])?$`,"i"),Qz=new RegExp(`^#${th("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),Yz=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${th(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),Xz=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,Jz=/^[a-z]+$/i,XT=t=>Math.round(t*255),Zz=(t,e,r)=>{let n=r/100;if(e===0)return[n,n,n].map(XT);const s=(t%360+360)%360/60,i=(1-Math.abs(2*n-1))*(e/100),o=i*(1-Math.abs(s%2-1));let a=0,c=0,u=0;s>=0&&s<1?(a=i,c=o):s>=1&&s<2?(a=o,c=i):s>=2&&s<3?(c=i,u=o):s>=3&&s<4?(c=o,u=i):s>=4&&s<5?(a=o,u=i):s>=5&&s<6&&(a=i,u=o);const d=n-i/2,h=a+d,p=c+d,m=u+d;return[h,p,m].map(XT)};function eU(t,e,r,n){return`rgba(${ul(0,255,t).toFixed()}, ${ul(0,255,e).toFixed()}, ${ul(0,255,r).toFixed()}, ${parseFloat(ul(0,1,n).toFixed(3))})`}function tU(t,e){const[r,n,s,i]=K_(t);return eU(r,n,s,i-e)}function rU(t){const[e,r,n,s]=K_(t);let i=o=>{const a=ul(0,255,o).toString(16);return a.length===1?`0${a}`:a};return`#${i(e)}${i(r)}${i(n)}${s<1?i(Math.round(s*255)):""}`}const nU=t=>Object.keys(t).length===0;function sU(t,e,r,n,s){for(e=e.split?e.split("."):e,n=0;n<e.length;n++)t=t?t[e[n]]:s;return t===s?r:t}const ln=(t,e,r)=>{const n=sU(t,`colors.${e}`,e);try{return rU(n),n}catch{return r??"#000000"}},iU=t=>{const[e,r,n]=K_(t);return(e*299+r*587+n*114)/1e3},oU=t=>e=>{const r=ln(e,t);return iU(r)<128?"dark":"light"},aU=t=>e=>oU(t)(e)==="dark",Tu=(t,e)=>r=>{const n=ln(r,t);return tU(n,1-e)};function JT(t="1rem",e="rgba(255, 255, 255, 0.15)"){return{backgroundImage:`linear-gradient(
    45deg,
    ${e} 25%,
    transparent 25%,
    transparent 50%,
    ${e} 50%,
    ${e} 75%,
    transparent 75%,
    transparent
  )`,backgroundSize:`${t} ${t}`}}const lU=()=>`#${Math.floor(Math.random()*16777215).toString(16).padEnd(6,"0")}`;function cU(t){const e=lU();return!t||nU(t)?e:t.string&&t.colors?dU(t.string,t.colors):t.string&&!t.colors?uU(t.string):t.colors&&!t.string?fU(t.colors):e}function uU(t){let e=0;if(t.length===0)return e.toString();for(let n=0;n<t.length;n+=1)e=t.charCodeAt(n)+((e<<5)-e),e=e&e;let r="#";for(let n=0;n<3;n+=1){const s=e>>n*8&255;r+=`00${s.toString(16)}`.substr(-2)}return r}function dU(t,e){let r=0;if(t.length===0)return e[0];for(let n=0;n<t.length;n+=1)r=t.charCodeAt(n)+((r<<5)-r),r=r&r;return r=(r%e.length+e.length)%e.length,e[r]}function fU(t){return t[Math.floor(Math.random()*t.length)]}function Ee(t,e){return r=>r.colorMode==="dark"?e:t}function Q_(t){const{orientation:e,vertical:r,horizontal:n}=t;return e?e==="vertical"?r:n:{}}function qj(t){return Rr(t)&&t.reference?t.reference:String(t)}const dy=(t,...e)=>e.map(qj).join(` ${t} `).replace(/calc/g,""),ZT=(...t)=>`calc(${dy("+",...t)})`,e4=(...t)=>`calc(${dy("-",...t)})`,s1=(...t)=>`calc(${dy("*",...t)})`,t4=(...t)=>`calc(${dy("/",...t)})`,r4=t=>{const e=qj(t);return e!=null&&!Number.isNaN(parseFloat(e))?String(e).startsWith("-")?String(e).slice(1):`-${e}`:s1(e,-1)},Yi=Object.assign(t=>({add:(...e)=>Yi(ZT(t,...e)),subtract:(...e)=>Yi(e4(t,...e)),multiply:(...e)=>Yi(s1(t,...e)),divide:(...e)=>Yi(t4(t,...e)),negate:()=>Yi(r4(t)),toString:()=>t.toString()}),{add:ZT,subtract:e4,multiply:s1,divide:t4,negate:r4});function hU(t){return!Number.isInteger(parseFloat(t.toString()))}function pU(t,e="-"){return t.replace(/\s+/g,e)}function Gj(t){const e=pU(t.toString());return e.includes("\\.")?t:hU(t)?e.replace(".","\\."):t}function mU(t,e=""){return[e,Gj(t)].filter(Boolean).join("-")}function gU(t,e){return`var(${Gj(t)}${e?`, ${e}`:""})`}function yU(t,e=""){return`--${mU(t,e)}`}function hr(t,e){const r=yU(t,e==null?void 0:e.prefix);return{variable:r,reference:gU(r,vU(e==null?void 0:e.fallback))}}function vU(t){return t==null?void 0:t.reference}const{definePartsStyle:qh,defineMultiStyleConfig:bU}=kt(fz.keys),Kn=Te("alert-fg"),xo=Te("alert-bg"),xU=qh({container:{bg:xo.reference,px:"4",py:"3"},title:{fontWeight:"bold",lineHeight:"6",marginEnd:"2"},description:{lineHeight:"6"},icon:{color:Kn.reference,flexShrink:0,marginEnd:"3",w:"5",h:"6"},spinner:{color:Kn.reference,flexShrink:0,marginEnd:"3",w:"5",h:"5"}});function Y_(t){const{theme:e,colorScheme:r}=t,n=Tu(`${r}.200`,.16)(e);return{light:`colors.${r}.100`,dark:n}}const wU=qh(t=>{const{colorScheme:e}=t,r=Y_(t);return{container:{[Kn.variable]:`colors.${e}.600`,[xo.variable]:r.light,_dark:{[Kn.variable]:`colors.${e}.200`,[xo.variable]:r.dark}}}}),_U=qh(t=>{const{colorScheme:e}=t,r=Y_(t);return{container:{[Kn.variable]:`colors.${e}.600`,[xo.variable]:r.light,_dark:{[Kn.variable]:`colors.${e}.200`,[xo.variable]:r.dark},paddingStart:"3",borderStartWidth:"4px",borderStartColor:Kn.reference}}}),SU=qh(t=>{const{colorScheme:e}=t,r=Y_(t);return{container:{[Kn.variable]:`colors.${e}.600`,[xo.variable]:r.light,_dark:{[Kn.variable]:`colors.${e}.200`,[xo.variable]:r.dark},pt:"2",borderTopWidth:"4px",borderTopColor:Kn.reference}}}),EU=qh(t=>{const{colorScheme:e}=t;return{container:{[Kn.variable]:"colors.white",[xo.variable]:`colors.${e}.600`,_dark:{[Kn.variable]:"colors.gray.900",[xo.variable]:`colors.${e}.200`},color:Kn.reference}}}),TU={subtle:wU,"left-accent":_U,"top-accent":SU,solid:EU},CU=bU({baseStyle:xU,variants:TU,defaultProps:{variant:"subtle",colorScheme:"blue"}}),Kj={px:"1px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},kU={max:"max-content",min:"min-content",full:"100%","3xs":"14rem","2xs":"16rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem","8xl":"90rem",prose:"60ch"},NU={sm:"640px",md:"768px",lg:"1024px",xl:"1280px"},Qj={...Kj,...kU,container:NU},IU=t=>typeof t=="function";function un(t,...e){return IU(t)?t(...e):t}const{definePartsStyle:Yj,defineMultiStyleConfig:PU}=kt(hz.keys),Zc=Te("avatar-border-color"),lf=Te("avatar-bg"),rh=Te("avatar-font-size"),Cu=Te("avatar-size"),AU={borderRadius:"full",border:"0.2em solid",borderColor:Zc.reference,[Zc.variable]:"white",_dark:{[Zc.variable]:"colors.gray.800"}},jU={bg:lf.reference,fontSize:rh.reference,width:Cu.reference,height:Cu.reference,lineHeight:"1",[lf.variable]:"colors.gray.200",_dark:{[lf.variable]:"colors.whiteAlpha.400"}},RU=t=>{const{name:e,theme:r}=t,n=e?cU({string:e}):"colors.gray.400",s=aU(n)(r);let i="white";return s||(i="gray.800"),{bg:lf.reference,fontSize:rh.reference,color:i,borderColor:Zc.reference,verticalAlign:"top",width:Cu.reference,height:Cu.reference,"&:not([data-loaded])":{[lf.variable]:n},[Zc.variable]:"colors.white",_dark:{[Zc.variable]:"colors.gray.800"}}},DU={fontSize:rh.reference,lineHeight:"1"},OU=Yj(t=>({badge:un(AU,t),excessLabel:un(jU,t),container:un(RU,t),label:DU}));function Vo(t){const e=t!=="100%"?Qj[t]:void 0;return Yj({container:{[Cu.variable]:e??t,[rh.variable]:`calc(${e??t} / 2.5)`},excessLabel:{[Cu.variable]:e??t,[rh.variable]:`calc(${e??t} / 2.5)`}})}const MU={"2xs":Vo(4),xs:Vo(6),sm:Vo(8),md:Vo(12),lg:Vo(16),xl:Vo(24),"2xl":Vo(32),full:Vo("100%")},LU=PU({baseStyle:OU,sizes:MU,defaultProps:{size:"md"}}),Jt=nz("badge",["bg","color","shadow"]),FU={px:1,textTransform:"uppercase",fontSize:"xs",borderRadius:"sm",fontWeight:"bold",bg:Jt.bg.reference,color:Jt.color.reference,boxShadow:Jt.shadow.reference},VU=t=>{const{colorScheme:e,theme:r}=t,n=Tu(`${e}.500`,.6)(r);return{[Jt.bg.variable]:`colors.${e}.500`,[Jt.color.variable]:"colors.white",_dark:{[Jt.bg.variable]:n,[Jt.color.variable]:"colors.whiteAlpha.800"}}},$U=t=>{const{colorScheme:e,theme:r}=t,n=Tu(`${e}.200`,.16)(r);return{[Jt.bg.variable]:`colors.${e}.100`,[Jt.color.variable]:`colors.${e}.800`,_dark:{[Jt.bg.variable]:n,[Jt.color.variable]:`colors.${e}.200`}}},BU=t=>{const{colorScheme:e,theme:r}=t,n=Tu(`${e}.200`,.8)(r);return{[Jt.color.variable]:`colors.${e}.500`,_dark:{[Jt.color.variable]:n},[Jt.shadow.variable]:`inset 0 0 0px 1px ${Jt.color.reference}`}},zU={solid:VU,subtle:$U,outline:BU},cf={baseStyle:FU,variants:zU,defaultProps:{variant:"subtle",colorScheme:"gray"}},{defineMultiStyleConfig:UU,definePartsStyle:HU}=kt(pz.keys),Yv=Te("breadcrumb-link-decor"),WU={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",outline:"none",color:"inherit",textDecoration:Yv.reference,[Yv.variable]:"none","&:not([aria-current=page])":{cursor:"pointer",_hover:{[Yv.variable]:"underline"},_focusVisible:{boxShadow:"outline"}}},qU=HU({link:WU}),GU=UU({baseStyle:qU}),KU={lineHeight:"1.2",borderRadius:"md",fontWeight:"semibold",transitionProperty:"common",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{_disabled:{bg:"initial"}}},Xj=t=>{const{colorScheme:e,theme:r}=t;if(e==="gray")return{color:Ee("gray.800","whiteAlpha.900")(t),_hover:{bg:Ee("gray.100","whiteAlpha.200")(t)},_active:{bg:Ee("gray.200","whiteAlpha.300")(t)}};const n=Tu(`${e}.200`,.12)(r),s=Tu(`${e}.200`,.24)(r);return{color:Ee(`${e}.600`,`${e}.200`)(t),bg:"transparent",_hover:{bg:Ee(`${e}.50`,n)(t)},_active:{bg:Ee(`${e}.100`,s)(t)}}},QU=t=>{const{colorScheme:e}=t,r=Ee("gray.200","whiteAlpha.300")(t);return{border:"1px solid",borderColor:e==="gray"?r:"currentColor",".chakra-button__group[data-attached][data-orientation=horizontal] > &:not(:last-of-type)":{marginEnd:"-1px"},".chakra-button__group[data-attached][data-orientation=vertical] > &:not(:last-of-type)":{marginBottom:"-1px"},...un(Xj,t)}},YU={yellow:{bg:"yellow.400",color:"black",hoverBg:"yellow.500",activeBg:"yellow.600"},cyan:{bg:"cyan.400",color:"black",hoverBg:"cyan.500",activeBg:"cyan.600"}},XU=t=>{const{colorScheme:e}=t;if(e==="gray"){const a=Ee("gray.100","whiteAlpha.200")(t);return{bg:a,color:Ee("gray.800","whiteAlpha.900")(t),_hover:{bg:Ee("gray.200","whiteAlpha.300")(t),_disabled:{bg:a}},_active:{bg:Ee("gray.300","whiteAlpha.400")(t)}}}const{bg:r=`${e}.500`,color:n="white",hoverBg:s=`${e}.600`,activeBg:i=`${e}.700`}=YU[e]??{},o=Ee(r,`${e}.200`)(t);return{bg:o,color:Ee(n,"gray.800")(t),_hover:{bg:Ee(s,`${e}.300`)(t),_disabled:{bg:o}},_active:{bg:Ee(i,`${e}.400`)(t)}}},JU=t=>{const{colorScheme:e}=t;return{padding:0,height:"auto",lineHeight:"normal",verticalAlign:"baseline",color:Ee(`${e}.500`,`${e}.200`)(t),_hover:{textDecoration:"underline",_disabled:{textDecoration:"none"}},_active:{color:Ee(`${e}.700`,`${e}.500`)(t)}}},ZU={bg:"none",color:"inherit",display:"inline",lineHeight:"inherit",m:"0",p:"0"},eH={ghost:Xj,outline:QU,solid:XU,link:JU,unstyled:ZU},tH={lg:{h:"12",minW:"12",fontSize:"lg",px:"6"},md:{h:"10",minW:"10",fontSize:"md",px:"4"},sm:{h:"8",minW:"8",fontSize:"sm",px:"3"},xs:{h:"6",minW:"6",fontSize:"xs",px:"2"}},rH={baseStyle:KU,variants:eH,sizes:tH,defaultProps:{variant:"solid",size:"md",colorScheme:"gray"}},{definePartsStyle:vl,defineMultiStyleConfig:nH}=kt(Oz.keys),Kg=Te("card-bg"),lo=Te("card-padding"),Jj=Te("card-shadow"),Dm=Te("card-radius"),Zj=Te("card-border-width","0"),e6=Te("card-border-color"),sH=vl({container:{[Kg.variable]:"colors.chakra-body-bg",backgroundColor:Kg.reference,boxShadow:Jj.reference,borderRadius:Dm.reference,color:"chakra-body-text",borderWidth:Zj.reference,borderColor:e6.reference},body:{padding:lo.reference,flex:"1 1 0%"},header:{padding:lo.reference},footer:{padding:lo.reference}}),iH={sm:vl({container:{[Dm.variable]:"radii.base",[lo.variable]:"space.3"}}),md:vl({container:{[Dm.variable]:"radii.md",[lo.variable]:"space.5"}}),lg:vl({container:{[Dm.variable]:"radii.xl",[lo.variable]:"space.7"}})},oH={elevated:vl({container:{[Jj.variable]:"shadows.base",_dark:{[Kg.variable]:"colors.gray.700"}}}),outline:vl({container:{[Zj.variable]:"1px",[e6.variable]:"colors.chakra-border-color"}}),filled:vl({container:{[Kg.variable]:"colors.chakra-subtle-bg"}}),unstyled:{body:{[lo.variable]:0},header:{[lo.variable]:0},footer:{[lo.variable]:0}}},aH=nH({baseStyle:sH,variants:oH,sizes:iH,defaultProps:{variant:"elevated",size:"md"}}),{definePartsStyle:Om,defineMultiStyleConfig:lH}=kt(mz.keys),uf=Te("checkbox-size"),cH=t=>{const{colorScheme:e}=t;return{w:uf.reference,h:uf.reference,transitionProperty:"box-shadow",transitionDuration:"normal",border:"2px solid",borderRadius:"sm",borderColor:"inherit",color:"white",_checked:{bg:Ee(`${e}.500`,`${e}.200`)(t),borderColor:Ee(`${e}.500`,`${e}.200`)(t),color:Ee("white","gray.900")(t),_hover:{bg:Ee(`${e}.600`,`${e}.300`)(t),borderColor:Ee(`${e}.600`,`${e}.300`)(t)},_disabled:{borderColor:Ee("gray.200","transparent")(t),bg:Ee("gray.200","whiteAlpha.300")(t),color:Ee("gray.500","whiteAlpha.500")(t)}},_indeterminate:{bg:Ee(`${e}.500`,`${e}.200`)(t),borderColor:Ee(`${e}.500`,`${e}.200`)(t),color:Ee("white","gray.900")(t)},_disabled:{bg:Ee("gray.100","whiteAlpha.100")(t),borderColor:Ee("gray.100","transparent")(t)},_focusVisible:{boxShadow:"outline"},_invalid:{borderColor:Ee("red.500","red.300")(t)}}},uH={_disabled:{cursor:"not-allowed"}},dH={userSelect:"none",_disabled:{opacity:.4}},fH={transitionProperty:"transform",transitionDuration:"normal"},hH=Om(t=>({icon:fH,container:uH,control:un(cH,t),label:dH})),pH={sm:Om({control:{[uf.variable]:"sizes.3"},label:{fontSize:"sm"},icon:{fontSize:"3xs"}}),md:Om({control:{[uf.variable]:"sizes.4"},label:{fontSize:"md"},icon:{fontSize:"2xs"}}),lg:Om({control:{[uf.variable]:"sizes.5"},label:{fontSize:"lg"},icon:{fontSize:"2xs"}})},Go=lH({baseStyle:hH,sizes:pH,defaultProps:{size:"md",colorScheme:"blue"}}),df=hr("close-button-size"),gd=hr("close-button-bg"),mH={w:[df.reference],h:[df.reference],borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{[gd.variable]:"colors.blackAlpha.100",_dark:{[gd.variable]:"colors.whiteAlpha.100"}},_active:{[gd.variable]:"colors.blackAlpha.200",_dark:{[gd.variable]:"colors.whiteAlpha.200"}},_focusVisible:{boxShadow:"outline"},bg:gd.reference},gH={lg:{[df.variable]:"sizes.10",fontSize:"md"},md:{[df.variable]:"sizes.8",fontSize:"xs"},sm:{[df.variable]:"sizes.6",fontSize:"2xs"}},yH={baseStyle:mH,sizes:gH,defaultProps:{size:"md"}},{variants:vH,defaultProps:bH}=cf,xH={fontFamily:"mono",fontSize:"sm",px:"0.2em",borderRadius:"sm",bg:Jt.bg.reference,color:Jt.color.reference,boxShadow:Jt.shadow.reference},wH={baseStyle:xH,variants:vH,defaultProps:bH},_H={w:"100%",mx:"auto",maxW:"prose",px:"4"},SH={baseStyle:_H},EH={opacity:.6,borderColor:"inherit"},TH={borderStyle:"solid"},CH={borderStyle:"dashed"},kH={solid:TH,dashed:CH},NH={baseStyle:EH,variants:kH,defaultProps:{variant:"solid"}},{definePartsStyle:i1,defineMultiStyleConfig:IH}=kt(gz.keys),Xv=Te("drawer-bg"),Jv=Te("drawer-box-shadow");function cc(t){return i1(t==="full"?{dialog:{maxW:"100vw",h:"100vh"}}:{dialog:{maxW:t}})}const PH={bg:"blackAlpha.600",zIndex:"modal"},AH={display:"flex",zIndex:"modal",justifyContent:"center"},jH=t=>{const{isFullHeight:e}=t;return{...e&&{height:"100vh"},zIndex:"modal",maxH:"100vh",color:"inherit",[Xv.variable]:"colors.white",[Jv.variable]:"shadows.lg",_dark:{[Xv.variable]:"colors.gray.700",[Jv.variable]:"shadows.dark-lg"},bg:Xv.reference,boxShadow:Jv.reference}},RH={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},DH={position:"absolute",top:"2",insetEnd:"3"},OH={px:"6",py:"2",flex:"1",overflow:"auto"},MH={px:"6",py:"4"},LH=i1(t=>({overlay:PH,dialogContainer:AH,dialog:un(jH,t),header:RH,closeButton:DH,body:OH,footer:MH})),FH={xs:cc("xs"),sm:cc("md"),md:cc("lg"),lg:cc("2xl"),xl:cc("4xl"),full:cc("full")},VH=IH({baseStyle:LH,sizes:FH,defaultProps:{size:"xs"}}),{definePartsStyle:$H,defineMultiStyleConfig:BH}=kt(yz.keys),zH={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal"},UH={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},HH={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},WH=$H({preview:zH,input:UH,textarea:HH}),qH=BH({baseStyle:WH}),{definePartsStyle:GH,defineMultiStyleConfig:KH}=kt(vz.keys),eu=Te("form-control-color"),QH={marginStart:"1",[eu.variable]:"colors.red.500",_dark:{[eu.variable]:"colors.red.300"},color:eu.reference},YH={mt:"2",[eu.variable]:"colors.gray.600",_dark:{[eu.variable]:"colors.whiteAlpha.600"},color:eu.reference,lineHeight:"normal",fontSize:"sm"},XH=GH({container:{width:"100%",position:"relative"},requiredIndicator:QH,helperText:YH}),JH=KH({baseStyle:XH}),{definePartsStyle:ZH,defineMultiStyleConfig:eW}=kt(bz.keys),tu=Te("form-error-color"),tW={[tu.variable]:"colors.red.500",_dark:{[tu.variable]:"colors.red.300"},color:tu.reference,mt:"2",fontSize:"sm",lineHeight:"normal"},rW={marginEnd:"0.5em",[tu.variable]:"colors.red.500",_dark:{[tu.variable]:"colors.red.300"},color:tu.reference},nW=ZH({text:tW,icon:rW}),sW=eW({baseStyle:nW}),iW={fontSize:"md",marginEnd:"3",mb:"2",fontWeight:"medium",transitionProperty:"common",transitionDuration:"normal",opacity:1,_disabled:{opacity:.4}},oW={baseStyle:iW},aW={fontFamily:"heading",fontWeight:"bold"},lW={"4xl":{fontSize:["6xl",null,"7xl"],lineHeight:1},"3xl":{fontSize:["5xl",null,"6xl"],lineHeight:1},"2xl":{fontSize:["4xl",null,"5xl"],lineHeight:[1.2,null,1]},xl:{fontSize:["3xl",null,"4xl"],lineHeight:[1.33,null,1.2]},lg:{fontSize:["2xl",null,"3xl"],lineHeight:[1.33,null,1.2]},md:{fontSize:"xl",lineHeight:1.2},sm:{fontSize:"md",lineHeight:1.2},xs:{fontSize:"sm",lineHeight:1.2}},cW={baseStyle:aW,sizes:lW,defaultProps:{size:"xl"}},{definePartsStyle:so,defineMultiStyleConfig:uW}=kt(xz.keys),Rc=Te("input-height"),Dc=Te("input-font-size"),Oc=Te("input-padding"),Mc=Te("input-border-radius"),dW=so({addon:{height:Rc.reference,fontSize:Dc.reference,px:Oc.reference,borderRadius:Mc.reference},field:{width:"100%",height:Rc.reference,fontSize:Dc.reference,px:Oc.reference,borderRadius:Mc.reference,minWidth:0,outline:0,position:"relative",appearance:"none",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed"}}}),$o={lg:{[Dc.variable]:"fontSizes.lg",[Oc.variable]:"space.4",[Mc.variable]:"radii.md",[Rc.variable]:"sizes.12"},md:{[Dc.variable]:"fontSizes.md",[Oc.variable]:"space.4",[Mc.variable]:"radii.md",[Rc.variable]:"sizes.10"},sm:{[Dc.variable]:"fontSizes.sm",[Oc.variable]:"space.3",[Mc.variable]:"radii.sm",[Rc.variable]:"sizes.8"},xs:{[Dc.variable]:"fontSizes.xs",[Oc.variable]:"space.2",[Mc.variable]:"radii.sm",[Rc.variable]:"sizes.6"}},fW={lg:so({field:$o.lg,group:$o.lg}),md:so({field:$o.md,group:$o.md}),sm:so({field:$o.sm,group:$o.sm}),xs:so({field:$o.xs,group:$o.xs})};function X_(t){const{focusBorderColor:e,errorBorderColor:r}=t;return{focusBorderColor:e||Ee("blue.500","blue.300")(t),errorBorderColor:r||Ee("red.500","red.300")(t)}}const hW=so(t=>{const{theme:e}=t,{focusBorderColor:r,errorBorderColor:n}=X_(t);return{field:{border:"1px solid",borderColor:"inherit",bg:"inherit",_hover:{borderColor:Ee("gray.300","whiteAlpha.400")(t)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:ln(e,n),boxShadow:`0 0 0 1px ${ln(e,n)}`},_focusVisible:{zIndex:1,borderColor:ln(e,r),boxShadow:`0 0 0 1px ${ln(e,r)}`}},addon:{border:"1px solid",borderColor:Ee("inherit","whiteAlpha.50")(t),bg:Ee("gray.100","whiteAlpha.300")(t)}}}),pW=so(t=>{const{theme:e}=t,{focusBorderColor:r,errorBorderColor:n}=X_(t);return{field:{border:"2px solid",borderColor:"transparent",bg:Ee("gray.100","whiteAlpha.50")(t),_hover:{bg:Ee("gray.200","whiteAlpha.100")(t)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:ln(e,n)},_focusVisible:{bg:"transparent",borderColor:ln(e,r)}},addon:{border:"2px solid",borderColor:"transparent",bg:Ee("gray.100","whiteAlpha.50")(t)}}}),mW=so(t=>{const{theme:e}=t,{focusBorderColor:r,errorBorderColor:n}=X_(t);return{field:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:ln(e,n),boxShadow:`0px 1px 0px 0px ${ln(e,n)}`},_focusVisible:{borderColor:ln(e,r),boxShadow:`0px 1px 0px 0px ${ln(e,r)}`}},addon:{borderBottom:"2px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}}),gW=so({field:{bg:"transparent",px:"0",height:"auto"},addon:{bg:"transparent",px:"0",height:"auto"}}),yW={outline:hW,filled:pW,flushed:mW,unstyled:gW},ot=uW({baseStyle:dW,sizes:fW,variants:yW,defaultProps:{size:"md",variant:"outline"}}),Zv=Te("kbd-bg"),vW={[Zv.variable]:"colors.gray.100",_dark:{[Zv.variable]:"colors.whiteAlpha.100"},bg:Zv.reference,borderRadius:"md",borderWidth:"1px",borderBottomWidth:"3px",fontSize:"0.8em",fontWeight:"bold",lineHeight:"normal",px:"0.4em",whiteSpace:"nowrap"},bW={baseStyle:vW},xW={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}},wW={baseStyle:xW},{defineMultiStyleConfig:_W,definePartsStyle:SW}=kt(wz.keys),EW={marginEnd:"2",display:"inline",verticalAlign:"text-bottom"},TW=SW({icon:EW}),CW=_W({baseStyle:TW}),{defineMultiStyleConfig:kW,definePartsStyle:NW}=kt(_z.keys),ai=Te("menu-bg"),eb=Te("menu-shadow"),IW={[ai.variable]:"#fff",[eb.variable]:"shadows.sm",_dark:{[ai.variable]:"colors.gray.700",[eb.variable]:"shadows.dark-lg"},color:"inherit",minW:"3xs",py:"2",zIndex:"dropdown",borderRadius:"md",borderWidth:"1px",bg:ai.reference,boxShadow:eb.reference},PW={py:"1.5",px:"3",transitionProperty:"background",transitionDuration:"ultra-fast",transitionTimingFunction:"ease-in",_focus:{[ai.variable]:"colors.gray.100",_dark:{[ai.variable]:"colors.whiteAlpha.100"}},_active:{[ai.variable]:"colors.gray.200",_dark:{[ai.variable]:"colors.whiteAlpha.200"}},_expanded:{[ai.variable]:"colors.gray.100",_dark:{[ai.variable]:"colors.whiteAlpha.100"}},_disabled:{opacity:.4,cursor:"not-allowed"},bg:ai.reference},AW={mx:4,my:2,fontWeight:"semibold",fontSize:"sm"},jW={display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0},RW={opacity:.6},DW={border:0,borderBottom:"1px solid",borderColor:"inherit",my:"2",opacity:.6},OW={transitionProperty:"common",transitionDuration:"normal"},MW=NW({button:OW,list:IW,item:PW,groupTitle:AW,icon:jW,command:RW,divider:DW}),LW=kW({baseStyle:MW}),{defineMultiStyleConfig:FW,definePartsStyle:o1}=kt(Sz.keys),tb=Te("modal-bg"),rb=Te("modal-shadow"),VW={bg:"blackAlpha.600",zIndex:"modal"},$W=t=>{const{isCentered:e,scrollBehavior:r}=t;return{display:"flex",zIndex:"modal",justifyContent:"center",alignItems:e?"center":"flex-start",overflow:r==="inside"?"hidden":"auto",overscrollBehaviorY:"none"}},BW=t=>{const{isCentered:e,scrollBehavior:r}=t;return{borderRadius:"md",color:"inherit",my:e?"auto":"16",mx:e?"auto":void 0,zIndex:"modal",maxH:r==="inside"?"calc(100% - 7.5rem)":void 0,[tb.variable]:"colors.white",[rb.variable]:"shadows.lg",_dark:{[tb.variable]:"colors.gray.700",[rb.variable]:"shadows.dark-lg"},bg:tb.reference,boxShadow:rb.reference}},zW={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},UW={position:"absolute",top:"2",insetEnd:"3"},HW=t=>{const{scrollBehavior:e}=t;return{px:"6",py:"2",flex:"1",overflow:e==="inside"?"auto":void 0}},WW={px:"6",py:"4"},qW=o1(t=>({overlay:VW,dialogContainer:un($W,t),dialog:un(BW,t),header:zW,closeButton:UW,body:un(HW,t),footer:WW}));function As(t){return o1(t==="full"?{dialog:{maxW:"100vw",minH:"$100vh",my:"0",borderRadius:"0"}}:{dialog:{maxW:t}})}const GW={xs:As("xs"),sm:As("sm"),md:As("md"),lg:As("lg"),xl:As("xl"),"2xl":As("2xl"),"3xl":As("3xl"),"4xl":As("4xl"),"5xl":As("5xl"),"6xl":As("6xl"),full:As("full")},KW=FW({baseStyle:qW,sizes:GW,defaultProps:{size:"md"}}),t6={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{"3xs":"0.45rem","2xs":"0.625rem",xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},{defineMultiStyleConfig:QW,definePartsStyle:r6}=kt(Ez.keys),J_=hr("number-input-stepper-width"),n6=hr("number-input-input-padding"),YW=Yi(J_).add("0.5rem").toString(),nb=hr("number-input-bg"),sb=hr("number-input-color"),ib=hr("number-input-border-color"),XW={[J_.variable]:"sizes.6",[n6.variable]:YW},JW=t=>{var e;return((e=un(ot.baseStyle,t))==null?void 0:e.field)??{}},ZW={width:J_.reference},eq={borderStart:"1px solid",borderStartColor:ib.reference,color:sb.reference,bg:nb.reference,[sb.variable]:"colors.chakra-body-text",[ib.variable]:"colors.chakra-border-color",_dark:{[sb.variable]:"colors.whiteAlpha.800",[ib.variable]:"colors.whiteAlpha.300"},_active:{[nb.variable]:"colors.gray.200",_dark:{[nb.variable]:"colors.whiteAlpha.300"}},_disabled:{opacity:.4,cursor:"not-allowed"}},tq=r6(t=>({root:XW,field:un(JW,t)??{},stepperGroup:ZW,stepper:eq}));function qp(t){var i,o;const e=(i=ot.sizes)==null?void 0:i[t],r={lg:"md",md:"md",sm:"sm",xs:"sm"},n=((o=e.field)==null?void 0:o.fontSize)??"md",s=t6.fontSizes[n];return r6({field:{...e.field,paddingInlineEnd:n6.reference,verticalAlign:"top"},stepper:{fontSize:Yi(s).multiply(.75).toString(),_first:{borderTopEndRadius:r[t]},_last:{borderBottomEndRadius:r[t],mt:"-1px",borderTopWidth:1}}})}const rq={xs:qp("xs"),sm:qp("sm"),md:qp("md"),lg:qp("lg")},nq=QW({baseStyle:tq,sizes:rq,variants:ot.variants,defaultProps:ot.defaultProps});var Uk;const sq={...(Uk=ot.baseStyle)==null?void 0:Uk.field,textAlign:"center"},iq={lg:{fontSize:"lg",w:12,h:12,borderRadius:"md"},md:{fontSize:"md",w:10,h:10,borderRadius:"md"},sm:{fontSize:"sm",w:8,h:8,borderRadius:"sm"},xs:{fontSize:"xs",w:6,h:6,borderRadius:"sm"}};var Hk;const oq={outline:t=>{var e,r;return((r=un((e=ot.variants)==null?void 0:e.outline,t))==null?void 0:r.field)??{}},flushed:t=>{var e,r;return((r=un((e=ot.variants)==null?void 0:e.flushed,t))==null?void 0:r.field)??{}},filled:t=>{var e,r;return((r=un((e=ot.variants)==null?void 0:e.filled,t))==null?void 0:r.field)??{}},unstyled:((Hk=ot.variants)==null?void 0:Hk.unstyled.field)??{}},aq={baseStyle:sq,sizes:iq,variants:oq,defaultProps:ot.defaultProps},{defineMultiStyleConfig:lq,definePartsStyle:cq}=kt(Tz.keys),Gp=hr("popper-bg"),uq=hr("popper-arrow-bg"),n4=hr("popper-arrow-shadow-color"),dq={zIndex:"popover"},fq={[Gp.variable]:"colors.white",bg:Gp.reference,[uq.variable]:Gp.reference,[n4.variable]:"colors.gray.200",_dark:{[Gp.variable]:"colors.gray.700",[n4.variable]:"colors.whiteAlpha.300"},width:"xs",border:"1px solid",borderColor:"inherit",borderRadius:"md",boxShadow:"sm",zIndex:"inherit",_focusVisible:{outline:0,boxShadow:"outline"}},hq={px:3,py:2,borderBottomWidth:"1px"},pq={px:3,py:2},mq={px:3,py:2,borderTopWidth:"1px"},gq={position:"absolute",borderRadius:"md",top:1,insetEnd:2,padding:2},yq=cq({popper:dq,content:fq,header:hq,body:pq,footer:mq,closeButton:gq}),vq=lq({baseStyle:yq}),{defineMultiStyleConfig:bq,definePartsStyle:Vd}=kt(Cz.keys),xq=t=>{const{colorScheme:e,theme:r,isIndeterminate:n,hasStripe:s}=t,i=Ee(JT(),JT("1rem","rgba(0,0,0,0.1)"))(t),o=Ee(`${e}.500`,`${e}.200`)(t),a=`linear-gradient(
    to right,
    transparent 0%,
    ${ln(r,o)} 50%,
    transparent 100%
  )`;return{...!n&&s&&i,...n?{bgImage:a}:{bgColor:o}}},wq={lineHeight:"1",fontSize:"0.25em",fontWeight:"bold",color:"white"},_q=t=>({bg:Ee("gray.100","whiteAlpha.300")(t)}),Sq=t=>({transitionProperty:"common",transitionDuration:"slow",...xq(t)}),Eq=Vd(t=>({label:wq,filledTrack:Sq(t),track:_q(t)})),Tq={xs:Vd({track:{h:"1"}}),sm:Vd({track:{h:"2"}}),md:Vd({track:{h:"3"}}),lg:Vd({track:{h:"4"}})},Cq=bq({sizes:Tq,baseStyle:Eq,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:kq,definePartsStyle:Mm}=kt(kz.keys),Nq=t=>{var r;const e=(r=un(Go.baseStyle,t))==null?void 0:r.control;return{...e,borderRadius:"full",_checked:{...e==null?void 0:e._checked,_before:{content:'""',display:"inline-block",pos:"relative",w:"50%",h:"50%",borderRadius:"50%",bg:"currentColor"}}}},Iq=Mm(t=>{var e,r;return{label:(e=Go.baseStyle)==null?void 0:e.call(Go,t).label,container:(r=Go.baseStyle)==null?void 0:r.call(Go,t).container,control:Nq(t)}}),Pq={md:Mm({control:{w:"4",h:"4"},label:{fontSize:"md"}}),lg:Mm({control:{w:"5",h:"5"},label:{fontSize:"lg"}}),sm:Mm({control:{width:"3",height:"3"},label:{fontSize:"sm"}})},Aq=kq({baseStyle:Iq,sizes:Pq,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:jq,definePartsStyle:Rq}=kt(Nz.keys),Kp=Te("select-bg");var Wk;const Dq={...(Wk=ot.baseStyle)==null?void 0:Wk.field,appearance:"none",paddingBottom:"1px",lineHeight:"normal",bg:Kp.reference,[Kp.variable]:"colors.white",_dark:{[Kp.variable]:"colors.gray.700"},"> option, > optgroup":{bg:Kp.reference}},Oq={width:"6",height:"100%",insetEnd:"2",position:"relative",color:"currentColor",fontSize:"xl",_disabled:{opacity:.5}},Mq=Rq({field:Dq,icon:Oq}),Qp={paddingInlineEnd:"8"};var qk,Gk,Kk,Qk,Yk,Xk,Jk,Zk;const Lq={lg:{...(qk=ot.sizes)==null?void 0:qk.lg,field:{...(Gk=ot.sizes)==null?void 0:Gk.lg.field,...Qp}},md:{...(Kk=ot.sizes)==null?void 0:Kk.md,field:{...(Qk=ot.sizes)==null?void 0:Qk.md.field,...Qp}},sm:{...(Yk=ot.sizes)==null?void 0:Yk.sm,field:{...(Xk=ot.sizes)==null?void 0:Xk.sm.field,...Qp}},xs:{...(Jk=ot.sizes)==null?void 0:Jk.xs,field:{...(Zk=ot.sizes)==null?void 0:Zk.xs.field,...Qp},icon:{insetEnd:"1"}}},Fq=jq({baseStyle:Mq,sizes:Lq,variants:ot.variants,defaultProps:ot.defaultProps}),ob=Te("skeleton-start-color"),ab=Te("skeleton-end-color"),Vq={[ob.variable]:"colors.gray.100",[ab.variable]:"colors.gray.400",_dark:{[ob.variable]:"colors.gray.800",[ab.variable]:"colors.gray.600"},background:ob.reference,borderColor:ab.reference,opacity:.7,borderRadius:"sm"},$q={baseStyle:Vq},lb=Te("skip-link-bg"),Bq={borderRadius:"md",fontWeight:"semibold",_focusVisible:{boxShadow:"outline",padding:"4",position:"fixed",top:"6",insetStart:"6",[lb.variable]:"colors.white",_dark:{[lb.variable]:"colors.gray.700"},bg:lb.reference}},zq={baseStyle:Bq},{defineMultiStyleConfig:Uq,definePartsStyle:fy}=kt(Iz.keys),Fl=Te("slider-thumb-size"),nh=Te("slider-track-size"),ra=Te("slider-bg"),Hq=t=>{const{orientation:e}=t;return{display:"inline-block",position:"relative",cursor:"pointer",_disabled:{opacity:.6,cursor:"default",pointerEvents:"none"},...Q_({orientation:e,vertical:{h:"100%",px:Qi(Fl.reference).divide(2).toString()},horizontal:{w:"100%",py:Qi(Fl.reference).divide(2).toString()}})}},Wq=t=>({...Q_({orientation:t.orientation,horizontal:{h:nh.reference},vertical:{w:nh.reference}}),overflow:"hidden",borderRadius:"sm",[ra.variable]:"colors.gray.200",_dark:{[ra.variable]:"colors.whiteAlpha.200"},_disabled:{[ra.variable]:"colors.gray.300",_dark:{[ra.variable]:"colors.whiteAlpha.300"}},bg:ra.reference}),qq=t=>{const{orientation:e}=t;return{...Q_({orientation:e,vertical:{left:"50%",transform:"translateX(-50%)",_active:{transform:"translateX(-50%) scale(1.15)"}},horizontal:{top:"50%",transform:"translateY(-50%)",_active:{transform:"translateY(-50%) scale(1.15)"}}}),w:Fl.reference,h:Fl.reference,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",outline:0,zIndex:1,borderRadius:"full",bg:"white",boxShadow:"base",border:"1px solid",borderColor:"transparent",transitionProperty:"transform",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{bg:"gray.300"}}},Gq=t=>{const{colorScheme:e}=t;return{width:"inherit",height:"inherit",[ra.variable]:`colors.${e}.500`,_dark:{[ra.variable]:`colors.${e}.200`},bg:ra.reference}},Kq=fy(t=>({container:Hq(t),track:Wq(t),thumb:qq(t),filledTrack:Gq(t)})),Qq=fy({container:{[Fl.variable]:"sizes.4",[nh.variable]:"sizes.1"}}),Yq=fy({container:{[Fl.variable]:"sizes.3.5",[nh.variable]:"sizes.1"}}),Xq=fy({container:{[Fl.variable]:"sizes.2.5",[nh.variable]:"sizes.0.5"}}),Jq={lg:Qq,md:Yq,sm:Xq},Zq=Uq({baseStyle:Kq,sizes:Jq,defaultProps:{size:"md",colorScheme:"blue"}}),rl=hr("spinner-size"),eG={width:[rl.reference],height:[rl.reference]},tG={xs:{[rl.variable]:"sizes.3"},sm:{[rl.variable]:"sizes.4"},md:{[rl.variable]:"sizes.6"},lg:{[rl.variable]:"sizes.8"},xl:{[rl.variable]:"sizes.12"}},rG={baseStyle:eG,sizes:tG,defaultProps:{size:"md"}},{defineMultiStyleConfig:nG,definePartsStyle:s6}=kt(Pz.keys),sG={fontWeight:"medium"},iG={opacity:.8,marginBottom:"2"},oG={verticalAlign:"baseline",fontWeight:"semibold"},aG={marginEnd:1,w:"3.5",h:"3.5",verticalAlign:"middle"},lG=s6({container:{},label:sG,helpText:iG,number:oG,icon:aG}),cG={md:s6({label:{fontSize:"sm"},helpText:{fontSize:"sm"},number:{fontSize:"2xl"}})},uG=nG({baseStyle:lG,sizes:cG,defaultProps:{size:"md"}}),{defineMultiStyleConfig:dG,definePartsStyle:$d}=kt(["stepper","step","title","description","indicator","separator","icon","number"]),Xi=Te("stepper-indicator-size"),Lc=Te("stepper-icon-size"),Fc=Te("stepper-title-font-size"),Bd=Te("stepper-description-font-size"),yd=Te("stepper-accent-color"),fG=$d(({colorScheme:t})=>({stepper:{display:"flex",justifyContent:"space-between",gap:"4","&[data-orientation=vertical]":{flexDirection:"column",alignItems:"flex-start"},"&[data-orientation=horizontal]":{flexDirection:"row",alignItems:"center"},[yd.variable]:`colors.${t}.500`,_dark:{[yd.variable]:`colors.${t}.200`}},title:{fontSize:Fc.reference,fontWeight:"medium"},description:{fontSize:Bd.reference,color:"chakra-subtle-text"},number:{fontSize:Fc.reference},step:{flexShrink:0,position:"relative",display:"flex",gap:"2","&[data-orientation=horizontal]":{alignItems:"center"},flex:"1","&:last-of-type:not([data-stretch])":{flex:"initial"}},icon:{flexShrink:0,width:Lc.reference,height:Lc.reference},indicator:{flexShrink:0,borderRadius:"full",width:Xi.reference,height:Xi.reference,display:"flex",justifyContent:"center",alignItems:"center","&[data-status=active]":{borderWidth:"2px",borderColor:yd.reference},"&[data-status=complete]":{bg:yd.reference,color:"chakra-inverse-text"},"&[data-status=incomplete]":{borderWidth:"2px"}},separator:{bg:"chakra-border-color",flex:"1","&[data-status=complete]":{bg:yd.reference},"&[data-orientation=horizontal]":{width:"100%",height:"2px",marginStart:"2"},"&[data-orientation=vertical]":{width:"2px",position:"absolute",height:"100%",maxHeight:`calc(100% - ${Xi.reference} - 8px)`,top:`calc(${Xi.reference} + 4px)`,insetStart:`calc(${Xi.reference} / 2 - 1px)`}}})),hG=dG({baseStyle:fG,sizes:{xs:$d({stepper:{[Xi.variable]:"sizes.4",[Lc.variable]:"sizes.3",[Fc.variable]:"fontSizes.xs",[Bd.variable]:"fontSizes.xs"}}),sm:$d({stepper:{[Xi.variable]:"sizes.6",[Lc.variable]:"sizes.4",[Fc.variable]:"fontSizes.sm",[Bd.variable]:"fontSizes.xs"}}),md:$d({stepper:{[Xi.variable]:"sizes.8",[Lc.variable]:"sizes.5",[Fc.variable]:"fontSizes.md",[Bd.variable]:"fontSizes.sm"}}),lg:$d({stepper:{[Xi.variable]:"sizes.10",[Lc.variable]:"sizes.6",[Fc.variable]:"fontSizes.lg",[Bd.variable]:"fontSizes.md"}})},defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:pG,definePartsStyle:Lm}=kt(Az.keys),ff=hr("switch-track-width"),bl=hr("switch-track-height"),cb=hr("switch-track-diff"),mG=Yi.subtract(ff,bl),a1=hr("switch-thumb-x"),vd=hr("switch-bg"),gG=t=>{const{colorScheme:e}=t;return{borderRadius:"full",p:"0.5",width:[ff.reference],height:[bl.reference],transitionProperty:"common",transitionDuration:"fast",[vd.variable]:"colors.gray.300",_dark:{[vd.variable]:"colors.whiteAlpha.400"},_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed"},_checked:{[vd.variable]:`colors.${e}.500`,_dark:{[vd.variable]:`colors.${e}.200`}},bg:vd.reference}},yG={bg:"white",transitionProperty:"transform",transitionDuration:"normal",borderRadius:"inherit",width:[bl.reference],height:[bl.reference],_checked:{transform:`translateX(${a1.reference})`}},vG=Lm(t=>({container:{[cb.variable]:mG,[a1.variable]:cb.reference,_rtl:{[a1.variable]:Yi(cb).negate().toString()}},track:gG(t),thumb:yG})),bG={sm:Lm({container:{[ff.variable]:"1.375rem",[bl.variable]:"sizes.3"}}),md:Lm({container:{[ff.variable]:"1.875rem",[bl.variable]:"sizes.4"}}),lg:Lm({container:{[ff.variable]:"2.875rem",[bl.variable]:"sizes.6"}})},xG=pG({baseStyle:vG,sizes:bG,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:wG,definePartsStyle:ru}=kt(jz.keys),_G=ru({table:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full"},th:{fontFamily:"heading",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"wider",textAlign:"start"},td:{textAlign:"start"},caption:{mt:4,fontFamily:"heading",textAlign:"center",fontWeight:"medium"}}),Qg={"&[data-is-numeric=true]":{textAlign:"end"}},SG=ru(t=>{const{colorScheme:e}=t;return{th:{color:Ee("gray.600","gray.400")(t),borderBottom:"1px",borderColor:Ee(`${e}.100`,`${e}.700`)(t),...Qg},td:{borderBottom:"1px",borderColor:Ee(`${e}.100`,`${e}.700`)(t),...Qg},caption:{color:Ee("gray.600","gray.100")(t)},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),EG=ru(t=>{const{colorScheme:e}=t;return{th:{color:Ee("gray.600","gray.400")(t),borderBottom:"1px",borderColor:Ee(`${e}.100`,`${e}.700`)(t),...Qg},td:{borderBottom:"1px",borderColor:Ee(`${e}.100`,`${e}.700`)(t),...Qg},caption:{color:Ee("gray.600","gray.100")(t)},tbody:{tr:{"&:nth-of-type(odd)":{"th, td":{borderBottomWidth:"1px",borderColor:Ee(`${e}.100`,`${e}.700`)(t)},td:{background:Ee(`${e}.100`,`${e}.700`)(t)}}}},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),TG={simple:SG,striped:EG,unstyled:{}},CG={sm:ru({th:{px:"4",py:"1",lineHeight:"4",fontSize:"xs"},td:{px:"4",py:"2",fontSize:"sm",lineHeight:"4"},caption:{px:"4",py:"2",fontSize:"xs"}}),md:ru({th:{px:"6",py:"3",lineHeight:"4",fontSize:"xs"},td:{px:"6",py:"4",lineHeight:"5"},caption:{px:"6",py:"2",fontSize:"sm"}}),lg:ru({th:{px:"8",py:"4",lineHeight:"5",fontSize:"sm"},td:{px:"8",py:"5",lineHeight:"6"},caption:{px:"6",py:"2",fontSize:"md"}})},kG=wG({baseStyle:_G,variants:TG,sizes:CG,defaultProps:{variant:"simple",size:"md",colorScheme:"gray"}}),Tn=Te("tabs-color"),Vs=Te("tabs-bg"),Yp=Te("tabs-border-color"),{defineMultiStyleConfig:NG,definePartsStyle:_i}=kt(Rz.keys),IG=t=>{const{orientation:e}=t;return{display:e==="vertical"?"flex":"block"}},PG=t=>{const{isFitted:e}=t;return{flex:e?1:void 0,transitionProperty:"common",transitionDuration:"normal",_focusVisible:{zIndex:1,boxShadow:"outline"},_disabled:{cursor:"not-allowed",opacity:.4}}},AG=t=>{const{align:e="start",orientation:r}=t;return{justifyContent:{end:"flex-end",center:"center",start:"flex-start"}[e],flexDirection:r==="vertical"?"column":"row"}},jG={p:4},RG=_i(t=>({root:IG(t),tab:PG(t),tablist:AG(t),tabpanel:jG})),DG={sm:_i({tab:{py:1,px:4,fontSize:"sm"}}),md:_i({tab:{fontSize:"md",py:2,px:4}}),lg:_i({tab:{fontSize:"lg",py:3,px:4}})},OG=_i(t=>{const{colorScheme:e,orientation:r}=t,n=r==="vertical",s=n?"borderStart":"borderBottom",i=n?"marginStart":"marginBottom";return{tablist:{[s]:"2px solid",borderColor:"inherit"},tab:{[s]:"2px solid",borderColor:"transparent",[i]:"-2px",_selected:{[Tn.variable]:`colors.${e}.600`,_dark:{[Tn.variable]:`colors.${e}.300`},borderColor:"currentColor"},_active:{[Vs.variable]:"colors.gray.200",_dark:{[Vs.variable]:"colors.whiteAlpha.300"}},_disabled:{_active:{bg:"none"}},color:Tn.reference,bg:Vs.reference}}}),MG=_i(t=>{const{colorScheme:e}=t;return{tab:{borderTopRadius:"md",border:"1px solid",borderColor:"transparent",mb:"-1px",[Yp.variable]:"transparent",_selected:{[Tn.variable]:`colors.${e}.600`,[Yp.variable]:"colors.white",_dark:{[Tn.variable]:`colors.${e}.300`,[Yp.variable]:"colors.gray.800"},borderColor:"inherit",borderBottomColor:Yp.reference},color:Tn.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),LG=_i(t=>{const{colorScheme:e}=t;return{tab:{border:"1px solid",borderColor:"inherit",[Vs.variable]:"colors.gray.50",_dark:{[Vs.variable]:"colors.whiteAlpha.50"},mb:"-1px",_notLast:{marginEnd:"-1px"},_selected:{[Vs.variable]:"colors.white",[Tn.variable]:`colors.${e}.600`,_dark:{[Vs.variable]:"colors.gray.800",[Tn.variable]:`colors.${e}.300`},borderColor:"inherit",borderTopColor:"currentColor",borderBottomColor:"transparent"},color:Tn.reference,bg:Vs.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),FG=_i(t=>{const{colorScheme:e,theme:r}=t;return{tab:{borderRadius:"full",fontWeight:"semibold",color:"gray.600",_selected:{color:ln(r,`${e}.700`),bg:ln(r,`${e}.100`)}}}}),VG=_i(t=>{const{colorScheme:e}=t;return{tab:{borderRadius:"full",fontWeight:"semibold",[Tn.variable]:"colors.gray.600",_dark:{[Tn.variable]:"inherit"},_selected:{[Tn.variable]:"colors.white",[Vs.variable]:`colors.${e}.600`,_dark:{[Tn.variable]:"colors.gray.800",[Vs.variable]:`colors.${e}.300`}},color:Tn.reference,bg:Vs.reference}}}),$G=_i({}),BG={line:OG,enclosed:MG,"enclosed-colored":LG,"soft-rounded":FG,"solid-rounded":VG,unstyled:$G},zG=NG({baseStyle:RG,sizes:DG,variants:BG,defaultProps:{size:"md",variant:"line",colorScheme:"blue"}}),{defineMultiStyleConfig:UG,definePartsStyle:xl}=kt(Dz.keys),s4=Te("tag-bg"),i4=Te("tag-color"),ub=Te("tag-shadow"),Fm=Te("tag-min-height"),Vm=Te("tag-min-width"),$m=Te("tag-font-size"),Bm=Te("tag-padding-inline"),HG={fontWeight:"medium",lineHeight:1.2,outline:0,[i4.variable]:Jt.color.reference,[s4.variable]:Jt.bg.reference,[ub.variable]:Jt.shadow.reference,color:i4.reference,bg:s4.reference,boxShadow:ub.reference,borderRadius:"md",minH:Fm.reference,minW:Vm.reference,fontSize:$m.reference,px:Bm.reference,_focusVisible:{[ub.variable]:"shadows.outline"}},WG={lineHeight:1.2,overflow:"visible"},qG={fontSize:"lg",w:"5",h:"5",transitionProperty:"common",transitionDuration:"normal",borderRadius:"full",marginStart:"1.5",marginEnd:"-1",opacity:.5,_disabled:{opacity:.4},_focusVisible:{boxShadow:"outline",bg:"rgba(0, 0, 0, 0.14)"},_hover:{opacity:.8},_active:{opacity:1}},GG=xl({container:HG,label:WG,closeButton:qG}),KG={sm:xl({container:{[Fm.variable]:"sizes.5",[Vm.variable]:"sizes.5",[$m.variable]:"fontSizes.xs",[Bm.variable]:"space.2"},closeButton:{marginEnd:"-2px",marginStart:"0.35rem"}}),md:xl({container:{[Fm.variable]:"sizes.6",[Vm.variable]:"sizes.6",[$m.variable]:"fontSizes.sm",[Bm.variable]:"space.2"}}),lg:xl({container:{[Fm.variable]:"sizes.8",[Vm.variable]:"sizes.8",[$m.variable]:"fontSizes.md",[Bm.variable]:"space.3"}})},QG={subtle:xl(t=>{var e;return{container:(e=cf.variants)==null?void 0:e.subtle(t)}}),solid:xl(t=>{var e;return{container:(e=cf.variants)==null?void 0:e.solid(t)}}),outline:xl(t=>{var e;return{container:(e=cf.variants)==null?void 0:e.outline(t)}})},YG=UG({variants:QG,baseStyle:GG,sizes:KG,defaultProps:{size:"md",variant:"subtle",colorScheme:"gray"}});var eN;const XG={...(eN=ot.baseStyle)==null?void 0:eN.field,paddingY:"2",minHeight:"20",lineHeight:"short",verticalAlign:"top"};var tN;const JG={outline:t=>{var e;return((e=ot.variants)==null?void 0:e.outline(t).field)??{}},flushed:t=>{var e;return((e=ot.variants)==null?void 0:e.flushed(t).field)??{}},filled:t=>{var e;return((e=ot.variants)==null?void 0:e.filled(t).field)??{}},unstyled:((tN=ot.variants)==null?void 0:tN.unstyled.field)??{}};var rN,nN,sN,iN;const ZG={xs:((rN=ot.sizes)==null?void 0:rN.xs.field)??{},sm:((nN=ot.sizes)==null?void 0:nN.sm.field)??{},md:((sN=ot.sizes)==null?void 0:sN.md.field)??{},lg:((iN=ot.sizes)==null?void 0:iN.lg.field)??{}},eK={baseStyle:XG,sizes:ZG,variants:JG,defaultProps:{size:"md",variant:"outline"}},Xp=hr("tooltip-bg"),db=hr("tooltip-fg"),tK=hr("popper-arrow-bg"),rK={bg:Xp.reference,color:db.reference,[Xp.variable]:"colors.gray.700",[db.variable]:"colors.whiteAlpha.900",_dark:{[Xp.variable]:"colors.gray.300",[db.variable]:"colors.gray.900"},[tK.variable]:Xp.reference,px:"2",py:"0.5",borderRadius:"sm",fontWeight:"medium",fontSize:"sm",boxShadow:"md",maxW:"xs",zIndex:"tooltip"},nK={baseStyle:rK},sK={Accordion:Uz,Alert:CU,Avatar:LU,Badge:cf,Breadcrumb:GU,Button:rH,Checkbox:Go,CloseButton:yH,Code:wH,Container:SH,Divider:NH,Drawer:VH,Editable:qH,Form:JH,FormError:sW,FormLabel:oW,Heading:cW,Input:ot,Kbd:bW,Link:wW,List:CW,Menu:LW,Modal:KW,NumberInput:nq,PinInput:aq,Popover:vq,Progress:Cq,Radio:Aq,Select:Fq,Skeleton:$q,SkipLink:zq,Slider:Zq,Spinner:rG,Stat:uG,Switch:xG,Table:kG,Tabs:zG,Tag:YG,Textarea:eK,Tooltip:nK,Card:aH,Stepper:hG},iK={none:0,"1px":"1px solid","2px":"2px solid","4px":"4px solid","8px":"8px solid"},oK={base:"0em",sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},aK={transparent:"transparent",current:"currentColor",black:"#000000",white:"#FFFFFF",whiteAlpha:{50:"rgba(255, 255, 255, 0.04)",100:"rgba(255, 255, 255, 0.06)",200:"rgba(255, 255, 255, 0.08)",300:"rgba(255, 255, 255, 0.16)",400:"rgba(255, 255, 255, 0.24)",500:"rgba(255, 255, 255, 0.36)",600:"rgba(255, 255, 255, 0.48)",700:"rgba(255, 255, 255, 0.64)",800:"rgba(255, 255, 255, 0.80)",900:"rgba(255, 255, 255, 0.92)"},blackAlpha:{50:"rgba(0, 0, 0, 0.04)",100:"rgba(0, 0, 0, 0.06)",200:"rgba(0, 0, 0, 0.08)",300:"rgba(0, 0, 0, 0.16)",400:"rgba(0, 0, 0, 0.24)",500:"rgba(0, 0, 0, 0.36)",600:"rgba(0, 0, 0, 0.48)",700:"rgba(0, 0, 0, 0.64)",800:"rgba(0, 0, 0, 0.80)",900:"rgba(0, 0, 0, 0.92)"},gray:{50:"#F7FAFC",100:"#EDF2F7",200:"#E2E8F0",300:"#CBD5E0",400:"#A0AEC0",500:"#718096",600:"#4A5568",700:"#2D3748",800:"#1A202C",900:"#171923"},red:{50:"#FFF5F5",100:"#FED7D7",200:"#FEB2B2",300:"#FC8181",400:"#F56565",500:"#E53E3E",600:"#C53030",700:"#9B2C2C",800:"#822727",900:"#63171B"},orange:{50:"#FFFAF0",100:"#FEEBC8",200:"#FBD38D",300:"#F6AD55",400:"#ED8936",500:"#DD6B20",600:"#C05621",700:"#9C4221",800:"#7B341E",900:"#652B19"},yellow:{50:"#FFFFF0",100:"#FEFCBF",200:"#FAF089",300:"#F6E05E",400:"#ECC94B",500:"#D69E2E",600:"#B7791F",700:"#975A16",800:"#744210",900:"#5F370E"},green:{50:"#F0FFF4",100:"#C6F6D5",200:"#9AE6B4",300:"#68D391",400:"#48BB78",500:"#38A169",600:"#2F855A",700:"#276749",800:"#22543D",900:"#1C4532"},teal:{50:"#E6FFFA",100:"#B2F5EA",200:"#81E6D9",300:"#4FD1C5",400:"#38B2AC",500:"#319795",600:"#2C7A7B",700:"#285E61",800:"#234E52",900:"#1D4044"},blue:{50:"#ebf8ff",100:"#bee3f8",200:"#90cdf4",300:"#63b3ed",400:"#4299e1",500:"#3182ce",600:"#2b6cb0",700:"#2c5282",800:"#2a4365",900:"#1A365D"},cyan:{50:"#EDFDFD",100:"#C4F1F9",200:"#9DECF9",300:"#76E4F7",400:"#0BC5EA",500:"#00B5D8",600:"#00A3C4",700:"#0987A0",800:"#086F83",900:"#065666"},purple:{50:"#FAF5FF",100:"#E9D8FD",200:"#D6BCFA",300:"#B794F4",400:"#9F7AEA",500:"#805AD5",600:"#6B46C1",700:"#553C9A",800:"#44337A",900:"#322659"},pink:{50:"#FFF5F7",100:"#FED7E2",200:"#FBB6CE",300:"#F687B3",400:"#ED64A6",500:"#D53F8C",600:"#B83280",700:"#97266D",800:"#702459",900:"#521B41"}},lK={none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},cK={xs:"0 0 0 1px rgba(0, 0, 0, 0.05)",sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",outline:"0 0 0 3px rgba(66, 153, 225, 0.6)",inner:"inset 0 2px 4px 0 rgba(0,0,0,0.06)",none:"none","dark-lg":"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px"},uK={common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",colors:"background-color, border-color, color, fill, stroke",dimensions:"width, height",position:"left, right, top, bottom",background:"background-color, background-image, background-position"},dK={"ease-in":"cubic-bezier(0.4, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.2, 1)","ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},fK={"ultra-fast":"50ms",faster:"100ms",fast:"150ms",normal:"200ms",slow:"300ms",slower:"400ms","ultra-slow":"500ms"},hK={property:uK,easing:dK,duration:fK},pK={hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800},mK={none:0,sm:"4px",base:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},gK={breakpoints:oK,zIndices:pK,radii:lK,blur:mK,colors:aK,...t6,sizes:Qj,shadows:cK,space:Kj,borders:iK,transition:hK},yK={colors:{"chakra-body-text":{_light:"gray.800",_dark:"whiteAlpha.900"},"chakra-body-bg":{_light:"white",_dark:"gray.800"},"chakra-border-color":{_light:"gray.200",_dark:"whiteAlpha.300"},"chakra-inverse-text":{_light:"white",_dark:"gray.800"},"chakra-subtle-bg":{_light:"gray.100",_dark:"gray.700"},"chakra-subtle-text":{_light:"gray.600",_dark:"gray.400"},"chakra-placeholder-color":{_light:"gray.500",_dark:"whiteAlpha.400"}}},vK={global:{body:{fontFamily:"body",color:"chakra-body-text",bg:"chakra-body-bg",transitionProperty:"background-color",transitionDuration:"normal",lineHeight:"base"},"*::placeholder":{color:"chakra-placeholder-color"},"*, *::before, &::after":{borderColor:"chakra-border-color"}}},bK=["borders","breakpoints","colors","components","config","direction","fonts","fontSizes","fontWeights","letterSpacings","lineHeights","radii","shadows","sizes","space","styles","transition","zIndices"];function xK(t){return Rr(t)?bK.every(e=>Object.prototype.hasOwnProperty.call(t,e)):!1}const wK="ltr",_K={useSystemColorMode:!1,initialColorMode:"light",cssVarPrefix:"chakra"},i6={semanticTokens:yK,direction:wK,...gK,components:sK,styles:vK,config:_K};function SK(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function EK(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var TK=function(){function t(r){var n=this;this._insertTag=function(s){var i;n.tags.length===0?n.insertionPoint?i=n.insertionPoint.nextSibling:n.prepend?i=n.container.firstChild:i=n.before:i=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(s,i),n.tags.push(s)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(EK(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var i=SK(s);try{i.insertRule(n,i.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){var s;return(s=n.parentNode)==null?void 0:s.removeChild(n)}),this.tags=[],this.ctr=0},t}(),Wr="-ms-",Yg="-moz-",st="-webkit-",o6="comm",Z_="rule",e2="decl",CK="@import",a6="@keyframes",kK="@layer",NK=Math.abs,hy=String.fromCharCode,IK=Object.assign;function PK(t,e){return Nr(t,0)^45?(((e<<2^Nr(t,0))<<2^Nr(t,1))<<2^Nr(t,2))<<2^Nr(t,3):0}function l6(t){return t.trim()}function AK(t,e){return(t=e.exec(t))?t[0]:t}function it(t,e,r){return t.replace(e,r)}function l1(t,e){return t.indexOf(e)}function Nr(t,e){return t.charCodeAt(e)|0}function sh(t,e,r){return t.slice(e,r)}function ci(t){return t.length}function t2(t){return t.length}function Jp(t,e){return e.push(t),t}function jK(t,e){return t.map(e).join("")}var py=1,ku=1,c6=0,Dn=0,rr=0,Qu="";function my(t,e,r,n,s,i,o){return{value:t,root:e,parent:r,type:n,props:s,children:i,line:py,column:ku,length:o,return:""}}function bd(t,e){return IK(my("",null,null,"",null,null,0),t,{length:-t.length},e)}function RK(){return rr}function DK(){return rr=Dn>0?Nr(Qu,--Dn):0,ku--,rr===10&&(ku=1,py--),rr}function Qn(){return rr=Dn<c6?Nr(Qu,Dn++):0,ku++,rr===10&&(ku=1,py++),rr}function Si(){return Nr(Qu,Dn)}function zm(){return Dn}function Gh(t,e){return sh(Qu,t,e)}function ih(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function u6(t){return py=ku=1,c6=ci(Qu=t),Dn=0,[]}function d6(t){return Qu="",t}function Um(t){return l6(Gh(Dn-1,c1(t===91?t+2:t===40?t+1:t)))}function OK(t){for(;(rr=Si())&&rr<33;)Qn();return ih(t)>2||ih(rr)>3?"":" "}function MK(t,e){for(;--e&&Qn()&&!(rr<48||rr>102||rr>57&&rr<65||rr>70&&rr<97););return Gh(t,zm()+(e<6&&Si()==32&&Qn()==32))}function c1(t){for(;Qn();)switch(rr){case t:return Dn;case 34:case 39:t!==34&&t!==39&&c1(rr);break;case 40:t===41&&c1(t);break;case 92:Qn();break}return Dn}function LK(t,e){for(;Qn()&&t+rr!==57;)if(t+rr===84&&Si()===47)break;return"/*"+Gh(e,Dn-1)+"*"+hy(t===47?t:Qn())}function FK(t){for(;!ih(Si());)Qn();return Gh(t,Dn)}function VK(t){return d6(Hm("",null,null,null,[""],t=u6(t),0,[0],t))}function Hm(t,e,r,n,s,i,o,a,c){for(var u=0,d=0,h=o,p=0,m=0,v=0,b=1,y=1,x=1,g=0,w="",I=s,P=i,A=n,S=w;y;)switch(v=g,g=Qn()){case 40:if(v!=108&&Nr(S,h-1)==58){l1(S+=it(Um(g),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:S+=Um(g);break;case 9:case 10:case 13:case 32:S+=OK(v);break;case 92:S+=MK(zm()-1,7);continue;case 47:switch(Si()){case 42:case 47:Jp($K(LK(Qn(),zm()),e,r),c);break;default:S+="/"}break;case 123*b:a[u++]=ci(S)*x;case 125*b:case 59:case 0:switch(g){case 0:case 125:y=0;case 59+d:x==-1&&(S=it(S,/\f/g,"")),m>0&&ci(S)-h&&Jp(m>32?a4(S+";",n,r,h-1):a4(it(S," ","")+";",n,r,h-2),c);break;case 59:S+=";";default:if(Jp(A=o4(S,e,r,u,d,s,a,w,I=[],P=[],h),i),g===123)if(d===0)Hm(S,e,A,A,I,i,h,a,P);else switch(p===99&&Nr(S,3)===110?100:p){case 100:case 108:case 109:case 115:Hm(t,A,A,n&&Jp(o4(t,A,A,0,0,s,a,w,s,I=[],h),P),s,P,h,a,n?I:P);break;default:Hm(S,A,A,A,[""],P,0,a,P)}}u=d=m=0,b=x=1,w=S="",h=o;break;case 58:h=1+ci(S),m=v;default:if(b<1){if(g==123)--b;else if(g==125&&b++==0&&DK()==125)continue}switch(S+=hy(g),g*b){case 38:x=d>0?1:(S+="\f",-1);break;case 44:a[u++]=(ci(S)-1)*x,x=1;break;case 64:Si()===45&&(S+=Um(Qn())),p=Si(),d=h=ci(w=S+=FK(zm())),g++;break;case 45:v===45&&ci(S)==2&&(b=0)}}return i}function o4(t,e,r,n,s,i,o,a,c,u,d){for(var h=s-1,p=s===0?i:[""],m=t2(p),v=0,b=0,y=0;v<n;++v)for(var x=0,g=sh(t,h+1,h=NK(b=o[v])),w=t;x<m;++x)(w=l6(b>0?p[x]+" "+g:it(g,/&\f/g,p[x])))&&(c[y++]=w);return my(t,e,r,s===0?Z_:a,c,u,d)}function $K(t,e,r){return my(t,e,r,o6,hy(RK()),sh(t,2,-2),0)}function a4(t,e,r,n){return my(t,e,r,e2,sh(t,0,n),sh(t,n+1,-1),n)}function nu(t,e){for(var r="",n=t2(t),s=0;s<n;s++)r+=e(t[s],s,t,e)||"";return r}function BK(t,e,r,n){switch(t.type){case kK:if(t.children.length)break;case CK:case e2:return t.return=t.return||t.value;case o6:return"";case a6:return t.return=t.value+"{"+nu(t.children,n)+"}";case Z_:t.value=t.props.join(",")}return ci(r=nu(t.children,n))?t.return=t.value+"{"+r+"}":""}function zK(t){var e=t2(t);return function(r,n,s,i){for(var o="",a=0;a<e;a++)o+=t[a](r,n,s,i)||"";return o}}function UK(t){return function(e){e.root||(e=e.return)&&t(e)}}function f6(t){var e=Object.create(null);return function(r){return e[r]===void 0&&(e[r]=t(r)),e[r]}}var HK=function(e,r,n){for(var s=0,i=0;s=i,i=Si(),s===38&&i===12&&(r[n]=1),!ih(i);)Qn();return Gh(e,Dn)},WK=function(e,r){var n=-1,s=44;do switch(ih(s)){case 0:s===38&&Si()===12&&(r[n]=1),e[n]+=HK(Dn-1,r,n);break;case 2:e[n]+=Um(s);break;case 4:if(s===44){e[++n]=Si()===58?"&\f":"",r[n]=e[n].length;break}default:e[n]+=hy(s)}while(s=Qn());return e},qK=function(e,r){return d6(WK(u6(e),r))},l4=new WeakMap,GK=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var r=e.value,n=e.parent,s=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&r.charCodeAt(0)!==58&&!l4.get(n))&&!s){l4.set(e,!0);for(var i=[],o=qK(r,i),a=n.props,c=0,u=0;c<o.length;c++)for(var d=0;d<a.length;d++,u++)e.props[u]=i[c]?o[c].replace(/&\f/g,a[d]):a[d]+" "+o[c]}}},KK=function(e){if(e.type==="decl"){var r=e.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(e.return="",e.value="")}};function h6(t,e){switch(PK(t,e)){case 5103:return st+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return st+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return st+t+Yg+t+Wr+t+t;case 6828:case 4268:return st+t+Wr+t+t;case 6165:return st+t+Wr+"flex-"+t+t;case 5187:return st+t+it(t,/(\w+).+(:[^]+)/,st+"box-$1$2"+Wr+"flex-$1$2")+t;case 5443:return st+t+Wr+"flex-item-"+it(t,/flex-|-self/,"")+t;case 4675:return st+t+Wr+"flex-line-pack"+it(t,/align-content|flex-|-self/,"")+t;case 5548:return st+t+Wr+it(t,"shrink","negative")+t;case 5292:return st+t+Wr+it(t,"basis","preferred-size")+t;case 6060:return st+"box-"+it(t,"-grow","")+st+t+Wr+it(t,"grow","positive")+t;case 4554:return st+it(t,/([^-])(transform)/g,"$1"+st+"$2")+t;case 6187:return it(it(it(t,/(zoom-|grab)/,st+"$1"),/(image-set)/,st+"$1"),t,"")+t;case 5495:case 3959:return it(t,/(image-set\([^]*)/,st+"$1$`$1");case 4968:return it(it(t,/(.+:)(flex-)?(.*)/,st+"box-pack:$3"+Wr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+st+t+t;case 4095:case 3583:case 4068:case 2532:return it(t,/(.+)-inline(.+)/,st+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ci(t)-1-e>6)switch(Nr(t,e+1)){case 109:if(Nr(t,e+4)!==45)break;case 102:return it(t,/(.+:)(.+)-([^]+)/,"$1"+st+"$2-$3$1"+Yg+(Nr(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~l1(t,"stretch")?h6(it(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Nr(t,e+1)!==115)break;case 6444:switch(Nr(t,ci(t)-3-(~l1(t,"!important")&&10))){case 107:return it(t,":",":"+st)+t;case 101:return it(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+st+(Nr(t,14)===45?"inline-":"")+"box$3$1"+st+"$2$3$1"+Wr+"$2box$3")+t}break;case 5936:switch(Nr(t,e+11)){case 114:return st+t+Wr+it(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return st+t+Wr+it(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return st+t+Wr+it(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return st+t+Wr+t+t}return t}var QK=function(e,r,n,s){if(e.length>-1&&!e.return)switch(e.type){case e2:e.return=h6(e.value,e.length);break;case a6:return nu([bd(e,{value:it(e.value,"@","@"+st)})],s);case Z_:if(e.length)return jK(e.props,function(i){switch(AK(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return nu([bd(e,{props:[it(i,/:(read-\w+)/,":"+Yg+"$1")]})],s);case"::placeholder":return nu([bd(e,{props:[it(i,/:(plac\w+)/,":"+st+"input-$1")]}),bd(e,{props:[it(i,/:(plac\w+)/,":"+Yg+"$1")]}),bd(e,{props:[it(i,/:(plac\w+)/,Wr+"input-$1")]})],s)}return""})}},YK=[QK],XK=function(e){var r=e.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(b){var y=b.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(b),b.setAttribute("data-s",""))})}var s=e.stylisPlugins||YK,i={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(b){for(var y=b.getAttribute("data-emotion").split(" "),x=1;x<y.length;x++)i[y[x]]=!0;a.push(b)});var c,u=[GK,KK];{var d,h=[BK,UK(function(b){d.insert(b)})],p=zK(u.concat(s,h)),m=function(y){return nu(VK(y),p)};c=function(y,x,g,w){d=g,m(y?y+"{"+x.styles+"}":x.styles),w&&(v.inserted[x.name]=!0)}}var v={key:r,sheet:new TK({key:r,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:c};return v.sheet.hydrate(a),v};function Xg(){return Xg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xg.apply(null,arguments)}var c4=function(e){var r=new WeakMap;return function(n){if(r.has(n))return r.get(n);var s=e(n);return r.set(n,s),s}},p6={exports:{}},mt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _r=typeof Symbol=="function"&&Symbol.for,r2=_r?Symbol.for("react.element"):60103,n2=_r?Symbol.for("react.portal"):60106,gy=_r?Symbol.for("react.fragment"):60107,yy=_r?Symbol.for("react.strict_mode"):60108,vy=_r?Symbol.for("react.profiler"):60114,by=_r?Symbol.for("react.provider"):60109,xy=_r?Symbol.for("react.context"):60110,s2=_r?Symbol.for("react.async_mode"):60111,wy=_r?Symbol.for("react.concurrent_mode"):60111,_y=_r?Symbol.for("react.forward_ref"):60112,Sy=_r?Symbol.for("react.suspense"):60113,JK=_r?Symbol.for("react.suspense_list"):60120,Ey=_r?Symbol.for("react.memo"):60115,Ty=_r?Symbol.for("react.lazy"):60116,ZK=_r?Symbol.for("react.block"):60121,eQ=_r?Symbol.for("react.fundamental"):60117,tQ=_r?Symbol.for("react.responder"):60118,rQ=_r?Symbol.for("react.scope"):60119;function rs(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case r2:switch(t=t.type,t){case s2:case wy:case gy:case vy:case yy:case Sy:return t;default:switch(t=t&&t.$$typeof,t){case xy:case _y:case Ty:case Ey:case by:return t;default:return e}}case n2:return e}}}function m6(t){return rs(t)===wy}mt.AsyncMode=s2;mt.ConcurrentMode=wy;mt.ContextConsumer=xy;mt.ContextProvider=by;mt.Element=r2;mt.ForwardRef=_y;mt.Fragment=gy;mt.Lazy=Ty;mt.Memo=Ey;mt.Portal=n2;mt.Profiler=vy;mt.StrictMode=yy;mt.Suspense=Sy;mt.isAsyncMode=function(t){return m6(t)||rs(t)===s2};mt.isConcurrentMode=m6;mt.isContextConsumer=function(t){return rs(t)===xy};mt.isContextProvider=function(t){return rs(t)===by};mt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===r2};mt.isForwardRef=function(t){return rs(t)===_y};mt.isFragment=function(t){return rs(t)===gy};mt.isLazy=function(t){return rs(t)===Ty};mt.isMemo=function(t){return rs(t)===Ey};mt.isPortal=function(t){return rs(t)===n2};mt.isProfiler=function(t){return rs(t)===vy};mt.isStrictMode=function(t){return rs(t)===yy};mt.isSuspense=function(t){return rs(t)===Sy};mt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===gy||t===wy||t===vy||t===yy||t===Sy||t===JK||typeof t=="object"&&t!==null&&(t.$$typeof===Ty||t.$$typeof===Ey||t.$$typeof===by||t.$$typeof===xy||t.$$typeof===_y||t.$$typeof===eQ||t.$$typeof===tQ||t.$$typeof===rQ||t.$$typeof===ZK)};mt.typeOf=rs;p6.exports=mt;var nQ=p6.exports,g6=nQ,sQ={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},iQ={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},y6={};y6[g6.ForwardRef]=sQ;y6[g6.Memo]=iQ;var oQ=!0;function aQ(t,e,r){var n="";return r.split(" ").forEach(function(s){t[s]!==void 0?e.push(t[s]+";"):s&&(n+=s+" ")}),n}var v6=function(e,r,n){var s=e.key+"-"+r.name;(n===!1||oQ===!1)&&e.registered[s]===void 0&&(e.registered[s]=r.styles)},b6=function(e,r,n){v6(e,r,n);var s=e.key+"-"+r.name;if(e.inserted[r.name]===void 0){var i=r;do e.insert(r===i?"."+s:"",i,e.sheet,!0),i=i.next;while(i!==void 0)}};function lQ(t){for(var e=0,r,n=0,s=t.length;s>=4;++n,s-=4)r=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var cQ={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},uQ=/[A-Z]|^ms/g,dQ=/_EMO_([^_]+?)_([^]*?)_EMO_/g,x6=function(e){return e.charCodeAt(1)===45},u4=function(e){return e!=null&&typeof e!="boolean"},fb=f6(function(t){return x6(t)?t:t.replace(uQ,"-$&").toLowerCase()}),d4=function(e,r){switch(e){case"animation":case"animationName":if(typeof r=="string")return r.replace(dQ,function(n,s,i){return ui={name:s,styles:i,next:ui},s})}return cQ[e]!==1&&!x6(e)&&typeof r=="number"&&r!==0?r+"px":r};function oh(t,e,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var s=r;if(s.anim===1)return ui={name:s.name,styles:s.styles,next:ui},s.name;var i=r;if(i.styles!==void 0){var o=i.next;if(o!==void 0)for(;o!==void 0;)ui={name:o.name,styles:o.styles,next:ui},o=o.next;var a=i.styles+";";return a}return fQ(t,e,r)}case"function":{if(t!==void 0){var c=ui,u=r(t);return ui=c,oh(t,e,u)}break}}var d=r;if(e==null)return d;var h=e[d];return h!==void 0?h:d}function fQ(t,e,r){var n="";if(Array.isArray(r))for(var s=0;s<r.length;s++)n+=oh(t,e,r[s])+";";else for(var i in r){var o=r[i];if(typeof o!="object"){var a=o;e!=null&&e[a]!==void 0?n+=i+"{"+e[a]+"}":u4(a)&&(n+=fb(i)+":"+d4(i,a)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var c=0;c<o.length;c++)u4(o[c])&&(n+=fb(i)+":"+d4(i,o[c])+";");else{var u=oh(t,e,o);switch(i){case"animation":case"animationName":{n+=fb(i)+":"+u+";";break}default:n+=i+"{"+u+"}"}}}return n}var f4=/label:\s*([^\s;{]+)\s*(;|$)/g,ui;function i2(t,e,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var n=!0,s="";ui=void 0;var i=t[0];if(i==null||i.raw===void 0)n=!1,s+=oh(r,e,i);else{var o=i;s+=o[0]}for(var a=1;a<t.length;a++)if(s+=oh(r,e,t[a]),n){var c=i;s+=c[a]}f4.lastIndex=0;for(var u="",d;(d=f4.exec(s))!==null;)u+="-"+d[1];var h=lQ(s)+u;return{name:h,styles:s,next:ui}}var hQ=function(e){return e()},w6=jb.useInsertionEffect?jb.useInsertionEffect:!1,pQ=w6||hQ,h4=w6||T.useLayoutEffect,o2=T.createContext(typeof HTMLElement<"u"?XK({key:"css"}):null);o2.Provider;var mQ=function(){return T.useContext(o2)},_6=function(e){return T.forwardRef(function(r,n){var s=T.useContext(o2);return e(r,s,n)})},ah=T.createContext({}),gQ=function(e,r){if(typeof r=="function"){var n=r(e);return n}return Xg({},e,r)},yQ=c4(function(t){return c4(function(e){return gQ(t,e)})}),vQ=function(e){var r=T.useContext(ah);return e.theme!==r&&(r=yQ(r)(e.theme)),T.createElement(ah.Provider,{value:r},e.children)},Cy=_6(function(t,e){var r=t.styles,n=i2([r],void 0,T.useContext(ah)),s=T.useRef();return h4(function(){var i=e.key+"-global",o=new e.sheet.constructor({key:i,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,c=document.querySelector('style[data-emotion="'+i+" "+n.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),c!==null&&(a=!0,c.setAttribute("data-emotion",i),o.hydrate([c])),s.current=[o,a],function(){o.flush()}},[e]),h4(function(){var i=s.current,o=i[0],a=i[1];if(a){i[1]=!1;return}if(n.next!==void 0&&b6(e,n.next,!0),o.tags.length){var c=o.tags[o.tags.length-1].nextElementSibling;o.before=c,o.flush()}e.insert("",n,o,!1)},[e,n.name]),null});function bQ(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return i2(e)}var ky=function(){var e=bQ.apply(void 0,arguments),r="animation-"+e.name;return{name:r,styles:"@keyframes "+r+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};const a2=T.createContext({});a2.displayName="ColorModeContext";function Ny(){const t=T.useContext(a2);if(t===void 0)throw new Error("useColorMode must be used within a ColorModeProvider");return t}function hf(t,e){const{colorMode:r}=Ny();return r==="dark"?e:t}const Zp={light:"chakra-ui-light",dark:"chakra-ui-dark"};function xQ(t={}){const{preventTransition:e=!0,nonce:r}=t,n={setDataset:s=>{const i=e?n.preventTransition():void 0;document.documentElement.dataset.theme=s,document.documentElement.style.colorScheme=s,i==null||i()},setClassName(s){document.body.classList.add(s?Zp.dark:Zp.light),document.body.classList.remove(s?Zp.light:Zp.dark)},query(){return window.matchMedia("(prefers-color-scheme: dark)")},getSystemTheme(s){return n.query().matches??s==="dark"?"dark":"light"},addListener(s){const i=n.query(),o=a=>{s(a.matches?"dark":"light")};return typeof i.addListener=="function"?i.addListener(o):i.addEventListener("change",o),()=>{typeof i.removeListener=="function"?i.removeListener(o):i.removeEventListener("change",o)}},preventTransition(){const s=document.createElement("style");return s.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),r!==void 0&&(s.nonce=r),document.head.appendChild(s),()=>{window.getComputedStyle(document.body),requestAnimationFrame(()=>{requestAnimationFrame(()=>{document.head.removeChild(s)})})}}};return n}const wQ="chakra-ui-color-mode";function _Q(t){return{ssr:!1,type:"localStorage",get(e){if(!(globalThis!=null&&globalThis.document))return e;let r;try{r=localStorage.getItem(t)||e}catch{}return r||e},set(e){try{localStorage.setItem(t,e)}catch{}}}}const SQ=_Q(wQ),p4=()=>{},EQ=D$()?T.useLayoutEffect:T.useEffect;function m4(t,e){return t.type==="cookie"&&t.ssr?t.get(e):e}const S6=function(e){const{value:r,children:n,options:{useSystemColorMode:s,initialColorMode:i,disableTransitionOnChange:o}={},colorModeManager:a=SQ}=e,c=mQ(),u=i==="dark"?"dark":"light",[d,h]=T.useState(()=>m4(a,u)),[p,m]=T.useState(()=>m4(a)),{getSystemTheme:v,setClassName:b,setDataset:y,addListener:x}=T.useMemo(()=>xQ({preventTransition:o,nonce:c==null?void 0:c.nonce}),[o,c==null?void 0:c.nonce]),g=i==="system"&&!d?p:d,w=T.useCallback(A=>{const S=A==="system"?v():A;h(S),b(S==="dark"),y(S),a.set(S)},[a,v,b,y]);EQ(()=>{i==="system"&&m(v())},[]),T.useEffect(()=>{const A=a.get();if(A){w(A);return}if(i==="system"){w("system");return}w(u)},[a,u,i,w]);const I=T.useCallback(()=>{w(g==="dark"?"light":"dark")},[g,w]);T.useEffect(()=>{if(s)return x(w)},[s,x,w]);const P=T.useMemo(()=>({colorMode:r??g,toggleColorMode:r?p4:I,setColorMode:r?p4:w,forced:r!==void 0}),[g,I,w,r]);return l.jsx(a2.Provider,{value:P,children:n})};S6.displayName="ColorModeProvider";const E6=String.raw,T6=E6`
  :root,
  :host {
    --chakra-vh: 100vh;
  }

  @supports (height: -webkit-fill-available) {
    :root,
    :host {
      --chakra-vh: -webkit-fill-available;
    }
  }

  @supports (height: -moz-fill-available) {
    :root,
    :host {
      --chakra-vh: -moz-fill-available;
    }
  }

  @supports (height: 100dvh) {
    :root,
    :host {
      --chakra-vh: 100dvh;
    }
  }
`,TQ=()=>l.jsx(Cy,{styles:T6}),CQ=({scope:t=""})=>l.jsx(Cy,{styles:E6`
      html {
        line-height: 1.5;
        -webkit-text-size-adjust: 100%;
        font-family: system-ui, sans-serif;
        -webkit-font-smoothing: antialiased;
        text-rendering: optimizeLegibility;
        -moz-osx-font-smoothing: grayscale;
        touch-action: manipulation;
      }

      body {
        position: relative;
        min-height: 100%;
        margin: 0;
        font-feature-settings: "kern";
      }

      ${t} :where(*, *::before, *::after) {
        border-width: 0;
        border-style: solid;
        box-sizing: border-box;
        word-wrap: break-word;
      }

      main {
        display: block;
      }

      ${t} hr {
        border-top-width: 1px;
        box-sizing: content-box;
        height: 0;
        overflow: visible;
      }

      ${t} :where(pre, code, kbd,samp) {
        font-family: SFMono-Regular, Menlo, Monaco, Consolas, monospace;
        font-size: 1em;
      }

      ${t} a {
        background-color: transparent;
        color: inherit;
        text-decoration: inherit;
      }

      ${t} abbr[title] {
        border-bottom: none;
        text-decoration: underline;
        -webkit-text-decoration: underline dotted;
        text-decoration: underline dotted;
      }

      ${t} :where(b, strong) {
        font-weight: bold;
      }

      ${t} small {
        font-size: 80%;
      }

      ${t} :where(sub,sup) {
        font-size: 75%;
        line-height: 0;
        position: relative;
        vertical-align: baseline;
      }

      ${t} sub {
        bottom: -0.25em;
      }

      ${t} sup {
        top: -0.5em;
      }

      ${t} img {
        border-style: none;
      }

      ${t} :where(button, input, optgroup, select, textarea) {
        font-family: inherit;
        font-size: 100%;
        line-height: 1.15;
        margin: 0;
      }

      ${t} :where(button, input) {
        overflow: visible;
      }

      ${t} :where(button, select) {
        text-transform: none;
      }

      ${t} :where(
          button::-moz-focus-inner,
          [type="button"]::-moz-focus-inner,
          [type="reset"]::-moz-focus-inner,
          [type="submit"]::-moz-focus-inner
        ) {
        border-style: none;
        padding: 0;
      }

      ${t} fieldset {
        padding: 0.35em 0.75em 0.625em;
      }

      ${t} legend {
        box-sizing: border-box;
        color: inherit;
        display: table;
        max-width: 100%;
        padding: 0;
        white-space: normal;
      }

      ${t} progress {
        vertical-align: baseline;
      }

      ${t} textarea {
        overflow: auto;
      }

      ${t} :where([type="checkbox"], [type="radio"]) {
        box-sizing: border-box;
        padding: 0;
      }

      ${t} input[type="number"]::-webkit-inner-spin-button,
      ${t} input[type="number"]::-webkit-outer-spin-button {
        -webkit-appearance: none !important;
      }

      ${t} input[type="number"] {
        -moz-appearance: textfield;
      }

      ${t} input[type="search"] {
        -webkit-appearance: textfield;
        outline-offset: -2px;
      }

      ${t} input[type="search"]::-webkit-search-decoration {
        -webkit-appearance: none !important;
      }

      ${t} ::-webkit-file-upload-button {
        -webkit-appearance: button;
        font: inherit;
      }

      ${t} details {
        display: block;
      }

      ${t} summary {
        display: list-item;
      }

      template {
        display: none;
      }

      [hidden] {
        display: none !important;
      }

      ${t} :where(
          blockquote,
          dl,
          dd,
          h1,
          h2,
          h3,
          h4,
          h5,
          h6,
          hr,
          figure,
          p,
          pre
        ) {
        margin: 0;
      }

      ${t} button {
        background: transparent;
        padding: 0;
      }

      ${t} fieldset {
        margin: 0;
        padding: 0;
      }

      ${t} :where(ol, ul) {
        margin: 0;
        padding: 0;
      }

      ${t} textarea {
        resize: vertical;
      }

      ${t} :where(button, [role="button"]) {
        cursor: pointer;
      }

      ${t} button::-moz-focus-inner {
        border: 0 !important;
      }

      ${t} table {
        border-collapse: collapse;
      }

      ${t} :where(h1, h2, h3, h4, h5, h6) {
        font-size: inherit;
        font-weight: inherit;
      }

      ${t} :where(button, input, optgroup, select, textarea) {
        padding: 0;
        line-height: inherit;
        color: inherit;
      }

      ${t} :where(img, svg, video, canvas, audio, iframe, embed, object) {
        display: block;
      }

      ${t} :where(img, video) {
        max-width: 100%;
        height: auto;
      }

      [data-js-focus-visible]
        :focus:not([data-focus-visible-added]):not(
          [data-focus-visible-disabled]
        ) {
        outline: none;
        box-shadow: none;
      }

      ${t} select::-ms-expand {
        display: none;
      }

      ${T6}
    `});function kQ(t){const{cssVarsRoot:e,theme:r,children:n}=t,s=T.useMemo(()=>uz(r),[r]);return l.jsxs(vQ,{theme:s,children:[l.jsx(NQ,{root:e}),n]})}function NQ({root:t=":host, :root"}){const e=[t,"[data-theme]"].join(",");return l.jsx(Cy,{styles:r=>({[e]:r.__cssVars})})}Ss({name:"StylesContext",errorMessage:"useStyles: `styles` is undefined. Seems you forgot to wrap the components in `<StylesProvider />` "});function IQ(){const{colorMode:t}=Ny();return l.jsx(Cy,{styles:e=>{const r=Mj(e,"styles.global"),n=fs(r,{theme:e,colorMode:t});return n?Hj(n)(e):void 0}})}const[PQ,AQ]=Ss({strict:!1,name:"PortalManagerContext"});function C6(t){const{children:e,zIndex:r}=t;return l.jsx(PQ,{value:{zIndex:r},children:e})}C6.displayName="PortalManager";const k6=T.createContext({getDocument(){return document},getWindow(){return window}});k6.displayName="EnvironmentContext";function N6(t){const{children:e,environment:r,disabled:n}=t,s=T.useRef(null),i=T.useMemo(()=>r||{getDocument:()=>{var a;return((a=s.current)==null?void 0:a.ownerDocument)??document},getWindow:()=>{var a;return((a=s.current)==null?void 0:a.ownerDocument.defaultView)??window}},[r]),o=!n||!r;return l.jsxs(k6.Provider,{value:i,children:[e,o&&l.jsx("span",{id:"__chakra_env",hidden:!0,ref:s})]})}N6.displayName="EnvironmentProvider";const jQ=t=>{const{children:e,colorModeManager:r,portalZIndex:n,resetScope:s,resetCSS:i=!0,theme:o={},environment:a,cssVarsRoot:c,disableEnvironment:u,disableGlobalStyle:d}=t,h=l.jsx(N6,{environment:a,disabled:u,children:e});return l.jsx(kQ,{theme:o,cssVarsRoot:c,children:l.jsxs(S6,{colorModeManager:r,options:o.config,children:[i?l.jsx(CQ,{scope:s}):l.jsx(TQ,{}),!d&&l.jsx(IQ,{}),n?l.jsx(C6,{zIndex:n,children:h}):h]})})};var RQ={},DQ="production",l2=typeof process>"u"||RQ===void 0?DQ:"production",qi=function(t){return{isEnabled:function(e){return t.some(function(r){return!!e[r]})}}},lh={measureLayout:qi(["layout","layoutId","drag"]),animation:qi(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:qi(["exit"]),drag:qi(["drag","dragControls"]),focus:qi(["whileFocus"]),hover:qi(["whileHover","onHoverStart","onHoverEnd"]),tap:qi(["whileTap","onTap","onTapStart","onTapCancel"]),pan:qi(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:qi(["whileInView","onViewportEnter","onViewportLeave"])};function OQ(t){for(var e in t)t[e]!==null&&(e==="projectionNodeConstructor"?lh.projectionNodeConstructor=t[e]:lh[e].Component=t[e])}var Jg=function(){},I6=T.createContext({strict:!1}),P6=Object.keys(lh),MQ=P6.length;function LQ(t,e,r){var n=[],s=T.useContext(I6);if(!e)return null;l2!=="production"&&r&&s.strict;for(var i=0;i<MQ;i++){var o=P6[i],a=lh[o],c=a.isEnabled,u=a.Component;c(t)&&u&&n.push(T.createElement(u,oe({key:o},t,{visualElement:e})))}return n}var c2=T.createContext({transformPagePoint:function(t){return t},isStatic:!1,reducedMotion:"never"}),Iy=T.createContext({});function FQ(){return T.useContext(Iy).visualElement}var Yu=T.createContext(null),Xu=typeof document<"u",Zg=Xu?T.useLayoutEffect:T.useEffect,u1={current:null},A6=!1;function VQ(){if(A6=!0,!!Xu)if(window.matchMedia){var t=window.matchMedia("(prefers-reduced-motion)"),e=function(){return u1.current=t.matches};t.addListener(e),e()}else u1.current=!1}function $Q(){!A6&&VQ();var t=Gt(T.useState(u1.current),1),e=t[0];return e}function BQ(){var t=$Q(),e=T.useContext(c2).reducedMotion;return e==="never"?!1:e==="always"?!0:t}function zQ(t,e,r,n){var s=T.useContext(I6),i=FQ(),o=T.useContext(Yu),a=BQ(),c=T.useRef(void 0);n||(n=s.renderer),!c.current&&n&&(c.current=n(t,{visualState:e,parent:i,props:r,presenceId:o==null?void 0:o.id,blockInitialAnimation:(o==null?void 0:o.initial)===!1,shouldReduceMotion:a}));var u=c.current;return Zg(function(){u==null||u.syncRender()}),T.useEffect(function(){var d;(d=u==null?void 0:u.animationState)===null||d===void 0||d.animateChanges()}),Zg(function(){return function(){return u==null?void 0:u.notifyUnmount()}},[]),u}function Vc(t){return typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function UQ(t,e,r){return T.useCallback(function(n){var s;n&&((s=t.mount)===null||s===void 0||s.call(t,n)),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):Vc(r)&&(r.current=n))},[e])}function j6(t){return Array.isArray(t)}function Ms(t){return typeof t=="string"||j6(t)}function HQ(t){var e={};return t.forEachValue(function(r,n){return e[n]=r.get()}),e}function WQ(t){var e={};return t.forEachValue(function(r,n){return e[n]=r.getVelocity()}),e}function R6(t,e,r,n,s){var i;return n===void 0&&(n={}),s===void 0&&(s={}),typeof e=="function"&&(e=e(r??t.custom,n,s)),typeof e=="string"&&(e=(i=t.variants)===null||i===void 0?void 0:i[e]),typeof e=="function"&&(e=e(r??t.custom,n,s)),e}function Py(t,e,r){var n=t.getProps();return R6(n,e,r??n.custom,HQ(t),WQ(t))}function Ay(t){var e;return typeof((e=t.animate)===null||e===void 0?void 0:e.start)=="function"||Ms(t.initial)||Ms(t.animate)||Ms(t.whileHover)||Ms(t.whileDrag)||Ms(t.whileTap)||Ms(t.whileFocus)||Ms(t.exit)}function D6(t){return!!(Ay(t)||t.variants)}function qQ(t,e){if(Ay(t)){var r=t.initial,n=t.animate;return{initial:r===!1||Ms(r)?r:void 0,animate:Ms(n)?n:void 0}}return t.inherit!==!1?e:{}}function GQ(t){var e=qQ(t,T.useContext(Iy)),r=e.initial,n=e.animate;return T.useMemo(function(){return{initial:r,animate:n}},[g4(r),g4(n)])}function g4(t){return Array.isArray(t)?t.join(" "):t}function Kh(t){var e=T.useRef(null);return e.current===null&&(e.current=t()),e.current}var pf={hasAnimatedSinceResize:!0,hasEverUpdated:!1},KQ=1;function QQ(){return Kh(function(){if(pf.hasEverUpdated)return KQ++})}var u2=T.createContext({}),O6=T.createContext({});function YQ(t,e,r,n){var s,i=e.layoutId,o=e.layout,a=e.drag,c=e.dragConstraints,u=e.layoutScroll,d=T.useContext(O6);!n||!r||r!=null&&r.projection||(r.projection=new n(t,r.getLatestValues(),(s=r.parent)===null||s===void 0?void 0:s.projection),r.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!a||c&&Vc(c),visualElement:r,scheduleRender:function(){return r.scheduleRender()},animationType:typeof o=="string"?o:"both",initialPromotionConfig:d,layoutScroll:u}))}var XQ=function(t){AP(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getSnapshotBeforeUpdate=function(){return this.updateProps(),null},e.prototype.componentDidUpdate=function(){},e.prototype.updateProps=function(){var r=this.props,n=r.visualElement,s=r.props;n&&n.setProps(s)},e.prototype.render=function(){return this.props.children},e}(Ve.Component);function JQ(t){var e=t.preloadedFeatures,r=t.createVisualElement,n=t.projectionNodeConstructor,s=t.useRender,i=t.useVisualState,o=t.Component;e&&OQ(e);function a(c,u){var d=ZQ(c);c=oe(oe({},c),{layoutId:d});var h=T.useContext(c2),p=null,m=GQ(c),v=h.isStatic?void 0:QQ(),b=i(c,h.isStatic);return!h.isStatic&&Xu&&(m.visualElement=zQ(o,b,oe(oe({},h),c),r),YQ(v,c,m.visualElement,n||lh.projectionNodeConstructor),p=LQ(c,m.visualElement,e)),T.createElement(XQ,{visualElement:m.visualElement,props:oe(oe({},h),c)},p,T.createElement(Iy.Provider,{value:m},s(o,c,v,UQ(b,m.visualElement,u),b,h.isStatic,m.visualElement)))}return T.forwardRef(a)}function ZQ(t){var e,r=t.layoutId,n=(e=T.useContext(u2))===null||e===void 0?void 0:e.id;return n&&r!==void 0?n+"-"+r:r}function eY(t){function e(n,s){return s===void 0&&(s={}),JQ(t(n,s))}if(typeof Proxy>"u")return e;var r=new Map;return new Proxy(e,{get:function(n,s){return r.has(s)||r.set(s,e(s)),r.get(s)}})}var tY=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view"];function d2(t){return typeof t!="string"||t.includes("-")?!1:!!(tY.indexOf(t)>-1||/[A-Z]/.test(t))}var e0={};function rY(t){Object.assign(e0,t)}var d1=["","X","Y","Z"],nY=["translate","scale","rotate","skew"],ch=["transformPerspective","x","y","z"];nY.forEach(function(t){return d1.forEach(function(e){return ch.push(t+e)})});function sY(t,e){return ch.indexOf(t)-ch.indexOf(e)}var iY=new Set(ch);function Qh(t){return iY.has(t)}var oY=new Set(["originX","originY","originZ"]);function M6(t){return oY.has(t)}function L6(t,e){var r=e.layout,n=e.layoutId;return Qh(t)||M6(t)||(r||n!==void 0)&&(!!e0[t]||t==="opacity")}var wo=function(t){return!!(t!==null&&typeof t=="object"&&t.getVelocity)},aY={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"};function lY(t,e,r,n){var s=t.transform,i=t.transformKeys,o=e.enableHardwareAcceleration,a=o===void 0?!0:o,c=e.allowTransformNone,u=c===void 0?!0:c,d="";i.sort(sY);for(var h=!1,p=i.length,m=0;m<p;m++){var v=i[m];d+="".concat(aY[v]||v,"(").concat(s[v],") "),v==="z"&&(h=!0)}return!h&&a?d+="translateZ(0)":d=d.trim(),n?d=n(s,r?"":d):u&&r&&(d="none"),d}function cY(t){var e=t.originX,r=e===void 0?"50%":e,n=t.originY,s=n===void 0?"50%":n,i=t.originZ,o=i===void 0?0:i;return"".concat(r," ").concat(s," ").concat(o)}function F6(t){return t.startsWith("--")}var uY=function(t,e){return e&&typeof t=="number"?e.transform(t):t};const V6=(t,e)=>r=>Math.max(Math.min(r,e),t),mf=t=>t%1?Number(t.toFixed(5)):t,uh=/(-)?([\d]*\.?[\d])+/g,f1=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))/gi,dY=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))$/i;function Yh(t){return typeof t=="string"}const Gl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},gf=Object.assign(Object.assign({},Gl),{transform:V6(0,1)}),em=Object.assign(Object.assign({},Gl),{default:1}),Xh=t=>({test:e=>Yh(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),zo=Xh("deg"),Ei=Xh("%"),ke=Xh("px"),fY=Xh("vh"),hY=Xh("vw"),y4=Object.assign(Object.assign({},Ei),{parse:t=>Ei.parse(t)/100,transform:t=>Ei.transform(t*100)}),f2=(t,e)=>r=>!!(Yh(r)&&dY.test(r)&&r.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(r,e)),$6=(t,e,r)=>n=>{if(!Yh(n))return n;const[s,i,o,a]=n.match(uh);return{[t]:parseFloat(s),[e]:parseFloat(i),[r]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},dl={test:f2("hsl","hue"),parse:$6("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+Ei.transform(mf(e))+", "+Ei.transform(mf(r))+", "+mf(gf.transform(n))+")"},pY=V6(0,255),hb=Object.assign(Object.assign({},Gl),{transform:t=>Math.round(pY(t))}),aa={test:f2("rgb","red"),parse:$6("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+hb.transform(t)+", "+hb.transform(e)+", "+hb.transform(r)+", "+mf(gf.transform(n))+")"};function mY(t){let e="",r="",n="",s="";return t.length>5?(e=t.substr(1,2),r=t.substr(3,2),n=t.substr(5,2),s=t.substr(7,2)):(e=t.substr(1,1),r=t.substr(2,1),n=t.substr(3,1),s=t.substr(4,1),e+=e,r+=r,n+=n,s+=s),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const h1={test:f2("#"),parse:mY,transform:aa.transform},nn={test:t=>aa.test(t)||h1.test(t)||dl.test(t),parse:t=>aa.test(t)?aa.parse(t):dl.test(t)?dl.parse(t):h1.parse(t),transform:t=>Yh(t)?t:t.hasOwnProperty("red")?aa.transform(t):dl.transform(t)},B6="${c}",z6="${n}";function gY(t){var e,r,n,s;return isNaN(t)&&Yh(t)&&((r=(e=t.match(uh))===null||e===void 0?void 0:e.length)!==null&&r!==void 0?r:0)+((s=(n=t.match(f1))===null||n===void 0?void 0:n.length)!==null&&s!==void 0?s:0)>0}function U6(t){typeof t=="number"&&(t=`${t}`);const e=[];let r=0;const n=t.match(f1);n&&(r=n.length,t=t.replace(f1,B6),e.push(...n.map(nn.parse)));const s=t.match(uh);return s&&(t=t.replace(uh,z6),e.push(...s.map(Gl.parse))),{values:e,numColors:r,tokenised:t}}function H6(t){return U6(t).values}function W6(t){const{values:e,numColors:r,tokenised:n}=U6(t),s=e.length;return i=>{let o=n;for(let a=0;a<s;a++)o=o.replace(a<r?B6:z6,a<r?nn.transform(i[a]):mf(i[a]));return o}}const yY=t=>typeof t=="number"?0:t;function vY(t){const e=H6(t);return W6(t)(e.map(yY))}const _o={test:gY,parse:H6,createTransformer:W6,getAnimatableNone:vY},bY=new Set(["brightness","contrast","saturate","opacity"]);function xY(t){let[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(uh)||[];if(!n)return t;const s=r.replace(n,"");let i=bY.has(e)?1:0;return n!==r&&(i*=100),e+"("+i+s+")"}const wY=/([a-z-]*)\(.*?\)/g,p1=Object.assign(Object.assign({},_o),{getAnimatableNone:t=>{const e=t.match(wY);return e?e.map(xY).join(" "):t}});var v4=oe(oe({},Gl),{transform:Math.round}),q6={borderWidth:ke,borderTopWidth:ke,borderRightWidth:ke,borderBottomWidth:ke,borderLeftWidth:ke,borderRadius:ke,radius:ke,borderTopLeftRadius:ke,borderTopRightRadius:ke,borderBottomRightRadius:ke,borderBottomLeftRadius:ke,width:ke,maxWidth:ke,height:ke,maxHeight:ke,size:ke,top:ke,right:ke,bottom:ke,left:ke,padding:ke,paddingTop:ke,paddingRight:ke,paddingBottom:ke,paddingLeft:ke,margin:ke,marginTop:ke,marginRight:ke,marginBottom:ke,marginLeft:ke,rotate:zo,rotateX:zo,rotateY:zo,rotateZ:zo,scale:em,scaleX:em,scaleY:em,scaleZ:em,skew:zo,skewX:zo,skewY:zo,distance:ke,translateX:ke,translateY:ke,translateZ:ke,x:ke,y:ke,z:ke,perspective:ke,transformPerspective:ke,opacity:gf,originX:y4,originY:y4,originZ:ke,zIndex:v4,fillOpacity:gf,strokeOpacity:gf,numOctaves:v4};function h2(t,e,r,n){var s,i=t.style,o=t.vars,a=t.transform,c=t.transformKeys,u=t.transformOrigin;c.length=0;var d=!1,h=!1,p=!0;for(var m in e){var v=e[m];if(F6(m)){o[m]=v;continue}var b=q6[m],y=uY(v,b);if(Qh(m)){if(d=!0,a[m]=y,c.push(m),!p)continue;v!==((s=b.default)!==null&&s!==void 0?s:0)&&(p=!1)}else M6(m)?(u[m]=y,h=!0):i[m]=y}d?i.transform=lY(t,r,p,n):n?i.transform=n({},""):!e.transform&&i.transform&&(i.transform="none"),h&&(i.transformOrigin=cY(u))}var p2=function(){return{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}};function G6(t,e,r){for(var n in e)!wo(e[n])&&!L6(n,r)&&(t[n]=e[n])}function _Y(t,e,r){var n=t.transformTemplate;return T.useMemo(function(){var s=p2();h2(s,e,{enableHardwareAcceleration:!r},n);var i=s.vars,o=s.style;return oe(oe({},i),o)},[e])}function SY(t,e,r){var n=t.style||{},s={};return G6(s,n,t),Object.assign(s,_Y(t,e,r)),t.transformValues&&(s=t.transformValues(s)),s}function EY(t,e,r){var n={},s=SY(t,e,r);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":"pan-".concat(t.drag==="x"?"y":"x")),n.style=s,n}var TY=new Set(["initial","animate","exit","style","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","whileDrag","onPan","onPanStart","onPanEnd","onPanSessionStart","onTap","onTapStart","onTapCancel","onHoverStart","onHoverEnd","whileFocus","whileTap","whileHover","whileInView","onViewportEnter","onViewportLeave","viewport","layoutScroll"]);function t0(t){return TY.has(t)}var K6=function(t){return!t0(t)};function CY(t){t&&(K6=function(e){return e.startsWith("on")?!t0(e):t(e)})}try{CY(require("@emotion/is-prop-valid").default)}catch{}function kY(t,e,r){var n={};for(var s in t)(K6(s)||r===!0&&t0(s)||!e&&!t0(s)||t.draggable&&s.startsWith("onDrag"))&&(n[s]=t[s]);return n}function b4(t,e,r){return typeof t=="string"?t:ke.transform(e+r*t)}function NY(t,e,r){var n=b4(e,t.x,t.width),s=b4(r,t.y,t.height);return"".concat(n," ").concat(s)}var IY={offset:"strokeDashoffset",array:"strokeDasharray"};function PY(t,e,r,n,s){r===void 0&&(r=1),n===void 0&&(n=0),t.pathLength=1;var i=IY;t[i.offset]=ke.transform(-n);var o=ke.transform(e),a=ke.transform(r);t[i.array]="".concat(o," ").concat(a)}function m2(t,e,r,n){var s=e.attrX,i=e.attrY,o=e.originX,a=e.originY,c=e.pathLength,u=e.pathSpacing,d=u===void 0?1:u,h=e.pathOffset,p=h===void 0?0:h,m=pn(e,["attrX","attrY","originX","originY","pathLength","pathSpacing","pathOffset"]);h2(t,m,r,n),t.attrs=t.style,t.style={};var v=t.attrs,b=t.style,y=t.dimensions;v.transform&&(y&&(b.transform=v.transform),delete v.transform),y&&(o!==void 0||a!==void 0||b.transform)&&(b.transformOrigin=NY(y,o!==void 0?o:.5,a!==void 0?a:.5)),s!==void 0&&(v.x=s),i!==void 0&&(v.y=i),c!==void 0&&PY(v,c,d,p)}var Q6=function(){return oe(oe({},p2()),{attrs:{}})};function AY(t,e){var r=T.useMemo(function(){var s=Q6();return m2(s,e,{enableHardwareAcceleration:!1},t.transformTemplate),oe(oe({},s.attrs),{style:oe({},s.style)})},[e]);if(t.style){var n={};G6(n,t.style,t),r.style=oe(oe({},n),r.style)}return r}function jY(t){t===void 0&&(t=!1);var e=function(r,n,s,i,o,a){var c=o.latestValues,u=d2(r)?AY:EY,d=u(n,c,a),h=kY(n,typeof r=="string",t),p=oe(oe(oe({},h),d),{ref:i});return s&&(p["data-projection-id"]=s),T.createElement(r,p)};return e}var RY=/([a-z])([A-Z])/g,DY="$1-$2",Y6=function(t){return t.replace(RY,DY).toLowerCase()};function X6(t,e,r,n){var s=e.style,i=e.vars;Object.assign(t.style,s,n&&n.getProjectionStyles(r));for(var o in i)t.style.setProperty(o,i[o])}var J6=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength"]);function Z6(t,e,r,n){X6(t,e,void 0,n);for(var s in e.attrs)t.setAttribute(J6.has(s)?s:Y6(s),e.attrs[s])}function g2(t){var e=t.style,r={};for(var n in e)(wo(e[n])||L6(n,t))&&(r[n]=e[n]);return r}function eR(t){var e=g2(t);for(var r in t)if(wo(t[r])){var n=r==="x"||r==="y"?"attr"+r.toUpperCase():r;e[n]=t[r]}return e}function y2(t){return typeof t=="object"&&typeof t.start=="function"}var dh=function(t){return Array.isArray(t)},OY=function(t){return!!(t&&typeof t=="object"&&t.mix&&t.toValue)},tR=function(t){return dh(t)?t[t.length-1]||0:t};function Wm(t){var e=wo(t)?t.get():t;return OY(e)?e.toValue():e}function x4(t,e,r,n){var s=t.scrapeMotionValuesFromProps,i=t.createRenderState,o=t.onMount,a={latestValues:MY(e,r,n,s),renderState:i()};return o&&(a.mount=function(c){return o(e,c,a)}),a}var rR=function(t){return function(e,r){var n=T.useContext(Iy),s=T.useContext(Yu);return r?x4(t,e,n,s):Kh(function(){return x4(t,e,n,s)})}};function MY(t,e,r,n){var s={},i=(r==null?void 0:r.initial)===!1,o=n(t);for(var a in o)s[a]=Wm(o[a]);var c=t.initial,u=t.animate,d=Ay(t),h=D6(t);e&&h&&!d&&t.inherit!==!1&&(c??(c=e.initial),u??(u=e.animate));var p=i||c===!1,m=p?u:c;if(m&&typeof m!="boolean"&&!y2(m)){var v=Array.isArray(m)?m:[m];v.forEach(function(b){var y=R6(t,b);if(y){var x=y.transitionEnd;y.transition;var g=pn(y,["transitionEnd","transition"]);for(var w in g){var I=g[w];if(Array.isArray(I)){var P=p?I.length-1:0;I=I[P]}I!==null&&(s[w]=I)}for(var w in x)s[w]=x[w]}})}return s}var LY={useVisualState:rR({scrapeMotionValuesFromProps:eR,createRenderState:Q6,onMount:function(t,e,r){var n=r.renderState,s=r.latestValues;try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}m2(n,s,{enableHardwareAcceleration:!1},t.transformTemplate),Z6(e,n)}})},FY={useVisualState:rR({scrapeMotionValuesFromProps:g2,createRenderState:p2})};function VY(t,e,r,n,s){var i=e.forwardMotionProps,o=i===void 0?!1:i,a=d2(t)?LY:FY;return oe(oe({},a),{preloadedFeatures:r,useRender:jY(o),createVisualElement:n,projectionNodeConstructor:s,Component:t})}var Et;(function(t){t.Animate="animate",t.Hover="whileHover",t.Tap="whileTap",t.Drag="whileDrag",t.Focus="whileFocus",t.InView="whileInView",t.Exit="exit"})(Et||(Et={}));function jy(t,e,r,n){return n===void 0&&(n={passive:!0}),t.addEventListener(e,r,n),function(){return t.removeEventListener(e,r)}}function m1(t,e,r,n){T.useEffect(function(){var s=t.current;if(r&&s)return jy(s,e,r,n)},[t,e,r,n])}function $Y(t){var e=t.whileFocus,r=t.visualElement,n=function(){var i;(i=r.animationState)===null||i===void 0||i.setActive(Et.Focus,!0)},s=function(){var i;(i=r.animationState)===null||i===void 0||i.setActive(Et.Focus,!1)};m1(r,"focus",e?n:void 0),m1(r,"blur",e?s:void 0)}function nR(t){return typeof PointerEvent<"u"&&t instanceof PointerEvent?t.pointerType==="mouse":t instanceof MouseEvent}function sR(t){var e=!!t.touches;return e}function BY(t){return function(e){var r=e instanceof MouseEvent,n=!r||r&&e.button===0;n&&t(e)}}var zY={pageX:0,pageY:0};function UY(t,e){e===void 0&&(e="page");var r=t.touches[0]||t.changedTouches[0],n=r||zY;return{x:n[e+"X"],y:n[e+"Y"]}}function HY(t,e){return e===void 0&&(e="page"),{x:t[e+"X"],y:t[e+"Y"]}}function v2(t,e){return e===void 0&&(e="page"),{point:sR(t)?UY(t,e):HY(t,e)}}var iR=function(t,e){e===void 0&&(e=!1);var r=function(n){return t(n,v2(n))};return e?BY(r):r},WY=function(){return Xu&&window.onpointerdown===null},qY=function(){return Xu&&window.ontouchstart===null},GY=function(){return Xu&&window.onmousedown===null},KY={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},QY={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function oR(t){return WY()?t:qY()?QY[t]:GY()?KY[t]:t}function su(t,e,r,n){return jy(t,oR(e),iR(r,e==="pointerdown"),n)}function r0(t,e,r,n){return m1(t,oR(e),r&&iR(r,e==="pointerdown"),n)}function aR(t){var e=null;return function(){var r=function(){e=null};return e===null?(e=t,r):!1}}var w4=aR("dragHorizontal"),_4=aR("dragVertical");function lR(t){var e=!1;if(t==="y")e=_4();else if(t==="x")e=w4();else{var r=w4(),n=_4();r&&n?e=function(){r(),n()}:(r&&r(),n&&n())}return e}function cR(){var t=lR(!0);return t?(t(),!1):!0}function S4(t,e,r){return function(n,s){var i;!nR(n)||cR()||((i=t.animationState)===null||i===void 0||i.setActive(Et.Hover,e),r==null||r(n,s))}}function YY(t){var e=t.onHoverStart,r=t.onHoverEnd,n=t.whileHover,s=t.visualElement;r0(s,"pointerenter",e||n?S4(s,!0,e):void 0,{passive:!e}),r0(s,"pointerleave",r||n?S4(s,!1,r):void 0,{passive:!r})}var uR=function(t,e){return e?t===e?!0:uR(t,e.parentElement):!1};function b2(t){return T.useEffect(function(){return function(){return t()}},[])}const n0=(t,e,r)=>Math.min(Math.max(r,t),e),E4=.001,XY=.01,JY=10,ZY=.05,eX=1;function tX({duration:t=800,bounce:e=.25,velocity:r=0,mass:n=1}){let s,i,o=1-e;o=n0(ZY,eX,o),t=n0(XY,JY,t/1e3),o<1?(s=u=>{const d=u*o,h=d*t,p=d-r,m=g1(u,o),v=Math.exp(-h);return E4-p/m*v},i=u=>{const h=u*o*t,p=h*r+r,m=Math.pow(o,2)*Math.pow(u,2)*t,v=Math.exp(-h),b=g1(Math.pow(u,2),o);return(-s(u)+E4>0?-1:1)*((p-m)*v)/b}):(s=u=>{const d=Math.exp(-u*t),h=(u-r)*t+1;return-.001+d*h},i=u=>{const d=Math.exp(-u*t),h=(r-u)*(t*t);return d*h});const a=5/t,c=nX(s,i,a);if(t=t*1e3,isNaN(c))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:t}}}const rX=12;function nX(t,e,r){let n=r;for(let s=1;s<rX;s++)n=n-t(n)/e(n);return n}function g1(t,e){return t*Math.sqrt(1-e*e)}const sX=["duration","bounce"],iX=["stiffness","damping","mass"];function T4(t,e){return e.some(r=>t[r]!==void 0)}function oX(t){let e=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},t);if(!T4(t,iX)&&T4(t,sX)){const r=tX(t);e=Object.assign(Object.assign(Object.assign({},e),r),{velocity:0,mass:1}),e.isResolvedFromDuration=!0}return e}function x2(t){var{from:e=0,to:r=1,restSpeed:n=2,restDelta:s}=t,i=pn(t,["from","to","restSpeed","restDelta"]);const o={done:!1,value:e};let{stiffness:a,damping:c,mass:u,velocity:d,duration:h,isResolvedFromDuration:p}=oX(i),m=C4,v=C4;function b(){const y=d?-(d/1e3):0,x=r-e,g=c/(2*Math.sqrt(a*u)),w=Math.sqrt(a/u)/1e3;if(s===void 0&&(s=Math.min(Math.abs(r-e)/100,.4)),g<1){const I=g1(w,g);m=P=>{const A=Math.exp(-g*w*P);return r-A*((y+g*w*x)/I*Math.sin(I*P)+x*Math.cos(I*P))},v=P=>{const A=Math.exp(-g*w*P);return g*w*A*(Math.sin(I*P)*(y+g*w*x)/I+x*Math.cos(I*P))-A*(Math.cos(I*P)*(y+g*w*x)-I*x*Math.sin(I*P))}}else if(g===1)m=I=>r-Math.exp(-w*I)*(x+(y+w*x)*I);else{const I=w*Math.sqrt(g*g-1);m=P=>{const A=Math.exp(-g*w*P),S=Math.min(I*P,300);return r-A*((y+g*w*x)*Math.sinh(S)+I*x*Math.cosh(S))/I}}}return b(),{next:y=>{const x=m(y);if(p)o.done=y>=h;else{const g=v(y)*1e3,w=Math.abs(g)<=n,I=Math.abs(r-x)<=s;o.done=w&&I}return o.value=o.done?r:x,o},flipTarget:()=>{d=-d,[e,r]=[r,e],b()}}}x2.needsInterpolation=(t,e)=>typeof t=="string"||typeof e=="string";const C4=t=>0,fh=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n},qt=(t,e,r)=>-r*t+r*e+t;function pb(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function k4({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let s=0,i=0,o=0;if(!e)s=i=o=r;else{const a=r<.5?r*(1+e):r+e-r*e,c=2*r-a;s=pb(c,a,t+1/3),i=pb(c,a,t),o=pb(c,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}const aX=(t,e,r)=>{const n=t*t,s=e*e;return Math.sqrt(Math.max(0,r*(s-n)+n))},lX=[h1,aa,dl],N4=t=>lX.find(e=>e.test(t)),dR=(t,e)=>{let r=N4(t),n=N4(e),s=r.parse(t),i=n.parse(e);r===dl&&(s=k4(s),r=aa),n===dl&&(i=k4(i),n=aa);const o=Object.assign({},s);return a=>{for(const c in o)c!=="alpha"&&(o[c]=aX(s[c],i[c],a));return o.alpha=qt(s.alpha,i.alpha,a),r.transform(o)}},y1=t=>typeof t=="number",cX=(t,e)=>r=>e(t(r)),Ry=(...t)=>t.reduce(cX);function fR(t,e){return y1(t)?r=>qt(t,e,r):nn.test(t)?dR(t,e):pR(t,e)}const hR=(t,e)=>{const r=[...t],n=r.length,s=t.map((i,o)=>fR(i,e[o]));return i=>{for(let o=0;o<n;o++)r[o]=s[o](i);return r}},uX=(t,e)=>{const r=Object.assign(Object.assign({},t),e),n={};for(const s in r)t[s]!==void 0&&e[s]!==void 0&&(n[s]=fR(t[s],e[s]));return s=>{for(const i in n)r[i]=n[i](s);return r}};function I4(t){const e=_o.parse(t),r=e.length;let n=0,s=0,i=0;for(let o=0;o<r;o++)n||typeof e[o]=="number"?n++:e[o].hue!==void 0?i++:s++;return{parsed:e,numNumbers:n,numRGB:s,numHSL:i}}const pR=(t,e)=>{const r=_o.createTransformer(e),n=I4(t),s=I4(e);return n.numHSL===s.numHSL&&n.numRGB===s.numRGB&&n.numNumbers>=s.numNumbers?Ry(hR(n.parsed,s.parsed),r):o=>`${o>0?e:t}`},dX=(t,e)=>r=>qt(t,e,r);function fX(t){if(typeof t=="number")return dX;if(typeof t=="string")return nn.test(t)?dR:pR;if(Array.isArray(t))return hR;if(typeof t=="object")return uX}function hX(t,e,r){const n=[],s=r||fX(t[0]),i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]:e;a=Ry(c,a)}n.push(a)}return n}function pX([t,e],[r]){return n=>r(fh(t,e,n))}function mX(t,e){const r=t.length,n=r-1;return s=>{let i=0,o=!1;if(s<=t[0]?o=!0:s>=t[n]&&(i=n-1,o=!0),!o){let c=1;for(;c<r&&!(t[c]>s||c===n);c++);i=c-1}const a=fh(t[i],t[i+1],s);return e[i](a)}}function mR(t,e,{clamp:r=!0,ease:n,mixer:s}={}){const i=t.length;Jg(i===e.length),Jg(!n||!Array.isArray(n)||n.length===i-1),t[0]>t[i-1]&&(t=[].concat(t),e=[].concat(e),t.reverse(),e.reverse());const o=hX(e,n,s),a=i===2?pX(t,o):mX(t,o);return r?c=>a(n0(t[0],t[i-1],c)):a}const Dy=t=>e=>1-t(1-e),w2=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,gX=t=>e=>Math.pow(e,t),gR=t=>e=>e*e*((t+1)*e-t),yX=t=>{const e=gR(t);return r=>(r*=2)<1?.5*e(r):.5*(2-Math.pow(2,-10*(r-1)))},yR=1.525,vX=4/11,bX=8/11,xX=9/10,_2=t=>t,S2=gX(2),wX=Dy(S2),vR=w2(S2),bR=t=>1-Math.sin(Math.acos(t)),E2=Dy(bR),_X=w2(E2),T2=gR(yR),SX=Dy(T2),EX=w2(T2),TX=yX(yR),CX=4356/361,kX=35442/1805,NX=16061/1805,s0=t=>{if(t===1||t===0)return t;const e=t*t;return t<vX?7.5625*e:t<bX?9.075*e-9.9*t+3.4:t<xX?CX*e-kX*t+NX:10.8*t*t-20.52*t+10.72},IX=Dy(s0),PX=t=>t<.5?.5*(1-s0(1-t*2)):.5*s0(t*2-1)+.5;function AX(t,e){return t.map(()=>e||vR).splice(0,t.length-1)}function jX(t){const e=t.length;return t.map((r,n)=>n!==0?n/(e-1):0)}function RX(t,e){return t.map(r=>r*e)}function qm({from:t=0,to:e=1,ease:r,offset:n,duration:s=300}){const i={done:!1,value:t},o=Array.isArray(e)?e:[t,e],a=RX(n&&n.length===o.length?n:jX(o),s);function c(){return mR(a,o,{ease:Array.isArray(r)?r:AX(o,r)})}let u=c();return{next:d=>(i.value=u(d),i.done=d>=s,i),flipTarget:()=>{o.reverse(),u=c()}}}function DX({velocity:t=0,from:e=0,power:r=.8,timeConstant:n=350,restDelta:s=.5,modifyTarget:i}){const o={done:!1,value:e};let a=r*t;const c=e+a,u=i===void 0?c:i(c);return u!==c&&(a=u-e),{next:d=>{const h=-a*Math.exp(-d/n);return o.done=!(h>s||h<-s),o.value=o.done?u:u+h,o},flipTarget:()=>{}}}const P4={keyframes:qm,spring:x2,decay:DX};function OX(t){if(Array.isArray(t.to))return qm;if(P4[t.type])return P4[t.type];const e=new Set(Object.keys(t));return e.has("ease")||e.has("duration")&&!e.has("dampingRatio")?qm:e.has("dampingRatio")||e.has("stiffness")||e.has("mass")||e.has("damping")||e.has("restSpeed")||e.has("restDelta")?x2:qm}const xR=1/60*1e3,MX=typeof performance<"u"?()=>performance.now():()=>Date.now(),wR=typeof window<"u"?t=>window.requestAnimationFrame(t):t=>setTimeout(()=>t(MX()),xR);function LX(t){let e=[],r=[],n=0,s=!1,i=!1;const o=new WeakSet,a={schedule:(c,u=!1,d=!1)=>{const h=d&&s,p=h?e:r;return u&&o.add(c),p.indexOf(c)===-1&&(p.push(c),h&&s&&(n=e.length)),c},cancel:c=>{const u=r.indexOf(c);u!==-1&&r.splice(u,1),o.delete(c)},process:c=>{if(s){i=!0;return}if(s=!0,[e,r]=[r,e],r.length=0,n=e.length,n)for(let u=0;u<n;u++){const d=e[u];d(c),o.has(d)&&(a.schedule(d),t())}s=!1,i&&(i=!1,a.process(c))}};return a}const FX=40;let v1=!0,hh=!1,b1=!1;const iu={delta:0,timestamp:0},Jh=["read","update","preRender","render","postRender"],Oy=Jh.reduce((t,e)=>(t[e]=LX(()=>hh=!0),t),{}),VX=Jh.reduce((t,e)=>{const r=Oy[e];return t[e]=(n,s=!1,i=!1)=>(hh||zX(),r.schedule(n,s,i)),t},{}),$X=Jh.reduce((t,e)=>(t[e]=Oy[e].cancel,t),{});Jh.reduce((t,e)=>(t[e]=()=>Oy[e].process(iu),t),{});const BX=t=>Oy[t].process(iu),_R=t=>{hh=!1,iu.delta=v1?xR:Math.max(Math.min(t-iu.timestamp,FX),1),iu.timestamp=t,b1=!0,Jh.forEach(BX),b1=!1,hh&&(v1=!1,wR(_R))},zX=()=>{hh=!0,v1=!0,b1||wR(_R)},UX=()=>iu;function SR(t,e,r=0){return t-e-r}function HX(t,e,r=0,n=!0){return n?SR(e+-t,e,r):e-(t-e)+r}function WX(t,e,r,n){return n?t>=e+r:t<=-r}const qX=t=>{const e=({delta:r})=>t(r);return{start:()=>VX.update(e,!0),stop:()=>$X.update(e)}};function ER(t){var e,r,{from:n,autoplay:s=!0,driver:i=qX,elapsed:o=0,repeat:a=0,repeatType:c="loop",repeatDelay:u=0,onPlay:d,onStop:h,onComplete:p,onRepeat:m,onUpdate:v}=t,b=pn(t,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:y}=b,x,g=0,w=b.duration,I,P=!1,A=!0,S;const E=OX(b);!((r=(e=E).needsInterpolation)===null||r===void 0)&&r.call(e,n,y)&&(S=mR([0,100],[n,y],{clamp:!1}),n=0,y=100);const C=E(Object.assign(Object.assign({},b),{from:n,to:y}));function k(){g++,c==="reverse"?(A=g%2===0,o=HX(o,w,u,A)):(o=SR(o,w,u),c==="mirror"&&C.flipTarget()),P=!1,m&&m()}function j(){x.stop(),p&&p()}function O(ue){if(A||(ue=-ue),o+=ue,!P){const V=C.next(Math.max(0,o));I=V.value,S&&(I=S(I)),P=A?V.done:o<=0}v==null||v(I),P&&(g===0&&(w??(w=o)),g<a?WX(o,w,u,A)&&k():j())}function D(){d==null||d(),x=i(O),x.start()}return s&&D(),{stop:()=>{h==null||h(),x.stop()}}}function TR(t,e){return e?t*(1e3/e):0}function GX({from:t=0,velocity:e=0,min:r,max:n,power:s=.8,timeConstant:i=750,bounceStiffness:o=500,bounceDamping:a=10,restDelta:c=1,modifyTarget:u,driver:d,onUpdate:h,onComplete:p,onStop:m}){let v;function b(w){return r!==void 0&&w<r||n!==void 0&&w>n}function y(w){return r===void 0?n:n===void 0||Math.abs(r-w)<Math.abs(n-w)?r:n}function x(w){v==null||v.stop(),v=ER(Object.assign(Object.assign({},w),{driver:d,onUpdate:I=>{var P;h==null||h(I),(P=w.onUpdate)===null||P===void 0||P.call(w,I)},onComplete:p,onStop:m}))}function g(w){x(Object.assign({type:"spring",stiffness:o,damping:a,restDelta:c},w))}if(b(t))g({from:t,velocity:e,to:y(t)});else{let w=s*e+t;typeof u<"u"&&(w=u(w));const I=y(w),P=I===r?-1:1;let A,S;const E=C=>{A=S,S=C,e=TR(C-A,UX().delta),(P===1&&C>I||P===-1&&C<I)&&g({from:C,to:I,velocity:e})};x({type:"decay",from:t,velocity:e,timeConstant:i,power:s,restDelta:c,modifyTarget:u,onUpdate:b(w)?E:void 0})}return{stop:()=>v==null?void 0:v.stop()}}const x1=t=>t.hasOwnProperty("x")&&t.hasOwnProperty("y"),A4=t=>x1(t)&&t.hasOwnProperty("z"),tm=(t,e)=>Math.abs(t-e);function CR(t,e){if(y1(t)&&y1(e))return tm(t,e);if(x1(t)&&x1(e)){const r=tm(t.x,e.x),n=tm(t.y,e.y),s=A4(t)&&A4(e)?tm(t.z,e.z):0;return Math.sqrt(Math.pow(r,2)+Math.pow(n,2)+Math.pow(s,2))}}const kR=(t,e)=>1-3*e+3*t,NR=(t,e)=>3*e-6*t,IR=t=>3*t,i0=(t,e,r)=>((kR(e,r)*t+NR(e,r))*t+IR(e))*t,PR=(t,e,r)=>3*kR(e,r)*t*t+2*NR(e,r)*t+IR(e),KX=1e-7,QX=10;function YX(t,e,r,n,s){let i,o,a=0;do o=e+(r-e)/2,i=i0(o,n,s)-t,i>0?r=o:e=o;while(Math.abs(i)>KX&&++a<QX);return o}const XX=8,JX=.001;function ZX(t,e,r,n){for(let s=0;s<XX;++s){const i=PR(e,r,n);if(i===0)return e;const o=i0(e,r,n)-t;e-=o/i}return e}const Gm=11,rm=1/(Gm-1);function eJ(t,e,r,n){if(t===e&&r===n)return _2;const s=new Float32Array(Gm);for(let o=0;o<Gm;++o)s[o]=i0(o*rm,t,r);function i(o){let a=0,c=1;const u=Gm-1;for(;c!==u&&s[c]<=o;++c)a+=rm;--c;const d=(o-s[c])/(s[c+1]-s[c]),h=a+d*rm,p=PR(h,t,r);return p>=JX?ZX(o,h,t,r):p===0?h:YX(o,a,a+rm,t,r)}return o=>o===0||o===1?o:i0(i(o),e,n)}function tJ(t){var e=t.onTap,r=t.onTapStart,n=t.onTapCancel,s=t.whileTap,i=t.visualElement,o=e||r||n||s,a=T.useRef(!1),c=T.useRef(null),u={passive:!(r||e||n||v)};function d(){var b;(b=c.current)===null||b===void 0||b.call(c),c.current=null}function h(){var b;return d(),a.current=!1,(b=i.animationState)===null||b===void 0||b.setActive(Et.Tap,!1),!cR()}function p(b,y){h()&&(uR(i.getInstance(),b.target)?e==null||e(b,y):n==null||n(b,y))}function m(b,y){h()&&(n==null||n(b,y))}function v(b,y){var x;d(),!a.current&&(a.current=!0,c.current=Ry(su(window,"pointerup",p,u),su(window,"pointercancel",m,u)),(x=i.animationState)===null||x===void 0||x.setActive(Et.Tap,!0),r==null||r(b,y))}r0(i,"pointerdown",o?v:void 0,u),b2(d)}var j4=new Set;function rJ(t,e,r){j4.has(e)||(console.warn(e),j4.add(e))}var w1=new WeakMap,mb=new WeakMap,nJ=function(t){var e;(e=w1.get(t.target))===null||e===void 0||e(t)},sJ=function(t){t.forEach(nJ)};function iJ(t){var e=t.root,r=pn(t,["root"]),n=e||document;mb.has(n)||mb.set(n,{});var s=mb.get(n),i=JSON.stringify(r);return s[i]||(s[i]=new IntersectionObserver(sJ,oe({root:e},r))),s[i]}function oJ(t,e,r){var n=iJ(e);return w1.set(t,r),n.observe(t),function(){w1.delete(t),n.unobserve(t)}}function aJ(t){var e=t.visualElement,r=t.whileInView,n=t.onViewportEnter,s=t.onViewportLeave,i=t.viewport,o=i===void 0?{}:i,a=T.useRef({hasEnteredView:!1,isInView:!1}),c=!!(r||n||s);o.once&&a.current.hasEnteredView&&(c=!1);var u=typeof IntersectionObserver>"u"?uJ:cJ;u(c,a.current,e,o)}var lJ={some:0,all:1};function cJ(t,e,r,n){var s=n.root,i=n.margin,o=n.amount,a=o===void 0?"some":o,c=n.once;T.useEffect(function(){if(t){var u={root:s==null?void 0:s.current,rootMargin:i,threshold:typeof a=="number"?a:lJ[a]},d=function(h){var p,m=h.isIntersecting;if(e.isInView!==m&&(e.isInView=m,!(c&&!m&&e.hasEnteredView))){m&&(e.hasEnteredView=!0),(p=r.animationState)===null||p===void 0||p.setActive(Et.InView,m);var v=r.getProps(),b=m?v.onViewportEnter:v.onViewportLeave;b==null||b(h)}};return oJ(r.getInstance(),u,d)}},[t,s,i,a])}function uJ(t,e,r,n){var s=n.fallback,i=s===void 0?!0:s;T.useEffect(function(){!t||!i||(l2!=="production"&&rJ(!1,"IntersectionObserver not available on this device. whileInView animations will trigger on mount."),requestAnimationFrame(function(){var o;e.hasEnteredView=!0;var a=r.getProps().onViewportEnter;a==null||a(null),(o=r.animationState)===null||o===void 0||o.setActive(Et.InView,!0)}))},[t])}var la=function(t){return function(e){return t(e),null}},dJ={inView:la(aJ),tap:la(tJ),focus:la($Y),hover:la(YY)},fJ=0,hJ=function(){return fJ++},AR=function(){return Kh(hJ)};function jR(){var t=T.useContext(Yu);if(t===null)return[!0,null];var e=t.isPresent,r=t.onExitComplete,n=t.register,s=AR();T.useEffect(function(){return n(s)},[]);var i=function(){return r==null?void 0:r(s)};return!e&&r?[!1,i]:[!0]}function pJ(){return mJ(T.useContext(Yu))}function mJ(t){return t===null?!0:t.isPresent}function RR(t,e){if(!Array.isArray(e))return!1;var r=e.length;if(r!==t.length)return!1;for(var n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}var o0=function(t){return t*1e3},gJ={linear:_2,easeIn:S2,easeInOut:vR,easeOut:wX,circIn:bR,circInOut:_X,circOut:E2,backIn:T2,backInOut:EX,backOut:SX,anticipate:TX,bounceIn:IX,bounceInOut:PX,bounceOut:s0},R4=function(t){if(Array.isArray(t)){Jg(t.length===4);var e=Gt(t,4),r=e[0],n=e[1],s=e[2],i=e[3];return eJ(r,n,s,i)}else if(typeof t=="string")return gJ[t];return t},yJ=function(t){return Array.isArray(t)&&typeof t[0]!="number"},D4=function(t,e){return t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&_o.test(e)&&!e.startsWith("url("))},Qa=function(){return{type:"spring",stiffness:500,damping:25,restSpeed:10}},nm=function(t){return{type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}},gb=function(){return{type:"keyframes",ease:"linear",duration:.3}},vJ=function(t){return{type:"keyframes",duration:.8,values:t}},O4={x:Qa,y:Qa,z:Qa,rotate:Qa,rotateX:Qa,rotateY:Qa,rotateZ:Qa,scaleX:nm,scaleY:nm,scale:nm,opacity:gb,backgroundColor:gb,color:gb,default:nm},bJ=function(t,e){var r;return dh(e)?r=vJ:r=O4[t]||O4.default,oe({to:e},r(e))},xJ=oe(oe({},q6),{color:nn,backgroundColor:nn,outlineColor:nn,fill:nn,stroke:nn,borderColor:nn,borderTopColor:nn,borderRightColor:nn,borderBottomColor:nn,borderLeftColor:nn,filter:p1,WebkitFilter:p1}),C2=function(t){return xJ[t]};function k2(t,e){var r,n=C2(t);return n!==p1&&(n=_o),(r=n.getAnimatableNone)===null||r===void 0?void 0:r.call(n,e)}function wJ(t){t.when,t.delay,t.delayChildren,t.staggerChildren,t.staggerDirection,t.repeat,t.repeatType,t.repeatDelay,t.from;var e=pn(t,["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from"]);return!!Object.keys(e).length}function _J(t){var e=t.ease,r=t.times,n=t.yoyo,s=t.flip,i=t.loop,o=pn(t,["ease","times","yoyo","flip","loop"]),a=oe({},o);return r&&(a.offset=r),o.duration&&(a.duration=o0(o.duration)),o.repeatDelay&&(a.repeatDelay=o0(o.repeatDelay)),e&&(a.ease=yJ(e)?e.map(R4):R4(e)),o.type==="tween"&&(a.type="keyframes"),(n||i||s)&&(n?a.repeatType="reverse":i?a.repeatType="loop":s&&(a.repeatType="mirror"),a.repeat=i||n||s||o.repeat),o.type!=="spring"&&(a.type="keyframes"),a}function SJ(t,e){var r,n,s=N2(t,e)||{};return(n=(r=s.delay)!==null&&r!==void 0?r:t.delay)!==null&&n!==void 0?n:0}function EJ(t){return Array.isArray(t.to)&&t.to[0]===null&&(t.to=zs([],Gt(t.to),!1),t.to[0]=t.from),t}function TJ(t,e,r){var n;return Array.isArray(e.to)&&((n=t.duration)!==null&&n!==void 0||(t.duration=.8)),EJ(e),wJ(t)||(t=oe(oe({},t),bJ(r,e.to))),oe(oe({},e),_J(t))}function CJ(t,e,r,n,s){var i,o=N2(n,t),a=(i=o.from)!==null&&i!==void 0?i:e.get(),c=D4(t,r);a==="none"&&c&&typeof r=="string"?a=k2(t,r):M4(a)&&typeof r=="string"?a=L4(r):!Array.isArray(r)&&M4(r)&&typeof a=="string"&&(r=L4(a));var u=D4(t,a);function d(){var p={from:a,to:r,velocity:e.getVelocity(),onComplete:s,onUpdate:function(m){return e.set(m)}};return o.type==="inertia"||o.type==="decay"?GX(oe(oe({},p),o)):ER(oe(oe({},TJ(o,p,t)),{onUpdate:function(m){var v;p.onUpdate(m),(v=o.onUpdate)===null||v===void 0||v.call(o,m)},onComplete:function(){var m;p.onComplete(),(m=o.onComplete)===null||m===void 0||m.call(o)}}))}function h(){var p,m,v=tR(r);return e.set(v),s(),(p=o==null?void 0:o.onUpdate)===null||p===void 0||p.call(o,v),(m=o==null?void 0:o.onComplete)===null||m===void 0||m.call(o),{stop:function(){}}}return!u||!c||o.type===!1?h:d}function M4(t){return t===0||typeof t=="string"&&parseFloat(t)===0&&t.indexOf(" ")===-1}function L4(t){return typeof t=="number"?0:k2("",t)}function N2(t,e){return t[e]||t.default||t}function I2(t,e,r,n){return n===void 0&&(n={}),e.start(function(s){var i,o,a=CJ(t,e,r,n,s),c=SJ(n,t),u=function(){return o=a()};return c?i=window.setTimeout(u,o0(c)):u(),function(){clearTimeout(i),o==null||o.stop()}})}var kJ=function(t){return/^\-?\d*\.?\d+$/.test(t)},NJ=function(t){return/^0[^.\s]+$/.test(t)};const DR=1/60*1e3,IJ=typeof performance<"u"?()=>performance.now():()=>Date.now(),OR=typeof window<"u"?t=>window.requestAnimationFrame(t):t=>setTimeout(()=>t(IJ()),DR);function PJ(t){let e=[],r=[],n=0,s=!1,i=!1;const o=new WeakSet,a={schedule:(c,u=!1,d=!1)=>{const h=d&&s,p=h?e:r;return u&&o.add(c),p.indexOf(c)===-1&&(p.push(c),h&&s&&(n=e.length)),c},cancel:c=>{const u=r.indexOf(c);u!==-1&&r.splice(u,1),o.delete(c)},process:c=>{if(s){i=!0;return}if(s=!0,[e,r]=[r,e],r.length=0,n=e.length,n)for(let u=0;u<n;u++){const d=e[u];d(c),o.has(d)&&(a.schedule(d),t())}s=!1,i&&(i=!1,a.process(c))}};return a}const AJ=40;let _1=!0,ph=!1,S1=!1;const ou={delta:0,timestamp:0},Zh=["read","update","preRender","render","postRender"],My=Zh.reduce((t,e)=>(t[e]=PJ(()=>ph=!0),t),{}),Ti=Zh.reduce((t,e)=>{const r=My[e];return t[e]=(n,s=!1,i=!1)=>(ph||RJ(),r.schedule(n,s,i)),t},{}),mh=Zh.reduce((t,e)=>(t[e]=My[e].cancel,t),{}),yb=Zh.reduce((t,e)=>(t[e]=()=>My[e].process(ou),t),{}),jJ=t=>My[t].process(ou),MR=t=>{ph=!1,ou.delta=_1?DR:Math.max(Math.min(t-ou.timestamp,AJ),1),ou.timestamp=t,S1=!0,Zh.forEach(jJ),S1=!1,ph&&(_1=!1,OR(MR))},RJ=()=>{ph=!0,_1=!0,S1||OR(MR)},E1=()=>ou;function P2(t,e){t.indexOf(e)===-1&&t.push(e)}function A2(t,e){var r=t.indexOf(e);r>-1&&t.splice(r,1)}var yf=function(){function t(){this.subscriptions=[]}return t.prototype.add=function(e){var r=this;return P2(this.subscriptions,e),function(){return A2(r.subscriptions,e)}},t.prototype.notify=function(e,r,n){var s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,r,n);else for(var i=0;i<s;i++){var o=this.subscriptions[i];o&&o(e,r,n)}},t.prototype.getSize=function(){return this.subscriptions.length},t.prototype.clear=function(){this.subscriptions.length=0},t}(),DJ=function(t){return!isNaN(parseFloat(t))},OJ=function(){function t(e){var r=this;this.version="6.5.1",this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new yf,this.velocityUpdateSubscribers=new yf,this.renderSubscribers=new yf,this.canTrackVelocity=!1,this.updateAndNotify=function(n,s){s===void 0&&(s=!0),r.prev=r.current,r.current=n;var i=E1(),o=i.delta,a=i.timestamp;r.lastUpdated!==a&&(r.timeDelta=o,r.lastUpdated=a,Ti.postRender(r.scheduleVelocityCheck)),r.prev!==r.current&&r.updateSubscribers.notify(r.current),r.velocityUpdateSubscribers.getSize()&&r.velocityUpdateSubscribers.notify(r.getVelocity()),s&&r.renderSubscribers.notify(r.current)},this.scheduleVelocityCheck=function(){return Ti.postRender(r.velocityCheck)},this.velocityCheck=function(n){var s=n.timestamp;s!==r.lastUpdated&&(r.prev=r.current,r.velocityUpdateSubscribers.notify(r.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=DJ(this.current)}return t.prototype.onChange=function(e){return this.updateSubscribers.add(e)},t.prototype.clearListeners=function(){this.updateSubscribers.clear()},t.prototype.onRenderRequest=function(e){return e(this.get()),this.renderSubscribers.add(e)},t.prototype.attach=function(e){this.passiveEffect=e},t.prototype.set=function(e,r){r===void 0&&(r=!0),!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)},t.prototype.get=function(){return this.current},t.prototype.getPrevious=function(){return this.prev},t.prototype.getVelocity=function(){return this.canTrackVelocity?TR(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0},t.prototype.start=function(e){var r=this;return this.stop(),new Promise(function(n){r.hasAnimated=!0,r.stopAnimation=e(n)}).then(function(){return r.clearAnimation()})},t.prototype.stop=function(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()},t.prototype.isAnimating=function(){return!!this.stopAnimation},t.prototype.clearAnimation=function(){this.stopAnimation=null},t.prototype.destroy=function(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()},t}();function Nu(t){return new OJ(t)}var LR=function(t){return function(e){return e.test(t)}},MJ={test:function(t){return t==="auto"},parse:function(t){return t}},FR=[Gl,ke,Ei,zo,hY,fY,MJ],xd=function(t){return FR.find(LR(t))},LJ=zs(zs([],Gt(FR),!1),[nn,_o],!1),FJ=function(t){return LJ.find(LR(t))};function VJ(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,Nu(r))}function $J(t,e){var r=Py(t,e),n=r?t.makeTargetAnimatable(r,!1):{},s=n.transitionEnd,i=s===void 0?{}:s;n.transition;var o=pn(n,["transitionEnd","transition"]);o=oe(oe({},o),i);for(var a in o){var c=tR(o[a]);VJ(t,a,c)}}function BJ(t,e,r){var n,s,i,o,a=Object.keys(e).filter(function(m){return!t.hasValue(m)}),c=a.length;if(c)for(var u=0;u<c;u++){var d=a[u],h=e[d],p=null;Array.isArray(h)&&(p=h[0]),p===null&&(p=(s=(n=r[d])!==null&&n!==void 0?n:t.readValue(d))!==null&&s!==void 0?s:e[d]),p!=null&&(typeof p=="string"&&(kJ(p)||NJ(p))?p=parseFloat(p):!FJ(p)&&_o.test(h)&&(p=k2(d,h)),t.addValue(d,Nu(p)),(i=(o=r)[d])!==null&&i!==void 0||(o[d]=p),t.setBaseTarget(d,p))}}function zJ(t,e){if(e){var r=e[t]||e.default||e;return r.from}}function UJ(t,e,r){var n,s,i={};for(var o in t)i[o]=(n=zJ(o,e))!==null&&n!==void 0?n:(s=r.getValue(o))===null||s===void 0?void 0:s.get();return i}function HJ(t,e,r){r===void 0&&(r={}),t.notifyAnimationStart(e);var n;if(Array.isArray(e)){var s=e.map(function(o){return T1(t,o,r)});n=Promise.all(s)}else if(typeof e=="string")n=T1(t,e,r);else{var i=typeof e=="function"?Py(t,e,r.custom):e;n=VR(t,i,r)}return n.then(function(){return t.notifyAnimationComplete(e)})}function T1(t,e,r){var n;r===void 0&&(r={});var s=Py(t,e,r.custom),i=(s||{}).transition,o=i===void 0?t.getDefaultTransition()||{}:i;r.transitionOverride&&(o=r.transitionOverride);var a=s?function(){return VR(t,s,r)}:function(){return Promise.resolve()},c=!((n=t.variantChildren)===null||n===void 0)&&n.size?function(m){m===void 0&&(m=0);var v=o.delayChildren,b=v===void 0?0:v,y=o.staggerChildren,x=o.staggerDirection;return WJ(t,e,b+m,y,x,r)}:function(){return Promise.resolve()},u=o.when;if(u){var d=Gt(u==="beforeChildren"?[a,c]:[c,a],2),h=d[0],p=d[1];return h().then(p)}else return Promise.all([a(),c(r.delay)])}function VR(t,e,r){var n,s=r===void 0?{}:r,i=s.delay,o=i===void 0?0:i,a=s.transitionOverride,c=s.type,u=t.makeTargetAnimatable(e),d=u.transition,h=d===void 0?t.getDefaultTransition():d,p=u.transitionEnd,m=pn(u,["transition","transitionEnd"]);a&&(h=a);var v=[],b=c&&((n=t.animationState)===null||n===void 0?void 0:n.getState()[c]);for(var y in m){var x=t.getValue(y),g=m[y];if(!(!x||g===void 0||b&&GJ(b,y))){var w=oe({delay:o},h);t.shouldReduceMotion&&Qh(y)&&(w=oe(oe({},w),{type:!1,delay:0}));var I=I2(y,x,g,w);v.push(I)}}return Promise.all(v).then(function(){p&&$J(t,p)})}function WJ(t,e,r,n,s,i){r===void 0&&(r=0),n===void 0&&(n=0),s===void 0&&(s=1);var o=[],a=(t.variantChildren.size-1)*n,c=s===1?function(u){return u===void 0&&(u=0),u*n}:function(u){return u===void 0&&(u=0),a-u*n};return Array.from(t.variantChildren).sort(qJ).forEach(function(u,d){o.push(T1(u,e,oe(oe({},i),{delay:r+c(d)})).then(function(){return u.notifyAnimationComplete(e)}))}),Promise.all(o)}function qJ(t,e){return t.sortNodePosition(e)}function GJ(t,e){var r=t.protectedKeys,n=t.needsAnimating,s=r.hasOwnProperty(e)&&n[e]!==!0;return n[e]=!1,s}var j2=[Et.Animate,Et.InView,Et.Focus,Et.Hover,Et.Tap,Et.Drag,Et.Exit],KJ=zs([],Gt(j2),!1).reverse(),QJ=j2.length;function YJ(t){return function(e){return Promise.all(e.map(function(r){var n=r.animation,s=r.options;return HJ(t,n,s)}))}}function XJ(t){var e=YJ(t),r=ZJ(),n={},s=!0,i=function(d,h){var p=Py(t,h);if(p){p.transition;var m=p.transitionEnd,v=pn(p,["transition","transitionEnd"]);d=oe(oe(oe({},d),v),m)}return d};function o(d){return n[d]!==void 0}function a(d){e=d(t)}function c(d,h){for(var p,m=t.getProps(),v=t.getVariantContext(!0)||{},b=[],y=new Set,x={},g=1/0,w=function(S){var E=KJ[S],C=r[E],k=(p=m[E])!==null&&p!==void 0?p:v[E],j=Ms(k),O=E===h?C.isActive:null;O===!1&&(g=S);var D=k===v[E]&&k!==m[E]&&j;if(D&&s&&t.manuallyAnimateOnMount&&(D=!1),C.protectedKeys=oe({},x),!C.isActive&&O===null||!k&&!C.prevProp||y2(k)||typeof k=="boolean")return"continue";var ue=JJ(C.prevProp,k),V=ue||E===h&&C.isActive&&!D&&j||S>g&&j,B=Array.isArray(k)?k:[k],G=B.reduce(i,{});O===!1&&(G={});var U=C.prevResolvedValues,Z=U===void 0?{}:U,re=oe(oe({},Z),G),me=function(ee){V=!0,y.delete(ee),C.needsAnimating[ee]=!0};for(var ae in re){var J=G[ae],X=Z[ae];x.hasOwnProperty(ae)||(J!==X?dh(J)&&dh(X)?!RR(J,X)||ue?me(ae):C.protectedKeys[ae]=!0:J!==void 0?me(ae):y.add(ae):J!==void 0&&y.has(ae)?me(ae):C.protectedKeys[ae]=!0)}C.prevProp=k,C.prevResolvedValues=G,C.isActive&&(x=oe(oe({},x),G)),s&&t.blockInitialAnimation&&(V=!1),V&&!D&&b.push.apply(b,zs([],Gt(B.map(function(ee){return{animation:ee,options:oe({type:E},d)}})),!1))},I=0;I<QJ;I++)w(I);if(n=oe({},x),y.size){var P={};y.forEach(function(S){var E=t.getBaseTarget(S);E!==void 0&&(P[S]=E)}),b.push({animation:P})}var A=!!b.length;return s&&m.initial===!1&&!t.manuallyAnimateOnMount&&(A=!1),s=!1,A?e(b):Promise.resolve()}function u(d,h,p){var m;if(r[d].isActive===h)return Promise.resolve();(m=t.variantChildren)===null||m===void 0||m.forEach(function(y){var x;return(x=y.animationState)===null||x===void 0?void 0:x.setActive(d,h)}),r[d].isActive=h;var v=c(p,d);for(var b in r)r[b].protectedKeys={};return v}return{isAnimated:o,animateChanges:c,setActive:u,setAnimateFunction:a,getState:function(){return r}}}function JJ(t,e){return typeof e=="string"?e!==t:j6(e)?!RR(e,t):!1}function Ya(t){return t===void 0&&(t=!1),{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ZJ(){var t;return t={},t[Et.Animate]=Ya(!0),t[Et.InView]=Ya(),t[Et.Hover]=Ya(),t[Et.Tap]=Ya(),t[Et.Drag]=Ya(),t[Et.Focus]=Ya(),t[Et.Exit]=Ya(),t}var eZ={animation:la(function(t){var e=t.visualElement,r=t.animate;e.animationState||(e.animationState=XJ(e)),y2(r)&&T.useEffect(function(){return r.subscribe(e)},[r])}),exit:la(function(t){var e=t.custom,r=t.visualElement,n=Gt(jR(),2),s=n[0],i=n[1],o=T.useContext(Yu);T.useEffect(function(){var a,c;r.isPresent=s;var u=(a=r.animationState)===null||a===void 0?void 0:a.setActive(Et.Exit,!s,{custom:(c=o==null?void 0:o.custom)!==null&&c!==void 0?c:e});!s&&(u==null||u.then(i))},[s])})},$R=function(){function t(e,r,n){var s=this,i=n===void 0?{}:n,o=i.transformPagePoint;if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(s.lastMoveEvent&&s.lastMoveEventInfo){var p=bb(s.lastMoveEventInfo,s.history),m=s.startEvent!==null,v=CR(p.offset,{x:0,y:0})>=3;if(!(!m&&!v)){var b=p.point,y=E1().timestamp;s.history.push(oe(oe({},b),{timestamp:y}));var x=s.handlers,g=x.onStart,w=x.onMove;m||(g&&g(s.lastMoveEvent,p),s.startEvent=s.lastMoveEvent),w&&w(s.lastMoveEvent,p)}}},this.handlePointerMove=function(p,m){if(s.lastMoveEvent=p,s.lastMoveEventInfo=vb(m,s.transformPagePoint),nR(p)&&p.buttons===0){s.handlePointerUp(p,m);return}Ti.update(s.updatePoint,!0)},this.handlePointerUp=function(p,m){s.end();var v=s.handlers,b=v.onEnd,y=v.onSessionEnd,x=bb(vb(m,s.transformPagePoint),s.history);s.startEvent&&b&&b(p,x),y&&y(p,x)},!(sR(e)&&e.touches.length>1)){this.handlers=r,this.transformPagePoint=o;var a=v2(e),c=vb(a,this.transformPagePoint),u=c.point,d=E1().timestamp;this.history=[oe(oe({},u),{timestamp:d})];var h=r.onSessionStart;h&&h(e,bb(c,this.history)),this.removeListeners=Ry(su(window,"pointermove",this.handlePointerMove),su(window,"pointerup",this.handlePointerUp),su(window,"pointercancel",this.handlePointerUp))}}return t.prototype.updateHandlers=function(e){this.handlers=e},t.prototype.end=function(){this.removeListeners&&this.removeListeners(),mh.update(this.updatePoint)},t}();function vb(t,e){return e?{point:e(t.point)}:t}function F4(t,e){return{x:t.x-e.x,y:t.y-e.y}}function bb(t,e){var r=t.point;return{point:r,delta:F4(r,BR(e)),offset:F4(r,tZ(e)),velocity:rZ(e,.1)}}function tZ(t){return t[0]}function BR(t){return t[t.length-1]}function rZ(t,e){if(t.length<2)return{x:0,y:0};for(var r=t.length-1,n=null,s=BR(t);r>=0&&(n=t[r],!(s.timestamp-n.timestamp>o0(e)));)r--;if(!n)return{x:0,y:0};var i=(s.timestamp-n.timestamp)/1e3;if(i===0)return{x:0,y:0};var o={x:(s.x-n.x)/i,y:(s.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function So(t){return t.max-t.min}function V4(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=.01),CR(t,e)<r}function $4(t,e,r,n){n===void 0&&(n=.5),t.origin=n,t.originPoint=qt(e.min,e.max,t.origin),t.scale=So(r)/So(e),(V4(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=qt(r.min,r.max,t.origin)-t.originPoint,(V4(t.translate)||isNaN(t.translate))&&(t.translate=0)}function vf(t,e,r,n){$4(t.x,e.x,r.x,n==null?void 0:n.originX),$4(t.y,e.y,r.y,n==null?void 0:n.originY)}function B4(t,e,r){t.min=r.min+e.min,t.max=t.min+So(e)}function nZ(t,e,r){B4(t.x,e.x,r.x),B4(t.y,e.y,r.y)}function z4(t,e,r){t.min=e.min-r.min,t.max=t.min+So(e)}function bf(t,e,r){z4(t.x,e.x,r.x),z4(t.y,e.y,r.y)}function sZ(t,e,r){var n=e.min,s=e.max;return n!==void 0&&t<n?t=r?qt(n,t,r.min):Math.max(t,n):s!==void 0&&t>s&&(t=r?qt(s,t,r.max):Math.min(t,s)),t}function U4(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function iZ(t,e){var r=e.top,n=e.left,s=e.bottom,i=e.right;return{x:U4(t.x,n,i),y:U4(t.y,r,s)}}function H4(t,e){var r,n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&(r=Gt([s,n],2),n=r[0],s=r[1]),{min:n,max:s}}function oZ(t,e){return{x:H4(t.x,e.x),y:H4(t.y,e.y)}}function aZ(t,e){var r=.5,n=So(t),s=So(e);return s>n?r=fh(e.min,e.max-n,t.min):n>s&&(r=fh(t.min,t.max-s,e.min)),n0(0,1,r)}function lZ(t,e){var r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}var C1=.35;function cZ(t){return t===void 0&&(t=C1),t===!1?t=0:t===!0&&(t=C1),{x:W4(t,"left","right"),y:W4(t,"top","bottom")}}function W4(t,e,r){return{min:q4(t,e),max:q4(t,r)}}function q4(t,e){var r;return typeof t=="number"?t:(r=t[e])!==null&&r!==void 0?r:0}var G4=function(){return{translate:0,scale:1,origin:0,originPoint:0}},xf=function(){return{x:G4(),y:G4()}},K4=function(){return{min:0,max:0}},qr=function(){return{x:K4(),y:K4()}};function oi(t){return[t("x"),t("y")]}function zR(t){var e=t.top,r=t.left,n=t.right,s=t.bottom;return{x:{min:r,max:n},y:{min:e,max:s}}}function uZ(t){var e=t.x,r=t.y;return{top:r.min,right:e.max,bottom:r.max,left:e.min}}function dZ(t,e){if(!e)return t;var r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function xb(t){return t===void 0||t===1}function UR(t){var e=t.scale,r=t.scaleX,n=t.scaleY;return!xb(e)||!xb(r)||!xb(n)}function Uo(t){return UR(t)||Q4(t.x)||Q4(t.y)||t.z||t.rotate||t.rotateX||t.rotateY}function Q4(t){return t&&t!=="0%"}function a0(t,e,r){var n=t-r,s=e*n;return r+s}function Y4(t,e,r,n,s){return s!==void 0&&(t=a0(t,s,n)),a0(t,r,n)+e}function k1(t,e,r,n,s){e===void 0&&(e=0),r===void 0&&(r=1),t.min=Y4(t.min,e,r,n,s),t.max=Y4(t.max,e,r,n,s)}function HR(t,e){var r=e.x,n=e.y;k1(t.x,r.translate,r.scale,r.originPoint),k1(t.y,n.translate,n.scale,n.originPoint)}function fZ(t,e,r,n){var s,i;n===void 0&&(n=!1);var o=r.length;if(o){e.x=e.y=1;for(var a,c,u=0;u<o;u++)a=r[u],c=a.projectionDelta,((i=(s=a.instance)===null||s===void 0?void 0:s.style)===null||i===void 0?void 0:i.display)!=="contents"&&(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&$c(t,{x:-a.scroll.x,y:-a.scroll.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,HR(t,c)),n&&Uo(a.latestValues)&&$c(t,a.latestValues))}}function Ko(t,e){t.min=t.min+e,t.max=t.max+e}function X4(t,e,r){var n=Gt(r,3),s=n[0],i=n[1],o=n[2],a=e[o]!==void 0?e[o]:.5,c=qt(t.min,t.max,a);k1(t,e[s],e[i],c,e.scale)}var hZ=["x","scaleX","originX"],pZ=["y","scaleY","originY"];function $c(t,e){X4(t.x,e,hZ),X4(t.y,e,pZ)}function WR(t,e){return zR(dZ(t.getBoundingClientRect(),e))}function mZ(t,e,r){var n=WR(t,r),s=e.scroll;return s&&(Ko(n.x,s.x),Ko(n.y,s.y)),n}var gZ=new WeakMap,yZ=function(){function t(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=qr(),this.visualElement=e}return t.prototype.start=function(e,r){var n=this,s=r===void 0?{}:r,i=s.snapToCursor,o=i===void 0?!1:i;if(this.visualElement.isPresent!==!1){var a=function(h){n.stopAnimation(),o&&n.snapToCursor(v2(h,"page").point)},c=function(h,p){var m,v=n.getProps(),b=v.drag,y=v.dragPropagation,x=v.onDragStart;b&&!y&&(n.openGlobalLock&&n.openGlobalLock(),n.openGlobalLock=lR(b),!n.openGlobalLock)||(n.isDragging=!0,n.currentDirection=null,n.resolveConstraints(),n.visualElement.projection&&(n.visualElement.projection.isAnimationBlocked=!0,n.visualElement.projection.target=void 0),oi(function(g){var w,I,P=n.getAxisMotionValue(g).get()||0;if(Ei.test(P)){var A=(I=(w=n.visualElement.projection)===null||w===void 0?void 0:w.layout)===null||I===void 0?void 0:I.actual[g];if(A){var S=So(A);P=S*(parseFloat(P)/100)}}n.originPoint[g]=P}),x==null||x(h,p),(m=n.visualElement.animationState)===null||m===void 0||m.setActive(Et.Drag,!0))},u=function(h,p){var m=n.getProps(),v=m.dragPropagation,b=m.dragDirectionLock,y=m.onDirectionLock,x=m.onDrag;if(!(!v&&!n.openGlobalLock)){var g=p.offset;if(b&&n.currentDirection===null){n.currentDirection=vZ(g),n.currentDirection!==null&&(y==null||y(n.currentDirection));return}n.updateAxis("x",p.point,g),n.updateAxis("y",p.point,g),n.visualElement.syncRender(),x==null||x(h,p)}},d=function(h,p){return n.stop(h,p)};this.panSession=new $R(e,{onSessionStart:a,onStart:c,onMove:u,onSessionEnd:d},{transformPagePoint:this.visualElement.getTransformPagePoint()})}},t.prototype.stop=function(e,r){var n=this.isDragging;if(this.cancel(),!!n){var s=r.velocity;this.startAnimation(s);var i=this.getProps().onDragEnd;i==null||i(e,r)}},t.prototype.cancel=function(){var e,r;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),(e=this.panSession)===null||e===void 0||e.end(),this.panSession=void 0;var n=this.getProps().dragPropagation;!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),(r=this.visualElement.animationState)===null||r===void 0||r.setActive(Et.Drag,!1)},t.prototype.updateAxis=function(e,r,n){var s=this.getProps().drag;if(!(!n||!sm(e,s,this.currentDirection))){var i=this.getAxisMotionValue(e),o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=sZ(o,this.constraints[e],this.elastic[e])),i.set(o)}},t.prototype.resolveConstraints=function(){var e=this,r=this.getProps(),n=r.dragConstraints,s=r.dragElastic,i=(this.visualElement.projection||{}).layout,o=this.constraints;n&&Vc(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=iZ(i.actual,n):this.constraints=!1,this.elastic=cZ(s),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&oi(function(a){e.getAxisMotionValue(a)&&(e.constraints[a]=lZ(i.actual[a],e.constraints[a]))})},t.prototype.resolveRefConstraints=function(){var e=this.getProps(),r=e.dragConstraints,n=e.onMeasureDragConstraints;if(!r||!Vc(r))return!1;var s=r.current,i=this.visualElement.projection;if(!i||!i.layout)return!1;var o=mZ(s,i.root,this.visualElement.getTransformPagePoint()),a=oZ(i.layout.actual,o);if(n){var c=n(uZ(a));this.hasMutatedConstraints=!!c,c&&(a=zR(c))}return a},t.prototype.startAnimation=function(e){var r=this,n=this.getProps(),s=n.drag,i=n.dragMomentum,o=n.dragElastic,a=n.dragTransition,c=n.dragSnapToOrigin,u=n.onDragTransitionEnd,d=this.constraints||{},h=oi(function(p){var m;if(sm(p,s,r.currentDirection)){var v=(m=d==null?void 0:d[p])!==null&&m!==void 0?m:{};c&&(v={min:0,max:0});var b=o?200:1e6,y=o?40:1e7,x=oe(oe({type:"inertia",velocity:i?e[p]:0,bounceStiffness:b,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10},a),v);return r.startAxisValueAnimation(p,x)}});return Promise.all(h).then(u)},t.prototype.startAxisValueAnimation=function(e,r){var n=this.getAxisMotionValue(e);return I2(e,n,0,r)},t.prototype.stopAnimation=function(){var e=this;oi(function(r){return e.getAxisMotionValue(r).stop()})},t.prototype.getAxisMotionValue=function(e){var r,n,s="_drag"+e.toUpperCase(),i=this.visualElement.getProps()[s];return i||this.visualElement.getValue(e,(n=(r=this.visualElement.getProps().initial)===null||r===void 0?void 0:r[e])!==null&&n!==void 0?n:0)},t.prototype.snapToCursor=function(e){var r=this;oi(function(n){var s=r.getProps().drag;if(sm(n,s,r.currentDirection)){var i=r.visualElement.projection,o=r.getAxisMotionValue(n);if(i&&i.layout){var a=i.layout.actual[n],c=a.min,u=a.max;o.set(e[n]-qt(c,u,.5))}}})},t.prototype.scalePositionWithinConstraints=function(){var e=this,r,n=this.getProps(),s=n.drag,i=n.dragConstraints,o=this.visualElement.projection;if(!(!Vc(i)||!o||!this.constraints)){this.stopAnimation();var a={x:0,y:0};oi(function(u){var d=e.getAxisMotionValue(u);if(d){var h=d.get();a[u]=aZ({min:h,max:h},e.constraints[u])}});var c=this.visualElement.getProps().transformTemplate;this.visualElement.getInstance().style.transform=c?c({},""):"none",(r=o.root)===null||r===void 0||r.updateScroll(),o.updateLayout(),this.resolveConstraints(),oi(function(u){if(sm(u,s,null)){var d=e.getAxisMotionValue(u),h=e.constraints[u],p=h.min,m=h.max;d.set(qt(p,m,a[u]))}})}},t.prototype.addListeners=function(){var e=this,r;gZ.set(this.visualElement,this);var n=this.visualElement.getInstance(),s=su(n,"pointerdown",function(u){var d=e.getProps(),h=d.drag,p=d.dragListener,m=p===void 0?!0:p;h&&m&&e.start(u)}),i=function(){var u=e.getProps().dragConstraints;Vc(u)&&(e.constraints=e.resolveRefConstraints())},o=this.visualElement.projection,a=o.addEventListener("measure",i);o&&!o.layout&&((r=o.root)===null||r===void 0||r.updateScroll(),o.updateLayout()),i();var c=jy(window,"resize",function(){return e.scalePositionWithinConstraints()});return o.addEventListener("didUpdate",function(u){var d=u.delta,h=u.hasLayoutChanged;e.isDragging&&h&&(oi(function(p){var m=e.getAxisMotionValue(p);m&&(e.originPoint[p]+=d[p].translate,m.set(m.get()+d[p].translate))}),e.visualElement.syncRender())}),function(){c(),s(),a()}},t.prototype.getProps=function(){var e=this.visualElement.getProps(),r=e.drag,n=r===void 0?!1:r,s=e.dragDirectionLock,i=s===void 0?!1:s,o=e.dragPropagation,a=o===void 0?!1:o,c=e.dragConstraints,u=c===void 0?!1:c,d=e.dragElastic,h=d===void 0?C1:d,p=e.dragMomentum,m=p===void 0?!0:p;return oe(oe({},e),{drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:u,dragElastic:h,dragMomentum:m})},t}();function sm(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function vZ(t,e){e===void 0&&(e=10);var r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}function bZ(t){var e=t.dragControls,r=t.visualElement,n=Kh(function(){return new yZ(r)});T.useEffect(function(){return e&&e.subscribe(n)},[n,e]),T.useEffect(function(){return n.addListeners()},[n])}function xZ(t){var e=t.onPan,r=t.onPanStart,n=t.onPanEnd,s=t.onPanSessionStart,i=t.visualElement,o=e||r||n||s,a=T.useRef(null),c=T.useContext(c2).transformPagePoint,u={onSessionStart:s,onStart:r,onMove:e,onEnd:function(h,p){a.current=null,n&&n(h,p)}};T.useEffect(function(){a.current!==null&&a.current.updateHandlers(u)});function d(h){a.current=new $R(h,u,{transformPagePoint:c})}r0(i,"pointerdown",o&&d),b2(function(){return a.current&&a.current.end()})}var wZ={pan:la(xZ),drag:la(bZ)},im=["LayoutMeasure","BeforeLayoutMeasure","LayoutUpdate","ViewportBoxUpdate","Update","Render","AnimationComplete","LayoutAnimationComplete","AnimationStart","LayoutAnimationStart","SetAxisTarget","Unmount"];function _Z(){var t=im.map(function(){return new yf}),e={},r={clearAllListeners:function(){return t.forEach(function(n){return n.clear()})},updatePropListeners:function(n){im.forEach(function(s){var i,o="on"+s,a=n[o];(i=e[s])===null||i===void 0||i.call(e),a&&(e[s]=r[o](a))})}};return t.forEach(function(n,s){r["on"+im[s]]=function(i){return n.add(i)},r["notify"+im[s]]=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return n.notify.apply(n,zs([],Gt(i),!1))}}),r}function SZ(t,e,r){var n;for(var s in e){var i=e[s],o=r[s];if(wo(i))t.addValue(s,i);else if(wo(o))t.addValue(s,Nu(i));else if(o!==i)if(t.hasValue(s)){var a=t.getValue(s);!a.hasAnimated&&a.set(i)}else t.addValue(s,Nu((n=t.getStaticValue(s))!==null&&n!==void 0?n:i))}for(var s in r)e[s]===void 0&&t.removeValue(s);return e}var qR=function(t){var e=t.treeType,r=e===void 0?"":e,n=t.build,s=t.getBaseTarget,i=t.makeTargetAnimatable,o=t.measureViewportBox,a=t.render,c=t.readValueFromInstance,u=t.removeValueFromRenderState,d=t.sortNodePosition,h=t.scrapeMotionValuesFromProps;return function(p,m){var v=p.parent,b=p.props,y=p.presenceId,x=p.blockInitialAnimation,g=p.visualState,w=p.shouldReduceMotion;m===void 0&&(m={});var I=!1,P=g.latestValues,A=g.renderState,S,E=_Z(),C=new Map,k=new Map,j={},O=oe({},P),D;function ue(){!S||!I||(V(),a(S,A,b.style,J.projection))}function V(){n(J,A,P,m,b)}function B(){E.notifyUpdate(P)}function G(X,ee){var we=ee.onChange(function(tt){P[X]=tt,b.onUpdate&&Ti.update(B,!1,!0)}),Le=ee.onRenderRequest(J.scheduleRender);k.set(X,function(){we(),Le()})}var U=h(b);for(var Z in U){var re=U[Z];P[Z]!==void 0&&wo(re)&&re.set(P[Z],!1)}var me=Ay(b),ae=D6(b),J=oe(oe({treeType:r,current:null,depth:v?v.depth+1:0,parent:v,children:new Set,presenceId:y,shouldReduceMotion:w,variantChildren:ae?new Set:void 0,isVisible:void 0,manuallyAnimateOnMount:!!(v!=null&&v.isMounted()),blockInitialAnimation:x,isMounted:function(){return!!S},mount:function(X){I=!0,S=J.current=X,J.projection&&J.projection.mount(X),ae&&v&&!me&&(D=v==null?void 0:v.addVariantChild(J)),C.forEach(function(ee,we){return G(we,ee)}),v==null||v.children.add(J),J.setProps(b)},unmount:function(){var X;(X=J.projection)===null||X===void 0||X.unmount(),mh.update(B),mh.render(ue),k.forEach(function(ee){return ee()}),D==null||D(),v==null||v.children.delete(J),E.clearAllListeners(),S=void 0,I=!1},addVariantChild:function(X){var ee,we=J.getClosestVariantNode();if(we)return(ee=we.variantChildren)===null||ee===void 0||ee.add(X),function(){return we.variantChildren.delete(X)}},sortNodePosition:function(X){return!d||r!==X.treeType?0:d(J.getInstance(),X.getInstance())},getClosestVariantNode:function(){return ae?J:v==null?void 0:v.getClosestVariantNode()},getLayoutId:function(){return b.layoutId},getInstance:function(){return S},getStaticValue:function(X){return P[X]},setStaticValue:function(X,ee){return P[X]=ee},getLatestValues:function(){return P},setVisibility:function(X){J.isVisible!==X&&(J.isVisible=X,J.scheduleRender())},makeTargetAnimatable:function(X,ee){return ee===void 0&&(ee=!0),i(J,X,b,ee)},measureViewportBox:function(){return o(S,b)},addValue:function(X,ee){J.hasValue(X)&&J.removeValue(X),C.set(X,ee),P[X]=ee.get(),G(X,ee)},removeValue:function(X){var ee;C.delete(X),(ee=k.get(X))===null||ee===void 0||ee(),k.delete(X),delete P[X],u(X,A)},hasValue:function(X){return C.has(X)},getValue:function(X,ee){var we=C.get(X);return we===void 0&&ee!==void 0&&(we=Nu(ee),J.addValue(X,we)),we},forEachValue:function(X){return C.forEach(X)},readValue:function(X){var ee;return(ee=P[X])!==null&&ee!==void 0?ee:c(S,X,m)},setBaseTarget:function(X,ee){O[X]=ee},getBaseTarget:function(X){if(s){var ee=s(b,X);if(ee!==void 0&&!wo(ee))return ee}return O[X]}},E),{build:function(){return V(),A},scheduleRender:function(){Ti.render(ue,!1,!0)},syncRender:ue,setProps:function(X){(X.transformTemplate||b.transformTemplate)&&J.scheduleRender(),b=X,E.updatePropListeners(X),j=SZ(J,h(b),j)},getProps:function(){return b},getVariant:function(X){var ee;return(ee=b.variants)===null||ee===void 0?void 0:ee[X]},getDefaultTransition:function(){return b.transition},getTransformPagePoint:function(){return b.transformPagePoint},getVariantContext:function(X){if(X===void 0&&(X=!1),X)return v==null?void 0:v.getVariantContext();if(!me){var ee=(v==null?void 0:v.getVariantContext())||{};return b.initial!==void 0&&(ee.initial=b.initial),ee}for(var we={},Le=0;Le<EZ;Le++){var tt=GR[Le],pr=b[tt];(Ms(pr)||pr===!1)&&(we[tt]=pr)}return we}});return J}},GR=zs(["initial"],Gt(j2),!1),EZ=GR.length;function N1(t){return typeof t=="string"&&t.startsWith("var(--")}var KR=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function TZ(t){var e=KR.exec(t);if(!e)return[,];var r=Gt(e,3),n=r[1],s=r[2];return[n,s]}function I1(t,e,r){var n=Gt(TZ(t),2),s=n[0],i=n[1];if(s){var o=window.getComputedStyle(e).getPropertyValue(s);return o?o.trim():N1(i)?I1(i,e):i}}function CZ(t,e,r){var n,s=pn(e,[]),i=t.getInstance();if(!(i instanceof Element))return{target:s,transitionEnd:r};r&&(r=oe({},r)),t.forEachValue(function(u){var d=u.get();if(N1(d)){var h=I1(d,i);h&&u.set(h)}});for(var o in s){var a=s[o];if(N1(a)){var c=I1(a,i);c&&(s[o]=c,r&&((n=r[o])!==null&&n!==void 0||(r[o]=a)))}}return{target:s,transitionEnd:r}}var kZ=new Set(["width","height","top","left","right","bottom","x","y"]),QR=function(t){return kZ.has(t)},NZ=function(t){return Object.keys(t).some(QR)},YR=function(t,e){t.set(e,!1),t.set(e)},J4=function(t){return t===Gl||t===ke},Z4;(function(t){t.width="width",t.height="height",t.left="left",t.right="right",t.top="top",t.bottom="bottom"})(Z4||(Z4={}));var eC=function(t,e){return parseFloat(t.split(", ")[e])},tC=function(t,e){return function(r,n){var s=n.transform;if(s==="none"||!s)return 0;var i=s.match(/^matrix3d\((.+)\)$/);if(i)return eC(i[1],e);var o=s.match(/^matrix\((.+)\)$/);return o?eC(o[1],t):0}},IZ=new Set(["x","y","z"]),PZ=ch.filter(function(t){return!IZ.has(t)});function AZ(t){var e=[];return PZ.forEach(function(r){var n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e.length&&t.syncRender(),e}var rC={width:function(t,e){var r=t.x,n=e.paddingLeft,s=n===void 0?"0":n,i=e.paddingRight,o=i===void 0?"0":i;return r.max-r.min-parseFloat(s)-parseFloat(o)},height:function(t,e){var r=t.y,n=e.paddingTop,s=n===void 0?"0":n,i=e.paddingBottom,o=i===void 0?"0":i;return r.max-r.min-parseFloat(s)-parseFloat(o)},top:function(t,e){var r=e.top;return parseFloat(r)},left:function(t,e){var r=e.left;return parseFloat(r)},bottom:function(t,e){var r=t.y,n=e.top;return parseFloat(n)+(r.max-r.min)},right:function(t,e){var r=t.x,n=e.left;return parseFloat(n)+(r.max-r.min)},x:tC(4,13),y:tC(5,14)},jZ=function(t,e,r){var n=e.measureViewportBox(),s=e.getInstance(),i=getComputedStyle(s),o=i.display,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),r.forEach(function(u){a[u]=rC[u](n,i)}),e.syncRender();var c=e.measureViewportBox();return r.forEach(function(u){var d=e.getValue(u);YR(d,a[u]),t[u]=rC[u](c,i)}),t},RZ=function(t,e,r,n){r===void 0&&(r={}),n===void 0&&(n={}),e=oe({},e),n=oe({},n);var s=Object.keys(e).filter(QR),i=[],o=!1,a=[];if(s.forEach(function(d){var h=t.getValue(d);if(t.hasValue(d)){var p=r[d],m=xd(p),v=e[d],b;if(dh(v)){var y=v.length,x=v[0]===null?1:0;p=v[x],m=xd(p);for(var g=x;g<y;g++)b?Jg(xd(v[g])===b):b=xd(v[g])}else b=xd(v);if(m!==b)if(J4(m)&&J4(b)){var w=h.get();typeof w=="string"&&h.set(parseFloat(w)),typeof v=="string"?e[d]=parseFloat(v):Array.isArray(v)&&b===ke&&(e[d]=v.map(parseFloat))}else m!=null&&m.transform&&(b!=null&&b.transform)&&(p===0||v===0)?p===0?h.set(b.transform(p)):e[d]=m.transform(v):(o||(i=AZ(t),o=!0),a.push(d),n[d]=n[d]!==void 0?n[d]:e[d],YR(h,v))}}),a.length){var c=a.indexOf("height")>=0?window.pageYOffset:null,u=jZ(e,t,a);return i.length&&i.forEach(function(d){var h=Gt(d,2),p=h[0],m=h[1];t.getValue(p).set(m)}),t.syncRender(),c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:n}}else return{target:e,transitionEnd:n}};function DZ(t,e,r,n){return NZ(e)?RZ(t,e,r,n):{target:e,transitionEnd:n}}var OZ=function(t,e,r,n){var s=CZ(t,e,n);return e=s.target,n=s.transitionEnd,DZ(t,e,r,n)};function MZ(t){return window.getComputedStyle(t)}var XR={treeType:"dom",readValueFromInstance:function(t,e){if(Qh(e)){var r=C2(e);return r&&r.default||0}else{var n=MZ(t);return(F6(e)?n.getPropertyValue(e):n[e])||0}},sortNodePosition:function(t,e){return t.compareDocumentPosition(e)&2?1:-1},getBaseTarget:function(t,e){var r;return(r=t.style)===null||r===void 0?void 0:r[e]},measureViewportBox:function(t,e){var r=e.transformPagePoint;return WR(t,r)},resetTransform:function(t,e,r){var n=r.transformTemplate;e.style.transform=n?n({},""):"none",t.scheduleRender()},restoreTransform:function(t,e){t.style.transform=e.style.transform},removeValueFromRenderState:function(t,e){var r=e.vars,n=e.style;delete r[t],delete n[t]},makeTargetAnimatable:function(t,e,r,n){var s=r.transformValues;n===void 0&&(n=!0);var i=e.transition,o=e.transitionEnd,a=pn(e,["transition","transitionEnd"]),c=UJ(a,i||{},t);if(s&&(o&&(o=s(o)),a&&(a=s(a)),c&&(c=s(c))),n){BJ(t,a,c);var u=OZ(t,a,c,o);o=u.transitionEnd,a=u.target}return oe({transition:i,transitionEnd:o},a)},scrapeMotionValuesFromProps:g2,build:function(t,e,r,n,s){t.isVisible!==void 0&&(e.style.visibility=t.isVisible?"visible":"hidden"),h2(e,r,n,s.transformTemplate)},render:X6},LZ=qR(XR),FZ=qR(oe(oe({},XR),{getBaseTarget:function(t,e){return t[e]},readValueFromInstance:function(t,e){var r;return Qh(e)?((r=C2(e))===null||r===void 0?void 0:r.default)||0:(e=J6.has(e)?e:Y6(e),t.getAttribute(e))},scrapeMotionValuesFromProps:eR,build:function(t,e,r,n,s){m2(e,r,n,s.transformTemplate)},render:Z6})),VZ=function(t,e){return d2(t)?FZ(e,{enableHardwareAcceleration:!1}):LZ(e,{enableHardwareAcceleration:!0})};function nC(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}var wd={correct:function(t,e){if(!e.target)return t;if(typeof t=="string")if(ke.test(t))t=parseFloat(t);else return t;var r=nC(t,e.target.x),n=nC(t,e.target.y);return"".concat(r,"% ").concat(n,"%")}},sC="_$css",$Z={correct:function(t,e){var r=e.treeScale,n=e.projectionDelta,s=t,i=t.includes("var("),o=[];i&&(t=t.replace(KR,function(b){return o.push(b),sC}));var a=_o.parse(t);if(a.length>5)return s;var c=_o.createTransformer(t),u=typeof a[0]!="number"?1:0,d=n.x.scale*r.x,h=n.y.scale*r.y;a[0+u]/=d,a[1+u]/=h;var p=qt(d,h,.5);typeof a[2+u]=="number"&&(a[2+u]/=p),typeof a[3+u]=="number"&&(a[3+u]/=p);var m=c(a);if(i){var v=0;m=m.replace(sC,function(){var b=o[v];return v++,b})}return m}},BZ=function(t){AP(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.componentDidMount=function(){var r=this,n=this.props,s=n.visualElement,i=n.layoutGroup,o=n.switchLayoutGroup,a=n.layoutId,c=s.projection;rY(UZ),c&&(i!=null&&i.group&&i.group.add(c),o!=null&&o.register&&a&&o.register(c),c.root.didUpdate(),c.addEventListener("animationComplete",function(){r.safeToRemove()}),c.setOptions(oe(oe({},c.options),{onExitComplete:function(){return r.safeToRemove()}}))),pf.hasEverUpdated=!0},e.prototype.getSnapshotBeforeUpdate=function(r){var n=this,s=this.props,i=s.layoutDependency,o=s.visualElement,a=s.drag,c=s.isPresent,u=o.projection;return u&&(u.isPresent=c,a||r.layoutDependency!==i||i===void 0?u.willUpdate():this.safeToRemove(),r.isPresent!==c&&(c?u.promote():u.relegate()||Ti.postRender(function(){var d;!((d=u.getStack())===null||d===void 0)&&d.members.length||n.safeToRemove()}))),null},e.prototype.componentDidUpdate=function(){var r=this.props.visualElement.projection;r&&(r.root.didUpdate(),!r.currentAnimation&&r.isLead()&&this.safeToRemove())},e.prototype.componentWillUnmount=function(){var r=this.props,n=r.visualElement,s=r.layoutGroup,i=r.switchLayoutGroup,o=n.projection;o&&(o.scheduleCheckAfterUnmount(),s!=null&&s.group&&s.group.remove(o),i!=null&&i.deregister&&i.deregister(o))},e.prototype.safeToRemove=function(){var r=this.props.safeToRemove;r==null||r()},e.prototype.render=function(){return null},e}(Ve.Component);function zZ(t){var e=Gt(jR(),2),r=e[0],n=e[1],s=T.useContext(u2);return Ve.createElement(BZ,oe({},t,{layoutGroup:s,switchLayoutGroup:T.useContext(O6),isPresent:r,safeToRemove:n}))}var UZ={borderRadius:oe(oe({},wd),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:wd,borderTopRightRadius:wd,borderBottomLeftRadius:wd,borderBottomRightRadius:wd,boxShadow:$Z},HZ={measureLayout:zZ};function WZ(t,e,r){r===void 0&&(r={});var n=wo(t)?t:Nu(t);return I2("",n,e,r),{stop:function(){return n.stop()},isAnimating:function(){return n.isAnimating()}}}var JR=["TopLeft","TopRight","BottomLeft","BottomRight"],qZ=JR.length,iC=function(t){return typeof t=="string"?parseFloat(t):t},oC=function(t){return typeof t=="number"||ke.test(t)};function GZ(t,e,r,n,s,i){var o,a,c,u;s?(t.opacity=qt(0,(o=r.opacity)!==null&&o!==void 0?o:1,KZ(n)),t.opacityExit=qt((a=e.opacity)!==null&&a!==void 0?a:1,0,QZ(n))):i&&(t.opacity=qt((c=e.opacity)!==null&&c!==void 0?c:1,(u=r.opacity)!==null&&u!==void 0?u:1,n));for(var d=0;d<qZ;d++){var h="border".concat(JR[d],"Radius"),p=aC(e,h),m=aC(r,h);if(!(p===void 0&&m===void 0)){p||(p=0),m||(m=0);var v=p===0||m===0||oC(p)===oC(m);v?(t[h]=Math.max(qt(iC(p),iC(m),n),0),(Ei.test(m)||Ei.test(p))&&(t[h]+="%")):t[h]=m}}(e.rotate||r.rotate)&&(t.rotate=qt(e.rotate||0,r.rotate||0,n))}function aC(t,e){var r;return(r=t[e])!==null&&r!==void 0?r:t.borderRadius}var KZ=ZR(0,.5,E2),QZ=ZR(.5,.95,_2);function ZR(t,e,r){return function(n){return n<t?0:n>e?1:r(fh(t,e,n))}}function lC(t,e){t.min=e.min,t.max=e.max}function js(t,e){lC(t.x,e.x),lC(t.y,e.y)}function cC(t,e,r,n,s){return t-=e,t=a0(t,1/r,n),s!==void 0&&(t=a0(t,1/s,n)),t}function YZ(t,e,r,n,s,i,o){if(e===void 0&&(e=0),r===void 0&&(r=1),n===void 0&&(n=.5),i===void 0&&(i=t),o===void 0&&(o=t),Ei.test(e)){e=parseFloat(e);var a=qt(o.min,o.max,e/100);e=a-o.min}if(typeof e=="number"){var c=qt(i.min,i.max,n);t===i&&(c-=e),t.min=cC(t.min,e,r,c,s),t.max=cC(t.max,e,r,c,s)}}function uC(t,e,r,n,s){var i=Gt(r,3),o=i[0],a=i[1],c=i[2];YZ(t,e[o],e[a],e[c],e.scale,n,s)}var XZ=["x","scaleX","originX"],JZ=["y","scaleY","originY"];function dC(t,e,r,n){uC(t.x,e,XZ,r==null?void 0:r.x,n==null?void 0:n.x),uC(t.y,e,JZ,r==null?void 0:r.y,n==null?void 0:n.y)}function fC(t){return t.translate===0&&t.scale===1}function e3(t){return fC(t.x)&&fC(t.y)}function t3(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}var ZZ=function(){function t(){this.members=[]}return t.prototype.add=function(e){P2(this.members,e),e.scheduleRender()},t.prototype.remove=function(e){if(A2(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){var r=this.members[this.members.length-1];r&&this.promote(r)}},t.prototype.relegate=function(e){var r=this.members.findIndex(function(o){return e===o});if(r===0)return!1;for(var n,s=r;s>=0;s--){var i=this.members[s];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1},t.prototype.promote=function(e,r){var n,s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,r&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues,e.snapshot.isShared=!0),!((n=e.root)===null||n===void 0)&&n.isUpdating&&(e.isLayoutDirty=!0);var i=e.options.crossfade;i===!1&&s.hide()}},t.prototype.exitAnimationComplete=function(){this.members.forEach(function(e){var r,n,s,i,o;(n=(r=e.options).onExitComplete)===null||n===void 0||n.call(r),(o=(s=e.resumingFrom)===null||s===void 0?void 0:(i=s.options).onExitComplete)===null||o===void 0||o.call(i)})},t.prototype.scheduleRender=function(){this.members.forEach(function(e){e.instance&&e.scheduleRender(!1)})},t.prototype.removeLeadSnapshot=function(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)},t}(),eee="translate3d(0px, 0px, 0) scale(1, 1) scale(1, 1)";function hC(t,e,r){var n=t.x.translate/e.x,s=t.y.translate/e.y,i="translate3d(".concat(n,"px, ").concat(s,"px, 0) ");if(i+="scale(".concat(1/e.x,", ").concat(1/e.y,") "),r){var o=r.rotate,a=r.rotateX,c=r.rotateY;o&&(i+="rotate(".concat(o,"deg) ")),a&&(i+="rotateX(".concat(a,"deg) ")),c&&(i+="rotateY(".concat(c,"deg) "))}var u=t.x.scale*e.x,d=t.y.scale*e.y;return i+="scale(".concat(u,", ").concat(d,")"),i===eee?"none":i}var tee=function(t,e){return t.depth-e.depth},ree=function(){function t(){this.children=[],this.isDirty=!1}return t.prototype.add=function(e){P2(this.children,e),this.isDirty=!0},t.prototype.remove=function(e){A2(this.children,e),this.isDirty=!0},t.prototype.forEach=function(e){this.isDirty&&this.children.sort(tee),this.isDirty=!1,this.children.forEach(e)},t}(),pC=1e3;function r3(t){var e=t.attachResizeListener,r=t.defaultParent,n=t.measureScroll,s=t.checkIsScrollRoot,i=t.resetTransform;return function(){function o(a,c,u){var d=this;c===void 0&&(c={}),u===void 0&&(u=r==null?void 0:r()),this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=function(){d.isUpdating&&(d.isUpdating=!1,d.clearAllSnapshots())},this.updateProjection=function(){d.nodes.forEach(lee),d.nodes.forEach(cee)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.id=a,this.latestValues=c,this.root=u?u.root||u:this,this.path=u?zs(zs([],Gt(u.path),!1),[u],!1):[],this.parent=u,this.depth=u?u.depth+1:0,a&&this.root.registerPotentialNode(a,this);for(var h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new ree)}return o.prototype.addEventListener=function(a,c){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new yf),this.eventHandlers.get(a).add(c)},o.prototype.notifyListeners=function(a){for(var c=[],u=1;u<arguments.length;u++)c[u-1]=arguments[u];var d=this.eventHandlers.get(a);d==null||d.notify.apply(d,zs([],Gt(c),!1))},o.prototype.hasListeners=function(a){return this.eventHandlers.has(a)},o.prototype.registerPotentialNode=function(a,c){this.potentialNodes.set(a,c)},o.prototype.mount=function(a,c){var u=this,d;if(c===void 0&&(c=!1),!this.instance){this.isSVG=a instanceof SVGElement&&a.tagName!=="svg",this.instance=a;var h=this.options,p=h.layoutId,m=h.layout,v=h.visualElement;if(v&&!v.getInstance()&&v.mount(a),this.root.nodes.add(this),(d=this.parent)===null||d===void 0||d.children.add(this),this.id&&this.root.potentialNodes.delete(this.id),c&&(m||p)&&(this.isLayoutDirty=!0),e){var b,y=function(){return u.root.updateBlockedByResize=!1};e(a,function(){u.root.updateBlockedByResize=!0,clearTimeout(b),b=window.setTimeout(y,250),pf.hasAnimatedSinceResize&&(pf.hasAnimatedSinceResize=!1,u.nodes.forEach(aee))})}p&&this.root.registerSharedNode(p,this),this.options.animate!==!1&&v&&(p||m)&&this.addEventListener("didUpdate",function(x){var g,w,I,P,A,S=x.delta,E=x.hasLayoutChanged,C=x.hasRelativeTargetChanged,k=x.layout;if(u.isTreeAnimationBlocked()){u.target=void 0,u.relativeTarget=void 0;return}var j=(w=(g=u.options.transition)!==null&&g!==void 0?g:v.getDefaultTransition())!==null&&w!==void 0?w:pee,O=v.getProps(),D=O.onLayoutAnimationStart,ue=O.onLayoutAnimationComplete,V=!u.targetLayout||!t3(u.targetLayout,k)||C,B=!E&&C;if(!((I=u.resumeFrom)===null||I===void 0)&&I.instance||B||E&&(V||!u.currentAnimation)){u.resumeFrom&&(u.resumingFrom=u.resumeFrom,u.resumingFrom.resumingFrom=void 0),u.setAnimationOrigin(S,B);var G=oe(oe({},N2(j,"layout")),{onPlay:D,onComplete:ue});v.shouldReduceMotion&&(G.delay=0,G.type=!1),u.startAnimation(G)}else!E&&u.animationProgress===0&&u.finishAnimation(),u.isLead()&&((A=(P=u.options).onExitComplete)===null||A===void 0||A.call(P));u.targetLayout=k})}},o.prototype.unmount=function(){var a,c;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),(a=this.getStack())===null||a===void 0||a.remove(this),(c=this.parent)===null||c===void 0||c.children.delete(this),this.instance=void 0,mh.preRender(this.updateProjection)},o.prototype.blockUpdate=function(){this.updateManuallyBlocked=!0},o.prototype.unblockUpdate=function(){this.updateManuallyBlocked=!1},o.prototype.isUpdateBlocked=function(){return this.updateManuallyBlocked||this.updateBlockedByResize},o.prototype.isTreeAnimationBlocked=function(){var a;return this.isAnimationBlocked||((a=this.parent)===null||a===void 0?void 0:a.isTreeAnimationBlocked())||!1},o.prototype.startUpdate=function(){var a;this.isUpdateBlocked()||(this.isUpdating=!0,(a=this.nodes)===null||a===void 0||a.forEach(uee))},o.prototype.willUpdate=function(a){var c,u,d;if(a===void 0&&(a=!0),this.root.isUpdateBlocked()){(u=(c=this.options).onExitComplete)===null||u===void 0||u.call(c);return}if(!this.root.isUpdating&&this.root.startUpdate(),!this.isLayoutDirty){this.isLayoutDirty=!0;for(var h=0;h<this.path.length;h++){var p=this.path[h];p.shouldResetTransform=!0,p.updateScroll()}var m=this.options,v=m.layoutId,b=m.layout;if(!(v===void 0&&!b)){var y=(d=this.options.visualElement)===null||d===void 0?void 0:d.getProps().transformTemplate;this.prevTransformTemplateValue=y==null?void 0:y(this.latestValues,""),this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}}},o.prototype.didUpdate=function(){var a=this.isUpdateBlocked();if(a){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(mC);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(mee),this.potentialNodes.clear()),this.nodes.forEach(oee),this.nodes.forEach(nee),this.nodes.forEach(see),this.clearAllSnapshots(),yb.update(),yb.preRender(),yb.render())},o.prototype.clearAllSnapshots=function(){this.nodes.forEach(iee),this.sharedNodes.forEach(dee)},o.prototype.scheduleUpdateProjection=function(){Ti.preRender(this.updateProjection,!1,!0)},o.prototype.scheduleCheckAfterUnmount=function(){var a=this;Ti.postRender(function(){a.isLayoutDirty?a.root.didUpdate():a.root.checkUpdateFailed()})},o.prototype.updateSnapshot=function(){if(!(this.snapshot||!this.instance)){var a=this.measure(),c=this.removeTransform(this.removeElementScroll(a));bC(c),this.snapshot={measured:a,layout:c,latestValues:{}}}},o.prototype.updateLayout=function(){var a;if(this.instance&&(this.updateScroll(),!(!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))){if(this.resumeFrom&&!this.resumeFrom.instance)for(var c=0;c<this.path.length;c++){var u=this.path[c];u.updateScroll()}var d=this.measure();bC(d);var h=this.layout;this.layout={measured:d,actual:this.removeElementScroll(d)},this.layoutCorrected=qr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.actual),(a=this.options.visualElement)===null||a===void 0||a.notifyLayoutMeasure(this.layout.actual,h==null?void 0:h.actual)}},o.prototype.updateScroll=function(){this.options.layoutScroll&&this.instance&&(this.isScrollRoot=s(this.instance),this.scroll=n(this.instance))},o.prototype.resetTransform=function(){var a;if(i){var c=this.isLayoutDirty||this.shouldResetTransform,u=this.projectionDelta&&!e3(this.projectionDelta),d=(a=this.options.visualElement)===null||a===void 0?void 0:a.getProps().transformTemplate,h=d==null?void 0:d(this.latestValues,""),p=h!==this.prevTransformTemplateValue;c&&(u||Uo(this.latestValues)||p)&&(i(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}},o.prototype.measure=function(){var a=this.options.visualElement;if(!a)return qr();var c=a.measureViewportBox(),u=this.root.scroll;return u&&(Ko(c.x,u.x),Ko(c.y,u.y)),c},o.prototype.removeElementScroll=function(a){var c=qr();js(c,a);for(var u=0;u<this.path.length;u++){var d=this.path[u],h=d.scroll,p=d.options,m=d.isScrollRoot;if(d!==this.root&&h&&p.layoutScroll){if(m){js(c,a);var v=this.root.scroll;v&&(Ko(c.x,-v.x),Ko(c.y,-v.y))}Ko(c.x,h.x),Ko(c.y,h.y)}}return c},o.prototype.applyTransform=function(a,c){c===void 0&&(c=!1);var u=qr();js(u,a);for(var d=0;d<this.path.length;d++){var h=this.path[d];!c&&h.options.layoutScroll&&h.scroll&&h!==h.root&&$c(u,{x:-h.scroll.x,y:-h.scroll.y}),Uo(h.latestValues)&&$c(u,h.latestValues)}return Uo(this.latestValues)&&$c(u,this.latestValues),u},o.prototype.removeTransform=function(a){var c,u=qr();js(u,a);for(var d=0;d<this.path.length;d++){var h=this.path[d];if(h.instance&&Uo(h.latestValues)){UR(h.latestValues)&&h.updateSnapshot();var p=qr(),m=h.measure();js(p,m),dC(u,h.latestValues,(c=h.snapshot)===null||c===void 0?void 0:c.layout,p)}}return Uo(this.latestValues)&&dC(u,this.latestValues),u},o.prototype.setTargetDelta=function(a){this.targetDelta=a,this.root.scheduleUpdateProjection()},o.prototype.setOptions=function(a){var c;this.options=oe(oe(oe({},this.options),a),{crossfade:(c=a.crossfade)!==null&&c!==void 0?c:!0})},o.prototype.clearMeasurements=function(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1},o.prototype.resolveTargetDelta=function(){var a,c=this.options,u=c.layout,d=c.layoutId;!this.layout||!(u||d)||(!this.targetDelta&&!this.relativeTarget&&(this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&this.relativeParent.layout&&(this.relativeTarget=qr(),this.relativeTargetOrigin=qr(),bf(this.relativeTargetOrigin,this.layout.actual,this.relativeParent.layout.actual),js(this.relativeTarget,this.relativeTargetOrigin))),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=qr(),this.targetWithTransforms=qr()),this.relativeTarget&&this.relativeTargetOrigin&&(!((a=this.relativeParent)===null||a===void 0)&&a.target)?nZ(this.target,this.relativeTarget,this.relativeParent.target):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.actual):js(this.target,this.layout.actual),HR(this.target,this.targetDelta)):js(this.target,this.layout.actual),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&!!this.relativeParent.resumingFrom==!!this.resumingFrom&&!this.relativeParent.options.layoutScroll&&this.relativeParent.target&&(this.relativeTarget=qr(),this.relativeTargetOrigin=qr(),bf(this.relativeTargetOrigin,this.target,this.relativeParent.target),js(this.relativeTarget,this.relativeTargetOrigin)))))},o.prototype.getClosestProjectingParent=function(){if(!(!this.parent||Uo(this.parent.latestValues)))return(this.parent.relativeTarget||this.parent.targetDelta)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()},o.prototype.calcProjection=function(){var a,c=this.options,u=c.layout,d=c.layoutId;if(this.isTreeAnimating=!!(!((a=this.parent)===null||a===void 0)&&a.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!(!this.layout||!(u||d))){var h=this.getLead();js(this.layoutCorrected,this.layout.actual),fZ(this.layoutCorrected,this.treeScale,this.path,!!this.resumingFrom||this!==h);var p=h.target;if(p){this.projectionDelta||(this.projectionDelta=xf(),this.projectionDeltaWithTransform=xf());var m=this.treeScale.x,v=this.treeScale.y,b=this.projectionTransform;vf(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=hC(this.projectionDelta,this.treeScale),(this.projectionTransform!==b||this.treeScale.x!==m||this.treeScale.y!==v)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}}},o.prototype.hide=function(){this.isVisible=!1},o.prototype.show=function(){this.isVisible=!0},o.prototype.scheduleRender=function(a){var c,u,d;a===void 0&&(a=!0),(u=(c=this.options).scheduleRender)===null||u===void 0||u.call(c),a&&((d=this.getStack())===null||d===void 0||d.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)},o.prototype.setAnimationOrigin=function(a,c){var u=this,d;c===void 0&&(c=!1);var h=this.snapshot,p=(h==null?void 0:h.latestValues)||{},m=oe({},this.latestValues),v=xf();this.relativeTarget=this.relativeTargetOrigin=void 0,this.attemptToResolveRelativeTarget=!c;var b=qr(),y=h==null?void 0:h.isShared,x=(((d=this.getStack())===null||d===void 0?void 0:d.members.length)||0)<=1,g=!!(y&&!x&&this.options.crossfade===!0&&!this.path.some(hee));this.animationProgress=0,this.mixTargetDelta=function(w){var I,P=w/1e3;gC(v.x,a.x,P),gC(v.y,a.y,P),u.setTargetDelta(v),u.relativeTarget&&u.relativeTargetOrigin&&u.layout&&(!((I=u.relativeParent)===null||I===void 0)&&I.layout)&&(bf(b,u.layout.actual,u.relativeParent.layout.actual),fee(u.relativeTarget,u.relativeTargetOrigin,b,P)),y&&(u.animationValues=m,GZ(m,p,u.latestValues,P,g,x)),u.root.scheduleUpdateProjection(),u.scheduleRender(),u.animationProgress=P},this.mixTargetDelta(0)},o.prototype.startAnimation=function(a){var c=this,u,d;this.notifyListeners("animationStart"),(u=this.currentAnimation)===null||u===void 0||u.stop(),this.resumingFrom&&((d=this.resumingFrom.currentAnimation)===null||d===void 0||d.stop()),this.pendingAnimation&&(mh.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ti.update(function(){pf.hasAnimatedSinceResize=!0,c.currentAnimation=WZ(0,pC,oe(oe({},a),{onUpdate:function(h){var p;c.mixTargetDelta(h),(p=a.onUpdate)===null||p===void 0||p.call(a,h)},onComplete:function(){var h;(h=a.onComplete)===null||h===void 0||h.call(a),c.completeAnimation()}})),c.resumingFrom&&(c.resumingFrom.currentAnimation=c.currentAnimation),c.pendingAnimation=void 0})},o.prototype.completeAnimation=function(){var a;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),(a=this.getStack())===null||a===void 0||a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")},o.prototype.finishAnimation=function(){var a;this.currentAnimation&&((a=this.mixTargetDelta)===null||a===void 0||a.call(this,pC),this.currentAnimation.stop()),this.completeAnimation()},o.prototype.applyTransformsToTarget=function(){var a=this.getLead(),c=a.targetWithTransforms,u=a.target,d=a.layout,h=a.latestValues;!c||!u||!d||(js(c,u),$c(c,h),vf(this.projectionDeltaWithTransform,this.layoutCorrected,c,h))},o.prototype.registerSharedNode=function(a,c){var u,d,h;this.sharedNodes.has(a)||this.sharedNodes.set(a,new ZZ);var p=this.sharedNodes.get(a);p.add(c),c.promote({transition:(u=c.options.initialPromotionConfig)===null||u===void 0?void 0:u.transition,preserveFollowOpacity:(h=(d=c.options.initialPromotionConfig)===null||d===void 0?void 0:d.shouldPreserveFollowOpacity)===null||h===void 0?void 0:h.call(d,c)})},o.prototype.isLead=function(){var a=this.getStack();return a?a.lead===this:!0},o.prototype.getLead=function(){var a,c=this.options.layoutId;return c?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this},o.prototype.getPrevLead=function(){var a,c=this.options.layoutId;return c?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0},o.prototype.getStack=function(){var a=this.options.layoutId;if(a)return this.root.sharedNodes.get(a)},o.prototype.promote=function(a){var c=a===void 0?{}:a,u=c.needsReset,d=c.transition,h=c.preserveFollowOpacity,p=this.getStack();p&&p.promote(this,h),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})},o.prototype.relegate=function(){var a=this.getStack();return a?a.relegate(this):!1},o.prototype.resetRotation=function(){var a=this.options.visualElement;if(a){for(var c=!1,u={},d=0;d<d1.length;d++){var h=d1[d],p="rotate"+h;a.getStaticValue(p)&&(c=!0,u[p]=a.getStaticValue(p),a.setStaticValue(p,0))}if(c){a==null||a.syncRender();for(var p in u)a.setStaticValue(p,u[p]);a.scheduleRender()}}},o.prototype.getProjectionStyles=function(a){var c,u,d,h,p,m;a===void 0&&(a={});var v={};if(!this.instance||this.isSVG)return v;if(this.isVisible)v.visibility="";else return{visibility:"hidden"};var b=(c=this.options.visualElement)===null||c===void 0?void 0:c.getProps().transformTemplate;if(this.needsReset)return this.needsReset=!1,v.opacity="",v.pointerEvents=Wm(a.pointerEvents)||"",v.transform=b?b(this.latestValues,""):"none",v;var y=this.getLead();if(!this.projectionDelta||!this.layout||!y.target){var x={};return this.options.layoutId&&(x.opacity=(u=this.latestValues.opacity)!==null&&u!==void 0?u:1,x.pointerEvents=Wm(a.pointerEvents)||""),this.hasProjected&&!Uo(this.latestValues)&&(x.transform=b?b({},""):"none",this.hasProjected=!1),x}var g=y.animationValues||y.latestValues;this.applyTransformsToTarget(),v.transform=hC(this.projectionDeltaWithTransform,this.treeScale,g),b&&(v.transform=b(g,v.transform));var w=this.projectionDelta,I=w.x,P=w.y;v.transformOrigin="".concat(I.origin*100,"% ").concat(P.origin*100,"% 0"),y.animationValues?v.opacity=y===this?(h=(d=g.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&h!==void 0?h:1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:v.opacity=y===this?(p=g.opacity)!==null&&p!==void 0?p:"":(m=g.opacityExit)!==null&&m!==void 0?m:0;for(var A in e0)if(g[A]!==void 0){var S=e0[A],E=S.correct,C=S.applyTo,k=E(g[A],y);if(C)for(var j=C.length,O=0;O<j;O++)v[C[O]]=k;else v[A]=k}return this.options.layoutId&&(v.pointerEvents=y===this?Wm(a.pointerEvents)||"":"none"),v},o.prototype.clearSnapshot=function(){this.resumeFrom=this.snapshot=void 0},o.prototype.resetTree=function(){this.root.nodes.forEach(function(a){var c;return(c=a.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(mC),this.root.sharedNodes.clear()},o}()}function nee(t){t.updateLayout()}function see(t){var e,r,n,s,i=(r=(e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)!==null&&r!==void 0?r:t.snapshot;if(t.isLead()&&t.layout&&i&&t.hasListeners("didUpdate")){var o=t.layout,a=o.actual,c=o.measured;t.options.animationType==="size"?oi(function(g){var w=i.isShared?i.measured[g]:i.layout[g],I=So(w);w.min=a[g].min,w.max=w.min+I}):t.options.animationType==="position"&&oi(function(g){var w=i.isShared?i.measured[g]:i.layout[g],I=So(a[g]);w.max=w.min+I});var u=xf();vf(u,a,i.layout);var d=xf();i.isShared?vf(d,t.applyTransform(c,!0),i.measured):vf(d,a,i.layout);var h=!e3(u),p=!1;if(!t.resumeFrom&&(t.relativeParent=t.getClosestProjectingParent(),t.relativeParent&&!t.relativeParent.resumeFrom)){var m=t.relativeParent,v=m.snapshot,b=m.layout;if(v&&b){var y=qr();bf(y,i.layout,v.layout);var x=qr();bf(x,a,b.actual),t3(y,x)||(p=!0)}}t.notifyListeners("didUpdate",{layout:a,snapshot:i,delta:d,layoutDelta:u,hasLayoutChanged:h,hasRelativeTargetChanged:p})}else t.isLead()&&((s=(n=t.options).onExitComplete)===null||s===void 0||s.call(n));t.options.transition=void 0}function iee(t){t.clearSnapshot()}function mC(t){t.clearMeasurements()}function oee(t){var e=t.options.visualElement;e!=null&&e.getProps().onBeforeLayoutMeasure&&e.notifyBeforeLayoutMeasure(),t.resetTransform()}function aee(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0}function lee(t){t.resolveTargetDelta()}function cee(t){t.calcProjection()}function uee(t){t.resetRotation()}function dee(t){t.removeLeadSnapshot()}function gC(t,e,r){t.translate=qt(e.translate,0,r),t.scale=qt(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function yC(t,e,r,n){t.min=qt(e.min,r.min,n),t.max=qt(e.max,r.max,n)}function fee(t,e,r,n){yC(t.x,e.x,r.x,n),yC(t.y,e.y,r.y,n)}function hee(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}var pee={duration:.45,ease:[.4,0,.1,1]};function mee(t,e){for(var r=t.root,n=t.path.length-1;n>=0;n--)if(t.path[n].instance){r=t.path[n];break}var s=r&&r!==t.root?r.instance:document,i=s.querySelector('[data-projection-id="'.concat(e,'"]'));i&&t.mount(i,!0)}function vC(t){t.min=Math.round(t.min),t.max=Math.round(t.max)}function bC(t){vC(t.x),vC(t.y)}var gee=r3({attachResizeListener:function(t,e){return jy(t,"resize",e)},measureScroll:function(){return{x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}},checkIsScrollRoot:function(){return!0}}),wb={current:void 0},yee=r3({measureScroll:function(t){return{x:t.scrollLeft,y:t.scrollTop}},defaultParent:function(){if(!wb.current){var t=new gee(0,{});t.mount(window),t.setOptions({layoutScroll:!0}),wb.current=t}return wb.current},resetTransform:function(t,e){t.style.transform=e??"none"},checkIsScrollRoot:function(t){return window.getComputedStyle(t).position==="fixed"}}),vee=oe(oe(oe(oe({},eZ),dJ),wZ),HZ),R2=eY(function(t,e){return VY(t,e,vee,VZ,yee)});function n3(){var t=T.useRef(!1);return Zg(function(){return t.current=!0,function(){t.current=!1}},[]),t}function bee(){var t=n3(),e=Gt(T.useState(0),2),r=e[0],n=e[1],s=T.useCallback(function(){t.current&&n(r+1)},[r]),i=T.useCallback(function(){return Ti.postRender(s)},[s]);return[i,r]}var _b=function(t){var e=t.children,r=t.initial,n=t.isPresent,s=t.onExitComplete,i=t.custom,o=t.presenceAffectsLayout,a=Kh(xee),c=AR(),u=T.useMemo(function(){return{id:c,initial:r,isPresent:n,custom:i,onExitComplete:function(d){var h,p;a.set(d,!0);try{for(var m=cL(a.values()),v=m.next();!v.done;v=m.next()){var b=v.value;if(!b)return}}catch(y){h={error:y}}finally{try{v&&!v.done&&(p=m.return)&&p.call(m)}finally{if(h)throw h.error}}s==null||s()},register:function(d){return a.set(d,!1),function(){return a.delete(d)}}}},o?void 0:[n]);return T.useMemo(function(){a.forEach(function(d,h){return a.set(h,!1)})},[n]),T.useEffect(function(){!n&&!a.size&&(s==null||s())},[n]),T.createElement(Yu.Provider,{value:u},e)};function xee(){return new Map}var yc=function(t){return t.key||""};function wee(t,e){t.forEach(function(r){var n=yc(r);e.set(n,r)})}function _ee(t){var e=[];return T.Children.forEach(t,function(r){T.isValidElement(r)&&e.push(r)}),e}var s3=function(t){var e=t.children,r=t.custom,n=t.initial,s=n===void 0?!0:n,i=t.onExitComplete,o=t.exitBeforeEnter,a=t.presenceAffectsLayout,c=a===void 0?!0:a,u=Gt(bee(),1),d=u[0],h=T.useContext(u2).forceRender;h&&(d=h);var p=n3(),m=_ee(e),v=m,b=new Set,y=T.useRef(v),x=T.useRef(new Map).current,g=T.useRef(!0);if(Zg(function(){g.current=!1,wee(m,x),y.current=v}),b2(function(){g.current=!0,x.clear(),b.clear()}),g.current)return T.createElement(T.Fragment,null,v.map(function(E){return T.createElement(_b,{key:yc(E),isPresent:!0,initial:s?void 0:!1,presenceAffectsLayout:c},E)}));v=zs([],Gt(v),!1);for(var w=y.current.map(yc),I=m.map(yc),P=w.length,A=0;A<P;A++){var S=w[A];I.indexOf(S)===-1&&b.add(S)}return o&&b.size&&(v=[]),b.forEach(function(E){if(I.indexOf(E)===-1){var C=x.get(E);if(C){var k=w.indexOf(E),j=function(){x.delete(E),b.delete(E);var O=y.current.findIndex(function(D){return D.key===E});if(y.current.splice(O,1),!b.size){if(y.current=m,p.current===!1)return;d(),i&&i()}};v.splice(k,0,T.createElement(_b,{key:yc(C),isPresent:!1,onExitComplete:j,custom:r,presenceAffectsLayout:c},C))}}}),v=v.map(function(E){var C=E.key;return b.has(C)?E:T.createElement(_b,{key:yc(E),isPresent:!0,presenceAffectsLayout:c},E)}),l2!=="production"&&o&&v.length>1&&console.warn("You're attempting to animate multiple children within AnimatePresence, but its exitBeforeEnter prop is set to true. This will lead to odd visual behaviour."),T.createElement(T.Fragment,null,b.size?v:v.map(function(E){return T.cloneElement(E)}))};const See=(t,e)=>t.find(r=>r.id===e);function xC(t,e){const r=i3(t,e),n=r?t[r].findIndex(s=>s.id===e):-1;return{position:r,index:n}}function i3(t,e){for(const[r,n]of Object.entries(t))if(See(n,e))return r}function Eee(t){const e=t.includes("right"),r=t.includes("left");let n="center";return e&&(n="flex-end"),r&&(n="flex-start"),{display:"flex",flexDirection:"column",alignItems:n}}function Tee(t){const r=t==="top"||t==="bottom"?"0 auto":void 0,n=t.includes("top")?"env(safe-area-inset-top, 0px)":void 0,s=t.includes("bottom")?"env(safe-area-inset-bottom, 0px)":void 0,i=t.includes("left")?void 0:"env(safe-area-inset-right, 0px)",o=t.includes("right")?void 0:"env(safe-area-inset-left, 0px)";return{position:"fixed",zIndex:"var(--toast-z-index, 5500)",pointerEvents:"none",display:"flex",flexDirection:"column",margin:r,top:n,bottom:s,right:i,left:o}}var Cee=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,kee=f6(function(t){return Cee.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),Nee=kee,Iee=function(e){return e!=="theme"},wC=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?Nee:Iee},_C=function(e,r,n){var s;if(r){var i=r.shouldForwardProp;s=e.__emotion_forwardProp&&i?function(o){return e.__emotion_forwardProp(o)&&i(o)}:i}return typeof s!="function"&&n&&(s=e.__emotion_forwardProp),s},Pee=function(e){var r=e.cache,n=e.serialized,s=e.isStringTag;return v6(r,n,s),pQ(function(){return b6(r,n,s)}),null},Aee=function t(e,r){var n=e.__emotion_real===e,s=n&&e.__emotion_base||e,i,o;r!==void 0&&(i=r.label,o=r.target);var a=_C(e,r,n),c=a||wC(s),u=!c("as");return function(){var d=arguments,h=n&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(i!==void 0&&h.push("label:"+i+";"),d[0]==null||d[0].raw===void 0)h.push.apply(h,d);else{h.push(d[0][0]);for(var p=d.length,m=1;m<p;m++)h.push(d[m],d[0][m])}var v=_6(function(b,y,x){var g=u&&b.as||s,w="",I=[],P=b;if(b.theme==null){P={};for(var A in b)P[A]=b[A];P.theme=T.useContext(ah)}typeof b.className=="string"?w=aQ(y.registered,I,b.className):b.className!=null&&(w=b.className+" ");var S=i2(h.concat(I),y.registered,P);w+=y.key+"-"+S.name,o!==void 0&&(w+=" "+o);var E=u&&a===void 0?wC(g):c,C={};for(var k in b)u&&k==="as"||E(k)&&(C[k]=b[k]);return C.className=w,C.ref=x,T.createElement(T.Fragment,null,T.createElement(Pee,{cache:y,serialized:S,isStringTag:typeof g=="string"}),T.createElement(g,C))});return v.displayName=i!==void 0?i:"Styled("+(typeof s=="string"?s:s.displayName||s.name||"Component")+")",v.defaultProps=e.defaultProps,v.__emotion_real=v,v.__emotion_base=s,v.__emotion_styles=h,v.__emotion_forwardProp=a,Object.defineProperty(v,"toString",{value:function(){return"."+o}}),v.withComponent=function(b,y){return t(b,Xg({},r,y,{shouldForwardProp:_C(v,y,!0)})).apply(void 0,h)},v}},jee=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],P1=Aee.bind();jee.forEach(function(t){P1[t]=P1(t)});const Ree=new Set([...MB,"textStyle","layerStyle","apply","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"]),Dee=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function Oee(t){return(Dee.has(t)||!Ree.has(t))&&t[0]!=="_"}const Mee=H$(P1),Lee=({baseStyle:t})=>e=>{const{theme:r,css:n,__css:s,sx:i,...o}=e,[a]=Q$(o,FB),c=fs(t,e),u=O$({},s,c,Ku(a),i),d=Hj(u)(e.theme);return n?[d,n]:d};function Sb(t,e){const{baseStyle:r,...n}=e??{};n.shouldForwardProp||(n.shouldForwardProp=Oee);const s=Lee({baseStyle:r}),i=Mee(t,n)(s);return T.forwardRef(function(c,u){const{children:d,...h}=c,{colorMode:p,forced:m}=Ny(),v=m?p:void 0;return T.createElement(i,{ref:u,"data-theme":v,...h},d)})}function Fee(){const t=new Map;return new Proxy(Sb,{apply(e,r,n){return Sb(...n)},get(e,r){return t.has(r)||t.set(r,Sb(r)),t.get(r)}})}const Ae=Fee(),Vee={initial:t=>{const{position:e}=t,r=["top","bottom"].includes(e)?"y":"x";let n=["top-right","bottom-right"].includes(e)?1:-1;return e==="bottom"&&(n=1),{opacity:0,[r]:n*24}},animate:{opacity:1,y:0,x:0,scale:1,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,scale:.85,transition:{duration:.2,ease:[.4,0,1,1]}}},o3=T.memo(t=>{const{id:e,message:r,onCloseComplete:n,onRequestRemove:s,requestClose:i=!1,position:o="bottom",duration:a=5e3,containerStyle:c,motionVariants:u=Vee,toastSpacing:d="0.5rem"}=t,[h,p]=T.useState(a),m=pJ();Jx(()=>{m||n==null||n()},[m]),Jx(()=>{p(a)},[a]);const v=()=>p(null),b=()=>p(a),y=()=>{m&&s()};T.useEffect(()=>{m&&i&&s()},[m,i,s]),tB(y,h);const x=T.useMemo(()=>({pointerEvents:"auto",maxWidth:560,minWidth:300,margin:d,...c}),[c,d]),g=T.useMemo(()=>Eee(o),[o]);return l.jsx(R2.div,{layout:!0,className:"chakra-toast",variants:u,initial:"initial",animate:"animate",exit:"exit",onHoverStart:v,onHoverEnd:b,custom:{position:o},style:g,children:l.jsx(Ae.div,{role:"status","aria-atomic":"true",className:"chakra-toast__inner",__css:x,children:fs(r,{id:e,onClose:y})})})});o3.displayName="ToastComponent";function lt(t){return T.forwardRef(t)}var $ee=typeof Element<"u",Bee=typeof Map=="function",zee=typeof Set=="function",Uee=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Km(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var r,n,s;if(Array.isArray(t)){if(r=t.length,r!=e.length)return!1;for(n=r;n--!==0;)if(!Km(t[n],e[n]))return!1;return!0}var i;if(Bee&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(i=t.entries();!(n=i.next()).done;)if(!e.has(n.value[0]))return!1;for(i=t.entries();!(n=i.next()).done;)if(!Km(n.value[1],e.get(n.value[0])))return!1;return!0}if(zee&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(i=t.entries();!(n=i.next()).done;)if(!e.has(n.value[0]))return!1;return!0}if(Uee&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(r=t.length,r!=e.length)return!1;for(n=r;n--!==0;)if(t[n]!==e[n])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(s=Object.keys(t),r=s.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(e,s[n]))return!1;if($ee&&t instanceof Element)return!1;for(n=r;n--!==0;)if(!((s[n]==="_owner"||s[n]==="__v"||s[n]==="__o")&&t.$$typeof)&&!Km(t[s[n]],e[s[n]]))return!1;return!0}return t!==t&&e!==e}var Hee=function(e,r){try{return Km(e,r)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}};const Wee=w0(Hee);function a3(){const t=T.useContext(ah);if(!t)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return t}function l3(){const t=Ny(),e=a3();return{...t,theme:e}}function c3(t,e={}){const{styleConfig:r,...n}=e,{theme:s,colorMode:i}=l3(),o=t?Mj(s,`components.${t}`):void 0,a=r||o,c=hs({theme:s,colorMode:i},(a==null?void 0:a.defaultProps)??{},Ku(cy(n,["children"])),(d,h)=>d?void 0:h),u=T.useRef({});if(a){const h=QB(a)(c);Wee(u.current,h)||(u.current=h)}return u.current}function ji(t,e={}){return c3(t,e)}function Kl(t,e={}){return c3(t,e)}const SC={path:l.jsxs("g",{stroke:"currentColor",strokeWidth:"1.5",children:[l.jsx("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),l.jsx("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),l.jsx("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})]}),viewBox:"0 0 24 24"},on=lt((t,e)=>{const{as:r,viewBox:n,color:s="currentColor",focusable:i=!1,children:o,className:a,__css:c,...u}=t,d=Ct("chakra-icon",a),h=ji("Icon",t),p={w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:s,...c,...h},m={ref:e,focusable:i,className:d,__css:p},v=n??SC.viewBox;if(r&&typeof r!="string")return l.jsx(Ae.svg,{as:r,...m,...u});const b=o??SC.path;return l.jsx(Ae.svg,{verticalAlign:"middle",viewBox:v,...m,...u,children:b})});on.displayName="Icon";function qee(t){return l.jsx(on,{viewBox:"0 0 24 24",...t,children:l.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"})})}function Gee(t){return l.jsx(on,{viewBox:"0 0 24 24",...t,children:l.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"})})}function EC(t){return l.jsx(on,{viewBox:"0 0 24 24",...t,children:l.jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})}const Kee=ky({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),Ly=lt((t,e)=>{const r=ji("Spinner",t),{label:n="Loading...",thickness:s="2px",speed:i="0.45s",emptyColor:o="transparent",className:a,...c}=en(t),u=Ct("chakra-spinner",a),d={display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:s,borderBottomColor:o,borderLeftColor:o,animation:`${Kee} ${i} linear infinite`,...r};return l.jsx(Ae.div,{ref:e,__css:d,className:u,...c,children:n&&l.jsx(Ae.span,{srOnly:!0,children:n})})});Ly.displayName="Spinner";const[Qee,D2]=Ss({name:"AlertContext",hookName:"useAlertContext",providerName:"<Alert />"}),[Yee,O2]=Ss({name:"AlertStylesContext",hookName:"useAlertStyles",providerName:"<Alert />"}),u3={info:{icon:Gee,colorScheme:"blue"},warning:{icon:EC,colorScheme:"orange"},success:{icon:qee,colorScheme:"green"},error:{icon:EC,colorScheme:"red"},loading:{icon:Ly,colorScheme:"blue"}};function Xee(t){return u3[t].colorScheme}function Jee(t){return u3[t].icon}const d3=lt(function(e,r){const{status:n="info",addRole:s=!0,...i}=en(e),o=e.colorScheme??Xee(n),a=Kl("Alert",{...e,colorScheme:o}),c={width:"100%",display:"flex",alignItems:"center",position:"relative",overflow:"hidden",...a.container};return l.jsx(Qee,{value:{status:n},children:l.jsx(Yee,{value:a,children:l.jsx(Ae.div,{"data-status":n,role:s?"alert":void 0,ref:r,...i,className:Ct("chakra-alert",e.className),__css:c})})})});d3.displayName="Alert";function f3(t){const{status:e}=D2(),r=Jee(e),n=O2(),s=e==="loading"?n.spinner:n.icon;return l.jsx(Ae.span,{display:"inherit","data-status":e,...t,className:Ct("chakra-alert__icon",t.className),__css:s,children:t.children||l.jsx(r,{h:"100%",w:"100%"})})}f3.displayName="AlertIcon";const h3=lt(function(e,r){const n=O2(),{status:s}=D2();return l.jsx(Ae.div,{ref:r,"data-status":s,...e,className:Ct("chakra-alert__title",e.className),__css:n.title})});h3.displayName="AlertTitle";const p3=lt(function(e,r){const{status:n}=D2(),s=O2(),i={display:"inline",...s.description};return l.jsx(Ae.div,{ref:r,"data-status":n,...e,className:Ct("chakra-alert__desc",e.className),__css:i})});p3.displayName="AlertDescription";function Zee(t){return l.jsx(on,{focusable:"false","aria-hidden":!0,...t,children:l.jsx("path",{fill:"currentColor",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"})})}const m3=lt(function(e,r){const n=ji("CloseButton",e),{children:s,isDisabled:i,__css:o,...a}=en(e),c={outline:0,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0};return l.jsx(Ae.button,{type:"button","aria-label":"Close",ref:r,disabled:i,__css:{...c,...n,...o},...a,children:s||l.jsx(Zee,{width:"1em",height:"1em"})})});m3.displayName="CloseButton";const ete=t=>{const{status:e,variant:r="solid",id:n,title:s,isClosable:i,onClose:o,description:a,colorScheme:c,icon:u}=t,d=n?{root:`toast-${n}`,title:`toast-${n}-title`,description:`toast-${n}-description`}:void 0;return l.jsxs(d3,{addRole:!1,status:e,variant:r,id:d==null?void 0:d.root,alignItems:"start",borderRadius:"md",boxShadow:"lg",paddingEnd:8,textAlign:"start",width:"auto",colorScheme:c,children:[l.jsx(f3,{children:u}),l.jsxs(Ae.div,{flex:"1",maxWidth:"100%",children:[s&&l.jsx(h3,{id:d==null?void 0:d.title,children:s}),a&&l.jsx(p3,{id:d==null?void 0:d.description,display:"block",children:a})]}),i&&l.jsx(m3,{size:"sm",onClick:o,position:"absolute",insetEnd:1,top:1})]})};function g3(t={}){const{render:e,toastComponent:r=ete}=t;return s=>typeof e=="function"?e({...s,...t}):l.jsx(r,{...s,...t})}const tte={top:[],"top-left":[],"top-right":[],"bottom-left":[],bottom:[],"bottom-right":[]},fi=rte(tte);function rte(t){let e=t;const r=new Set,n=s=>{e=s(e),r.forEach(i=>i())};return{getState:()=>e,subscribe:s=>(r.add(s),()=>{n(()=>t),r.delete(s)}),removeToast:(s,i)=>{n(o=>({...o,[i]:o[i].filter(a=>a.id!=s)}))},notify:(s,i)=>{const o=nte(s,i),{position:a,id:c}=o;return n(u=>{const h=a.includes("top")?[o,...u[a]??[]]:[...u[a]??[],o];return{...u,[a]:h}}),c},update:(s,i)=>{s&&n(o=>{const a={...o},{position:c,index:u}=xC(a,s);return c&&u!==-1&&(a[c][u]={...a[c][u],...i,message:g3(i)}),a})},closeAll:({positions:s}={})=>{n(i=>(s??["bottom","bottom-right","bottom-left","top","top-left","top-right"]).reduce((c,u)=>(c[u]=i[u].map(d=>({...d,requestClose:!0})),c),{...i}))},close:s=>{n(i=>{const o=i3(i,s);return o?{...i,[o]:i[o].map(a=>a.id==s?{...a,requestClose:!0}:a)}:i})},isActive:s=>!!xC(fi.getState(),s).position}}let TC=0;function nte(t,e={}){TC+=1;const r=e.id??TC,n=e.position??"bottom";return{id:r,message:t,position:n,duration:e.duration,onCloseComplete:e.onCloseComplete,onRequestRemove:()=>fi.removeToast(String(r),n),status:e.status,requestClose:!1,containerStyle:e.containerStyle}}const[y3,ste]=Ss({strict:!1,name:"PortalContext"}),M2="chakra-portal",ite=".chakra-portal",ote=t=>l.jsx("div",{className:"chakra-portal-zIndex",style:{position:"absolute",zIndex:t.zIndex,top:0,left:0,right:0},children:t.children}),ate=t=>{const{appendToParentPortal:e,children:r}=t,[n,s]=T.useState(null),i=T.useRef(null),[,o]=T.useState({});T.useEffect(()=>o({}),[]);const a=ste(),c=AQ();Xc(()=>{if(!n)return;const d=n.ownerDocument,h=e?a??d.body:d.body;if(!h)return;i.current=d.createElement("div"),i.current.className=M2,h.appendChild(i.current),o({});const p=i.current;return()=>{h.contains(p)&&h.removeChild(p)}},[n]);const u=c!=null&&c.zIndex?l.jsx(ote,{zIndex:c==null?void 0:c.zIndex,children:r}):r;return i.current?Ah.createPortal(l.jsx(y3,{value:i.current,children:u}),i.current):l.jsx("span",{ref:d=>{d&&s(d)}})},lte=t=>{const{children:e,containerRef:r,appendToParentPortal:n}=t,s=r.current,i=s??(typeof window<"u"?document.body:void 0),o=T.useMemo(()=>{const c=s==null?void 0:s.ownerDocument.createElement("div");return c&&(c.className=M2),c},[s]),[,a]=T.useState({});return Xc(()=>a({}),[]),Xc(()=>{if(!(!o||!i))return i.appendChild(o),()=>{i.removeChild(o)}},[o,i]),i&&o?Ah.createPortal(l.jsx(y3,{value:n?o:null,children:e}),o):null};function ep(t){const e={appendToParentPortal:!0,...t},{containerRef:r,...n}=e;return r?l.jsx(lte,{containerRef:r,...n}):l.jsx(ate,{...n})}ep.className=M2;ep.selector=ite;ep.displayName="Portal";const[cte,ute]=Ss({name:"ToastOptionsContext",strict:!1}),dte=t=>{const e=T.useSyncExternalStore(fi.subscribe,fi.getState,fi.getState),{motionVariants:r,component:n=o3,portalProps:s,animatePresenceProps:i}=t,a=Object.keys(e).map(c=>{const u=e[c];return l.jsx("div",{role:"region","aria-live":"polite","aria-label":`Notifications-${c}`,id:`chakra-toast-manager-${c}`,style:Tee(c),children:l.jsx(s3,{...i,initial:!1,children:u.map(d=>l.jsx(n,{motionVariants:r,...d},d.id))})},c)});return l.jsx(ep,{...s,children:a})},fte=t=>function({children:r,theme:n=t,toastOptions:s,...i}){return l.jsxs(jQ,{theme:n,...i,children:[l.jsx(cte,{value:s==null?void 0:s.defaultOptions,children:r}),l.jsx(dte,{...s})]})},hte=fte(i6),wf=Ae("div");wf.displayName="Box";const[due,pte]=Ss({strict:!1,name:"ButtonGroupContext"});function zd(t){const{children:e,className:r,...n}=t,s=T.isValidElement(e)?T.cloneElement(e,{"aria-hidden":!0,focusable:!1}):e,i=Ct("chakra-button__icon",r);return l.jsx(Ae.span,{display:"inline-flex",alignSelf:"center",flexShrink:0,...n,className:i,children:s})}zd.displayName="ButtonIcon";function A1(t){const{label:e,placement:r,spacing:n="0.5rem",children:s=l.jsx(Ly,{color:"currentColor",width:"1em",height:"1em"}),className:i,__css:o,...a}=t,c=Ct("chakra-button__spinner",i),u=r==="start"?"marginEnd":"marginStart",d=T.useMemo(()=>({display:"flex",alignItems:"center",position:e?"relative":"absolute",[u]:e?n:0,fontSize:"1em",lineHeight:"normal",...o}),[o,e,u,n]);return l.jsx(Ae.div,{className:c,...a,__css:d,children:s})}A1.displayName="ButtonSpinner";function mte(t){const[e,r]=T.useState(!t);return{ref:T.useCallback(i=>{i&&r(i.tagName==="BUTTON")},[]),type:e?"button":void 0}}const gh=lt((t,e)=>{const r=pte(),n=ji("Button",{...r,...t}),{isDisabled:s=r==null?void 0:r.isDisabled,isLoading:i,isActive:o,children:a,leftIcon:c,rightIcon:u,loadingText:d,iconSpacing:h="0.5rem",type:p,spinner:m,spinnerPlacement:v="start",className:b,as:y,shouldWrapChildren:x,...g}=en(t),w=T.useMemo(()=>{const S={...n==null?void 0:n._focus,zIndex:1};return{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",...n,...!!r&&{_focus:S}}},[n,r]),{ref:I,type:P}=mte(y),A={rightIcon:u,leftIcon:c,iconSpacing:h,children:a,shouldWrapChildren:x};return l.jsxs(Ae.button,{disabled:s||i,ref:eB(e,I),as:y,type:p??P,"data-active":Ke(o),"data-loading":Ke(i),__css:w,className:Ct("chakra-button",b),...g,children:[i&&v==="start"&&l.jsx(A1,{className:"chakra-button__spinner--start",label:d,placement:"start",spacing:h,children:m}),i?d||l.jsx(Ae.span,{opacity:0,children:l.jsx(CC,{...A})}):l.jsx(CC,{...A}),i&&v==="end"&&l.jsx(A1,{className:"chakra-button__spinner--end",label:d,placement:"end",spacing:h,children:m})]})});gh.displayName="Button";function CC(t){const{leftIcon:e,rightIcon:r,children:n,iconSpacing:s,shouldWrapChildren:i}=t;return i?l.jsxs("span",{style:{display:"contents"},children:[e&&l.jsx(zd,{marginEnd:s,children:e}),n,r&&l.jsx(zd,{marginStart:s,children:r})]}):l.jsxs(l.Fragment,{children:[e&&l.jsx(zd,{marginEnd:s,children:e}),n,r&&l.jsx(zd,{marginStart:s,children:r})]})}const[gte,yte]=Ss({name:"CheckboxGroupContext",strict:!1});function vte(t){return l.jsx(Ae.svg,{width:"1.2em",viewBox:"0 0 12 10",style:{fill:"none",strokeWidth:2,stroke:"currentColor",strokeDasharray:16},...t,children:l.jsx("polyline",{points:"1.5 6 4.5 9 10.5 1"})})}function bte(t){return l.jsx(Ae.svg,{width:"1.2em",viewBox:"0 0 24 24",style:{stroke:"currentColor",strokeWidth:4},...t,children:l.jsx("line",{x1:"21",x2:"3",y1:"12",y2:"12"})})}function xte(t){const{isIndeterminate:e,isChecked:r,...n}=t,s=e?bte:vte;return r||e?l.jsx(Ae.div,{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:l.jsx(s,{...n})}):null}var wte=()=>typeof document<"u",kC=!1,tp=null,Vl=!1,j1=!1,R1=new Set;function L2(t,e){R1.forEach(r=>r(t,e))}var _te=typeof window<"u"&&window.navigator!=null?/^Mac/.test(window.navigator.platform):!1;function Ste(t){return!(t.metaKey||!_te&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}function NC(t){Vl=!0,Ste(t)&&(tp="keyboard",L2("keyboard",t))}function uc(t){if(tp="pointer",t.type==="mousedown"||t.type==="pointerdown"){Vl=!0;const e=t.composedPath?t.composedPath()[0]:t.target;let r=!1;try{r=e.matches(":focus-visible")}catch{}if(r)return;L2("pointer",t)}}function Ete(t){return t.mozInputSource===0&&t.isTrusted?!0:t.detail===0&&!t.pointerType}function Tte(t){Ete(t)&&(Vl=!0,tp="virtual")}function Cte(t){t.target===window||t.target===document||t.target instanceof Element&&t.target.hasAttribute("tabindex")||(!Vl&&!j1&&(tp="virtual",L2("virtual",t)),Vl=!1,j1=!1)}function kte(){Vl=!1,j1=!0}function IC(){return tp!=="pointer"}function Nte(){if(!wte()||kC)return;const{focus:t}=HTMLElement.prototype;HTMLElement.prototype.focus=function(...r){Vl=!0,t.apply(this,r)},document.addEventListener("keydown",NC,!0),document.addEventListener("keyup",NC,!0),document.addEventListener("click",Tte,!0),window.addEventListener("focus",Cte,!0),window.addEventListener("blur",kte,!1),typeof PointerEvent<"u"?(document.addEventListener("pointerdown",uc,!0),document.addEventListener("pointermove",uc,!0),document.addEventListener("pointerup",uc,!0)):(document.addEventListener("mousedown",uc,!0),document.addEventListener("mousemove",uc,!0),document.addEventListener("mouseup",uc,!0)),kC=!0}function Ite(t){Nte(),t(IC());const e=()=>t(IC());return R1.add(e),()=>{R1.delete(e)}}const[Pte,v3]=Ss({name:"FormControlStylesContext",errorMessage:`useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in "<FormControl />" `}),[Ate,Ju]=Ss({strict:!1,name:"FormControlContext"});function jte(t){const{id:e,isRequired:r,isInvalid:n,isDisabled:s,isReadOnly:i,...o}=t,a=T.useId(),c=e||`field-${a}`,u=`${c}-label`,d=`${c}-feedback`,h=`${c}-helptext`,[p,m]=T.useState(!1),[v,b]=T.useState(!1),[y,x]=T.useState(!1),g=T.useCallback((S={},E=null)=>({id:h,...S,ref:Na(E,C=>{C&&b(!0)})}),[h]),w=T.useCallback((S={},E=null)=>({...S,ref:E,"data-focus":Ke(y),"data-disabled":Ke(s),"data-invalid":Ke(n),"data-readonly":Ke(i),id:S.id!==void 0?S.id:u,htmlFor:S.htmlFor!==void 0?S.htmlFor:c}),[c,s,y,n,i,u]),I=T.useCallback((S={},E=null)=>({id:d,...S,ref:Na(E,C=>{C&&m(!0)}),"aria-live":"polite"}),[d]),P=T.useCallback((S={},E=null)=>({...S,...o,ref:E,role:"group","data-focus":Ke(y),"data-disabled":Ke(s),"data-invalid":Ke(n),"data-readonly":Ke(i)}),[o,s,y,n,i]),A=T.useCallback((S={},E=null)=>({...S,ref:E,role:"presentation","aria-hidden":!0,children:S.children||"*"}),[]);return{isRequired:!!r,isInvalid:!!n,isReadOnly:!!i,isDisabled:!!s,isFocused:!!y,onFocus:()=>x(!0),onBlur:()=>x(!1),hasFeedbackText:p,setHasFeedbackText:m,hasHelpText:v,setHasHelpText:b,id:c,labelId:u,feedbackId:d,helpTextId:h,htmlProps:o,getHelpTextProps:g,getErrorMessageProps:I,getRootProps:P,getLabelProps:w,getRequiredIndicatorProps:A}}const Ds=lt(function(e,r){const n=Kl("Form",e),s=en(e),{getRootProps:i,htmlProps:o,...a}=jte(s),c=Ct("chakra-form-control",e.className);return l.jsx(Ate,{value:a,children:l.jsx(Pte,{value:n,children:l.jsx(Ae.div,{...i({},r),className:c,__css:n.container})})})});Ds.displayName="FormControl";const D1=lt(function(e,r){const n=Ju(),s=v3(),i=Ct("chakra-form__helper-text",e.className);return l.jsx(Ae.div,{...n==null?void 0:n.getHelpTextProps(e,r),__css:s.helperText,className:i})});D1.displayName="FormHelperText";function b3(t){const{isDisabled:e,isInvalid:r,isReadOnly:n,isRequired:s,...i}=x3(t);return{...i,disabled:e,readOnly:n,required:s,"aria-invalid":Gv(r),"aria-required":Gv(s),"aria-readonly":Gv(n)}}function x3(t){const e=Ju(),{id:r,disabled:n,readOnly:s,required:i,isRequired:o,isInvalid:a,isReadOnly:c,isDisabled:u,onFocus:d,onBlur:h,...p}=t,m=t["aria-describedby"]?[t["aria-describedby"]]:[];return e!=null&&e.hasFeedbackText&&(e!=null&&e.isInvalid)&&m.push(e.feedbackId),e!=null&&e.hasHelpText&&m.push(e.helpTextId),{...p,"aria-describedby":m.join(" ")||void 0,id:r??(e==null?void 0:e.id),isDisabled:n??u??(e==null?void 0:e.isDisabled),isReadOnly:s??c??(e==null?void 0:e.isReadOnly),isRequired:i??o??(e==null?void 0:e.isRequired),isInvalid:a??(e==null?void 0:e.isInvalid),onFocus:yr(e==null?void 0:e.onFocus,d),onBlur:yr(e==null?void 0:e.onBlur,h)}}const Rte={border:"0",clip:"rect(0, 0, 0, 0)",height:"1px",width:"1px",margin:"-1px",padding:"0",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"};function Dte(t={}){const e=x3(t),{isDisabled:r,isReadOnly:n,isRequired:s,isInvalid:i,id:o,onBlur:a,onFocus:c,"aria-describedby":u}=e,{defaultChecked:d,isChecked:h,isFocusable:p,onChange:m,isIndeterminate:v,name:b,value:y,tabIndex:x=void 0,"aria-label":g,"aria-labelledby":w,"aria-invalid":I,...P}=t,A=cy(P,["isDisabled","isReadOnly","isRequired","isInvalid","id","onBlur","onFocus","aria-describedby"]),S=Us(m),E=Us(a),C=Us(c),[k,j]=T.useState(!1),[O,D]=T.useState(!1),[ue,V]=T.useState(!1),B=T.useRef(!1);T.useEffect(()=>Ite(Se=>{B.current=Se}),[]);const G=T.useRef(null),[U,Z]=T.useState(!0),[re,me]=T.useState(!!d),ae=h!==void 0,J=ae?h:re,X=T.useCallback(Se=>{if(n||r){Se.preventDefault();return}ae||me(J?Se.currentTarget.checked:v?!0:Se.currentTarget.checked),S==null||S(Se)},[n,r,J,ae,v,S]);Xc(()=>{G.current&&(G.current.indeterminate=!!v)},[v]),Jx(()=>{r&&j(!1)},[r,j]),Xc(()=>{const Se=G.current;if(!(Se!=null&&Se.form))return;const Rt=()=>{me(!!d)};return Se.form.addEventListener("reset",Rt),()=>{var _t;return(_t=Se.form)==null?void 0:_t.removeEventListener("reset",Rt)}},[]);const ee=r&&!p,we=T.useCallback(Se=>{Se.key===" "&&V(!0)},[V]),Le=T.useCallback(Se=>{Se.key===" "&&V(!1)},[V]);Xc(()=>{if(!G.current)return;G.current.checked!==J&&me(G.current.checked)},[G.current]);const tt=T.useCallback((Se={},Rt=null)=>{const _t=Mn=>{k&&Mn.preventDefault(),V(!0)};return{...Se,ref:Rt,"data-active":Ke(ue),"data-hover":Ke(O),"data-checked":Ke(J),"data-focus":Ke(k),"data-focus-visible":Ke(k&&B.current),"data-indeterminate":Ke(v),"data-disabled":Ke(r),"data-invalid":Ke(i),"data-readonly":Ke(n),"aria-hidden":!0,onMouseDown:yr(Se.onMouseDown,_t),onMouseUp:yr(Se.onMouseUp,()=>V(!1)),onMouseEnter:yr(Se.onMouseEnter,()=>D(!0)),onMouseLeave:yr(Se.onMouseLeave,()=>D(!1))}},[ue,J,r,k,O,v,i,n]),pr=T.useCallback((Se={},Rt=null)=>({...Se,ref:Rt,"data-active":Ke(ue),"data-hover":Ke(O),"data-checked":Ke(J),"data-focus":Ke(k),"data-focus-visible":Ke(k&&B.current),"data-indeterminate":Ke(v),"data-disabled":Ke(r),"data-invalid":Ke(i),"data-readonly":Ke(n)}),[ue,J,r,k,O,v,i,n]),Mr=T.useCallback((Se={},Rt=null)=>({...A,...Se,ref:Na(Rt,_t=>{_t&&Z(_t.tagName==="LABEL")}),onClick:yr(Se.onClick,()=>{var _t;U||((_t=G.current)==null||_t.click(),requestAnimationFrame(()=>{var Mn;(Mn=G.current)==null||Mn.focus({preventScroll:!0})}))}),"data-disabled":Ke(r),"data-checked":Ke(J),"data-invalid":Ke(i)}),[A,r,J,i,U]),Sr=T.useCallback((Se={},Rt=null)=>({...Se,ref:Na(G,Rt),type:"checkbox",name:b,value:y,id:o,tabIndex:x,onChange:yr(Se.onChange,X),onBlur:yr(Se.onBlur,E,()=>j(!1)),onFocus:yr(Se.onFocus,C,()=>j(!0)),onKeyDown:yr(Se.onKeyDown,we),onKeyUp:yr(Se.onKeyUp,Le),required:s,checked:J,disabled:ee,readOnly:n,"aria-label":g,"aria-labelledby":w,"aria-invalid":I?!!I:i,"aria-describedby":u,"aria-disabled":r,"aria-checked":v?"mixed":J,style:Rte}),[b,y,o,x,X,E,C,we,Le,s,J,ee,n,g,w,I,i,u,r,v]),Ne=T.useCallback((Se={},Rt=null)=>({...Se,ref:Rt,onMouseDown:yr(Se.onMouseDown,Ote),"data-disabled":Ke(r),"data-checked":Ke(J),"data-invalid":Ke(i)}),[J,r,i]);return{state:{isInvalid:i,isFocused:k,isChecked:J,isActive:ue,isHovered:O,isIndeterminate:v,isDisabled:r,isReadOnly:n,isRequired:s},getRootProps:Mr,getCheckboxProps:tt,getIndicatorProps:pr,getInputProps:Sr,getLabelProps:Ne,htmlProps:A}}function Ote(t){t.preventDefault(),t.stopPropagation()}function Mte(t){const[e,r]=T.useState(t),[n,s]=T.useState(!1);return t!==e&&(s(!0),r(t)),n}const Lte={display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",userSelect:"none",flexShrink:0},Fte={cursor:"pointer",display:"inline-flex",alignItems:"center",verticalAlign:"top",position:"relative"},Vte=ky({from:{opacity:0,strokeDashoffset:16,transform:"scale(0.95)"},to:{opacity:1,strokeDashoffset:0,transform:"scale(1)"}}),$te=ky({from:{opacity:0},to:{opacity:1}}),Bte=ky({from:{transform:"scaleX(0.65)"},to:{transform:"scaleX(1)"}}),O1=lt(function(e,r){const n=yte(),s={...n,...e},i=Kl("Checkbox",s),o=en(e),{spacing:a="0.5rem",className:c,children:u,iconColor:d,iconSize:h,icon:p=l.jsx(xte,{}),isChecked:m,isDisabled:v=n==null?void 0:n.isDisabled,onChange:b,inputProps:y,...x}=o;let g=m;n!=null&&n.value&&o.value&&(g=n.value.includes(o.value));let w=b;n!=null&&n.onChange&&o.value&&(w=$$(n.onChange,b));const{state:I,getInputProps:P,getCheckboxProps:A,getLabelProps:S,getRootProps:E}=Dte({...x,isDisabled:v,isChecked:g,onChange:w}),C=Mte(I.isChecked),k=T.useMemo(()=>({animation:C?I.isIndeterminate?`${$te} 20ms linear, ${Bte} 200ms linear`:`${Vte} 200ms linear`:void 0,...i.icon,...Ku({fontSize:h,color:d})}),[d,h,C,I.isIndeterminate,i.icon]),j=T.cloneElement(p,{__css:k,isIndeterminate:I.isIndeterminate,isChecked:I.isChecked});return l.jsxs(Ae.label,{__css:{...Fte,...i.container},className:Ct("chakra-checkbox",c),...E(),children:[l.jsx("input",{className:"chakra-checkbox__input",...P(y,r)}),l.jsx(Ae.span,{__css:{...Lte,...i.control},className:"chakra-checkbox__control",...A(),children:j}),u&&l.jsx(Ae.span,{className:"chakra-checkbox__label",...S(),__css:{marginStart:a,...i.label},children:u})]})});O1.displayName="Checkbox";function PC(t){return t&&Rr(t)&&Rr(t.target)}function zte(t={}){const{defaultValue:e,value:r,onChange:n,isDisabled:s,isNative:i}=t,o=Us(n),[a,c]=X$({value:r,defaultValue:e||[],onChange:o}),u=T.useCallback(h=>{if(!a)return;const p=PC(h)?h.target.checked:!a.includes(h),m=PC(h)?h.target.value:h,v=p?[...a,m]:a.filter(b=>String(b)!==String(m));c(v)},[c,a]),d=T.useCallback((h={})=>({...h,[i?"checked":"isChecked"]:a.some(m=>String(h.value)===String(m)),onChange:u}),[u,i,a]);return{value:a,isDisabled:s,onChange:u,setValue:c,getCheckboxProps:d}}function w3(t){const{colorScheme:e,size:r,variant:n,children:s,isDisabled:i}=t,{value:o,onChange:a}=zte(t),c=T.useMemo(()=>({size:r,onChange:a,colorScheme:e,value:o,variant:n,isDisabled:i}),[r,a,e,o,n,i]);return l.jsx(gte,{value:c,children:s})}w3.displayName="CheckboxGroup";const F2=lt(function(e,r){const{className:n,centerContent:s,...i}=en(e),o=ji("Container",e);return l.jsx(Ae.div,{ref:r,className:Ct("chakra-container",n),...i,__css:{...o,...s&&{display:"flex",flexDirection:"column",alignItems:"center"}}})});F2.displayName="Container";const _3=lt(function(e,r){const{borderLeftWidth:n,borderBottomWidth:s,borderTopWidth:i,borderRightWidth:o,borderWidth:a,borderStyle:c,borderColor:u,...d}=ji("Divider",e),{className:h,orientation:p="horizontal",__css:m,...v}=en(e),b={vertical:{borderLeftWidth:n||o||a||"1px",height:"100%"},horizontal:{borderBottomWidth:s||i||a||"1px",width:"100%"}};return l.jsx(Ae.hr,{ref:r,"aria-orientation":p,...v,__css:{...d,border:"0",borderColor:u,borderStyle:c,...b[p],...m},className:Ct("chakra-divider",h)})});_3.displayName="Divider";function Ud(t){return typeof t=="function"}function Ute(...t){return e=>t.reduce((r,n)=>n(r),e)}const Hte=t=>function(...r){let n=[...r],s=r[r.length-1];return xK(s)&&n.length>1?n=n.slice(0,n.length-1):s=t,Ute(...n.map(i=>o=>Ud(i)?i(o):qte(o,i)))(s)},Wte=Hte(i6);function qte(...t){return hs({},...t,S3)}function S3(t,e,r,n){if((Ud(t)||Ud(e))&&Object.prototype.hasOwnProperty.call(n,r))return(...s)=>{const i=Ud(t)?t(...s):t,o=Ud(e)?e(...s):e;return hs({},i,o,S3)};if(Rr(t)&&Yx(e)||Yx(t)&&Rr(e))return e}const wl=lt(function(e,r){const{direction:n,align:s,justify:i,wrap:o,basis:a,grow:c,shrink:u,...d}=e,h={display:"flex",flexDirection:n,alignItems:s,justifyContent:i,flexWrap:o,flexBasis:a,flexGrow:c,flexShrink:u};return l.jsx(Ae.div,{ref:r,__css:h,...d})});wl.displayName="Flex";const[Gte,Kte]=Ss({name:"FormErrorStylesContext",errorMessage:`useFormErrorStyles returned is 'undefined'. Seems you forgot to wrap the components in "<FormError />" `}),fl=lt((t,e)=>{const r=Kl("FormError",t),n=en(t),s=Ju();return s!=null&&s.isInvalid?l.jsx(Gte,{value:r,children:l.jsx(Ae.div,{...s==null?void 0:s.getErrorMessageProps(n,e),className:Ct("chakra-form__error-message",t.className),__css:{display:"flex",alignItems:"center",...r.text}})}):null});fl.displayName="FormErrorMessage";const Qte=lt((t,e)=>{const r=Kte(),n=Ju();if(!(n!=null&&n.isInvalid))return null;const s=Ct("chakra-form__error-icon",t.className);return l.jsx(on,{ref:e,"aria-hidden":!0,...t,__css:r.icon,className:s,children:l.jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})});Qte.displayName="FormErrorIcon";const li=lt(function(e,r){const n=ji("FormLabel",e),s=en(e),{className:i,children:o,requiredIndicator:a=l.jsx(E3,{}),optionalIndicator:c=null,...u}=s,d=Ju(),h=(d==null?void 0:d.getLabelProps(u,r))??{ref:r,...u};return l.jsxs(Ae.label,{...h,className:Ct("chakra-form__label",s.className),__css:{display:"block",textAlign:"start",...n},children:[o,d!=null&&d.isRequired?a:c]})});li.displayName="FormLabel";const E3=lt(function(e,r){const n=Ju(),s=v3();if(!(n!=null&&n.isRequired))return null;const i=Ct("chakra-form__required-indicator",e.className);return l.jsx(Ae.span,{...n==null?void 0:n.getRequiredIndicatorProps(e,r),__css:s.requiredIndicator,className:i})});E3.displayName="RequiredIndicator";const M1=lt(function(e,r){const{templateAreas:n,gap:s,rowGap:i,columnGap:o,column:a,row:c,autoFlow:u,autoRows:d,templateRows:h,autoColumns:p,templateColumns:m,...v}=e,b={display:"grid",gridTemplateAreas:n,gridGap:s,gridRowGap:i,gridColumnGap:o,gridAutoColumns:p,gridColumn:a,gridRow:c,gridAutoFlow:u,gridAutoRows:d,gridTemplateRows:h,gridTemplateColumns:m};return l.jsx(Ae.div,{ref:r,__css:b,...v})});M1.displayName="Grid";function AC(t){return Fj(t,e=>e==="auto"?"auto":`span ${e}/span ${e}`)}const L1=lt(function(e,r){const{area:n,colSpan:s,colStart:i,colEnd:o,rowEnd:a,rowSpan:c,rowStart:u,...d}=e,h=Ku({gridArea:n,gridColumn:AC(s),gridRow:AC(c),gridColumnStart:i,gridColumnEnd:o,gridRowStart:u,gridRowEnd:a});return l.jsx(Ae.div,{ref:r,__css:h,...d})});L1.displayName="GridItem";const Ji=lt(function(e,r){const{htmlSize:n,...s}=e,i=Kl("Input",s),o=en(s),a=b3(o),c=Ct("chakra-input",e.className);return l.jsx(Ae.input,{size:n,...a,__css:i.field,ref:r,className:c})});Ji.displayName="Input";Ji.id="Input";const[Yte,Xte]=Ss({name:"InputGroupStylesContext",errorMessage:`useInputGroupStyles returned is 'undefined'. Seems you forgot to wrap the components in "<InputGroup />" `}),el=lt(function(e,r){const n=Kl("Input",e),{children:s,className:i,...o}=en(e),a=Ct("chakra-input__group",i),c={},u=Oj(s),d=n.field;u.forEach(p=>{n&&(d&&p.type.id==="InputLeftElement"&&(c.paddingStart=d.height??d.h),d&&p.type.id==="InputRightElement"&&(c.paddingEnd=d.height??d.h),p.type.id==="InputRightAddon"&&(c.borderEndRadius=0),p.type.id==="InputLeftAddon"&&(c.borderStartRadius=0))});const h=u.map(p=>{var v,b;const m=Ku({size:((v=p.props)==null?void 0:v.size)||e.size,variant:((b=p.props)==null?void 0:b.variant)||e.variant});return p.type.id!=="Input"?T.cloneElement(p,m):T.cloneElement(p,Object.assign(m,c,p.props))});return l.jsx(Ae.div,{className:a,ref:r,__css:{width:"100%",display:"flex",position:"relative",isolation:"isolate",...n.group},"data-group":!0,...o,children:l.jsx(Yte,{value:n,children:h})})});el.displayName="InputGroup";const Jte=Ae("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:"0",zIndex:2}}),Fy=lt(function(e,r){const{placement:n="left",...s}=e,i=Xte(),o=i.field,c={[n==="left"?"insetStart":"insetEnd"]:"0",width:(o==null?void 0:o.height)??(o==null?void 0:o.h),height:(o==null?void 0:o.height)??(o==null?void 0:o.h),fontSize:o==null?void 0:o.fontSize,...i.element};return l.jsx(Jte,{ref:r,__css:c,...s})});Fy.id="InputElement";Fy.displayName="InputElement";const Qo=lt(function(e,r){const{className:n,...s}=e,i=Ct("chakra-input__left-element",n);return l.jsx(Fy,{ref:r,placement:"left",className:i,...s})});Qo.id="InputLeftElement";Qo.displayName="InputLeftElement";const T3=lt(function(e,r){const{className:n,...s}=e,i=Ct("chakra-input__right-element",n);return l.jsx(Fy,{ref:r,placement:"right",className:i,...s})});T3.id="InputRightElement";T3.displayName="InputRightElement";var An="top",ws="bottom",_s="right",jn="left",V2="auto",rp=[An,ws,_s,jn],Iu="start",yh="end",Zte="clippingParents",C3="viewport",_d="popper",ere="reference",jC=rp.reduce(function(t,e){return t.concat([e+"-"+Iu,e+"-"+yh])},[]),k3=[].concat(rp,[V2]).reduce(function(t,e){return t.concat([e,e+"-"+Iu,e+"-"+yh])},[]),tre="beforeRead",rre="read",nre="afterRead",sre="beforeMain",ire="main",ore="afterMain",are="beforeWrite",lre="write",cre="afterWrite",ure=[tre,rre,nre,sre,ire,ore,are,lre,cre];function Ni(t){return t?(t.nodeName||"").toLowerCase():null}function Jn(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function $l(t){var e=Jn(t).Element;return t instanceof e||t instanceof Element}function gs(t){var e=Jn(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function $2(t){if(typeof ShadowRoot>"u")return!1;var e=Jn(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function dre(t){var e=t.state;Object.keys(e.elements).forEach(function(r){var n=e.styles[r]||{},s=e.attributes[r]||{},i=e.elements[r];!gs(i)||!Ni(i)||(Object.assign(i.style,n),Object.keys(s).forEach(function(o){var a=s[o];a===!1?i.removeAttribute(o):i.setAttribute(o,a===!0?"":a)}))})}function fre(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(n){var s=e.elements[n],i=e.attributes[n]||{},o=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:r[n]),a=o.reduce(function(c,u){return c[u]="",c},{});!gs(s)||!Ni(s)||(Object.assign(s.style,a),Object.keys(i).forEach(function(c){s.removeAttribute(c)}))})}}const hre={name:"applyStyles",enabled:!0,phase:"write",fn:dre,effect:fre,requires:["computeStyles"]};function Ci(t){return t.split("-")[0]}var _l=Math.max,l0=Math.min,Pu=Math.round;function F1(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function N3(){return!/^((?!chrome|android).)*safari/i.test(F1())}function Au(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);var n=t.getBoundingClientRect(),s=1,i=1;e&&gs(t)&&(s=t.offsetWidth>0&&Pu(n.width)/t.offsetWidth||1,i=t.offsetHeight>0&&Pu(n.height)/t.offsetHeight||1);var o=$l(t)?Jn(t):window,a=o.visualViewport,c=!N3()&&r,u=(n.left+(c&&a?a.offsetLeft:0))/s,d=(n.top+(c&&a?a.offsetTop:0))/i,h=n.width/s,p=n.height/i;return{width:h,height:p,top:d,right:u+h,bottom:d+p,left:u,x:u,y:d}}function B2(t){var e=Au(t),r=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:n}}function I3(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&$2(r)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Eo(t){return Jn(t).getComputedStyle(t)}function pre(t){return["table","td","th"].indexOf(Ni(t))>=0}function Oa(t){return(($l(t)?t.ownerDocument:t.document)||window.document).documentElement}function Vy(t){return Ni(t)==="html"?t:t.assignedSlot||t.parentNode||($2(t)?t.host:null)||Oa(t)}function RC(t){return!gs(t)||Eo(t).position==="fixed"?null:t.offsetParent}function mre(t){var e=/firefox/i.test(F1()),r=/Trident/i.test(F1());if(r&&gs(t)){var n=Eo(t);if(n.position==="fixed")return null}var s=Vy(t);for($2(s)&&(s=s.host);gs(s)&&["html","body"].indexOf(Ni(s))<0;){var i=Eo(s);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||e&&i.willChange==="filter"||e&&i.filter&&i.filter!=="none")return s;s=s.parentNode}return null}function np(t){for(var e=Jn(t),r=RC(t);r&&pre(r)&&Eo(r).position==="static";)r=RC(r);return r&&(Ni(r)==="html"||Ni(r)==="body"&&Eo(r).position==="static")?e:r||mre(t)||e}function z2(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function _f(t,e,r){return _l(t,l0(e,r))}function gre(t,e,r){var n=_f(t,e,r);return n>r?r:n}function P3(){return{top:0,right:0,bottom:0,left:0}}function A3(t){return Object.assign({},P3(),t)}function j3(t,e){return e.reduce(function(r,n){return r[n]=t,r},{})}var yre=function(e,r){return e=typeof e=="function"?e(Object.assign({},r.rects,{placement:r.placement})):e,A3(typeof e!="number"?e:j3(e,rp))};function vre(t){var e,r=t.state,n=t.name,s=t.options,i=r.elements.arrow,o=r.modifiersData.popperOffsets,a=Ci(r.placement),c=z2(a),u=[jn,_s].indexOf(a)>=0,d=u?"height":"width";if(!(!i||!o)){var h=yre(s.padding,r),p=B2(i),m=c==="y"?An:jn,v=c==="y"?ws:_s,b=r.rects.reference[d]+r.rects.reference[c]-o[c]-r.rects.popper[d],y=o[c]-r.rects.reference[c],x=np(i),g=x?c==="y"?x.clientHeight||0:x.clientWidth||0:0,w=b/2-y/2,I=h[m],P=g-p[d]-h[v],A=g/2-p[d]/2+w,S=_f(I,A,P),E=c;r.modifiersData[n]=(e={},e[E]=S,e.centerOffset=S-A,e)}}function bre(t){var e=t.state,r=t.options,n=r.element,s=n===void 0?"[data-popper-arrow]":n;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||I3(e.elements.popper,s)&&(e.elements.arrow=s))}const xre={name:"arrow",enabled:!0,phase:"main",fn:vre,effect:bre,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ju(t){return t.split("-")[1]}var wre={top:"auto",right:"auto",bottom:"auto",left:"auto"};function _re(t,e){var r=t.x,n=t.y,s=e.devicePixelRatio||1;return{x:Pu(r*s)/s||0,y:Pu(n*s)/s||0}}function DC(t){var e,r=t.popper,n=t.popperRect,s=t.placement,i=t.variation,o=t.offsets,a=t.position,c=t.gpuAcceleration,u=t.adaptive,d=t.roundOffsets,h=t.isFixed,p=o.x,m=p===void 0?0:p,v=o.y,b=v===void 0?0:v,y=typeof d=="function"?d({x:m,y:b}):{x:m,y:b};m=y.x,b=y.y;var x=o.hasOwnProperty("x"),g=o.hasOwnProperty("y"),w=jn,I=An,P=window;if(u){var A=np(r),S="clientHeight",E="clientWidth";if(A===Jn(r)&&(A=Oa(r),Eo(A).position!=="static"&&a==="absolute"&&(S="scrollHeight",E="scrollWidth")),A=A,s===An||(s===jn||s===_s)&&i===yh){I=ws;var C=h&&A===P&&P.visualViewport?P.visualViewport.height:A[S];b-=C-n.height,b*=c?1:-1}if(s===jn||(s===An||s===ws)&&i===yh){w=_s;var k=h&&A===P&&P.visualViewport?P.visualViewport.width:A[E];m-=k-n.width,m*=c?1:-1}}var j=Object.assign({position:a},u&&wre),O=d===!0?_re({x:m,y:b},Jn(r)):{x:m,y:b};if(m=O.x,b=O.y,c){var D;return Object.assign({},j,(D={},D[I]=g?"0":"",D[w]=x?"0":"",D.transform=(P.devicePixelRatio||1)<=1?"translate("+m+"px, "+b+"px)":"translate3d("+m+"px, "+b+"px, 0)",D))}return Object.assign({},j,(e={},e[I]=g?b+"px":"",e[w]=x?m+"px":"",e.transform="",e))}function Sre(t){var e=t.state,r=t.options,n=r.gpuAcceleration,s=n===void 0?!0:n,i=r.adaptive,o=i===void 0?!0:i,a=r.roundOffsets,c=a===void 0?!0:a,u={placement:Ci(e.placement),variation:ju(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,DC(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,DC(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Ere={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Sre,data:{}};var om={passive:!0};function Tre(t){var e=t.state,r=t.instance,n=t.options,s=n.scroll,i=s===void 0?!0:s,o=n.resize,a=o===void 0?!0:o,c=Jn(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&u.forEach(function(d){d.addEventListener("scroll",r.update,om)}),a&&c.addEventListener("resize",r.update,om),function(){i&&u.forEach(function(d){d.removeEventListener("scroll",r.update,om)}),a&&c.removeEventListener("resize",r.update,om)}}const Cre={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Tre,data:{}};var kre={left:"right",right:"left",bottom:"top",top:"bottom"};function Qm(t){return t.replace(/left|right|bottom|top/g,function(e){return kre[e]})}var Nre={start:"end",end:"start"};function OC(t){return t.replace(/start|end/g,function(e){return Nre[e]})}function U2(t){var e=Jn(t),r=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:r,scrollTop:n}}function H2(t){return Au(Oa(t)).left+U2(t).scrollLeft}function Ire(t,e){var r=Jn(t),n=Oa(t),s=r.visualViewport,i=n.clientWidth,o=n.clientHeight,a=0,c=0;if(s){i=s.width,o=s.height;var u=N3();(u||!u&&e==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:a+H2(t),y:c}}function Pre(t){var e,r=Oa(t),n=U2(t),s=(e=t.ownerDocument)==null?void 0:e.body,i=_l(r.scrollWidth,r.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=_l(r.scrollHeight,r.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-n.scrollLeft+H2(t),c=-n.scrollTop;return Eo(s||r).direction==="rtl"&&(a+=_l(r.clientWidth,s?s.clientWidth:0)-i),{width:i,height:o,x:a,y:c}}function W2(t){var e=Eo(t),r=e.overflow,n=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+s+n)}function R3(t){return["html","body","#document"].indexOf(Ni(t))>=0?t.ownerDocument.body:gs(t)&&W2(t)?t:R3(Vy(t))}function Sf(t,e){var r;e===void 0&&(e=[]);var n=R3(t),s=n===((r=t.ownerDocument)==null?void 0:r.body),i=Jn(n),o=s?[i].concat(i.visualViewport||[],W2(n)?n:[]):n,a=e.concat(o);return s?a:a.concat(Sf(Vy(o)))}function V1(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Are(t,e){var r=Au(t,!1,e==="fixed");return r.top=r.top+t.clientTop,r.left=r.left+t.clientLeft,r.bottom=r.top+t.clientHeight,r.right=r.left+t.clientWidth,r.width=t.clientWidth,r.height=t.clientHeight,r.x=r.left,r.y=r.top,r}function MC(t,e,r){return e===C3?V1(Ire(t,r)):$l(e)?Are(e,r):V1(Pre(Oa(t)))}function jre(t){var e=Sf(Vy(t)),r=["absolute","fixed"].indexOf(Eo(t).position)>=0,n=r&&gs(t)?np(t):t;return $l(n)?e.filter(function(s){return $l(s)&&I3(s,n)&&Ni(s)!=="body"}):[]}function Rre(t,e,r,n){var s=e==="clippingParents"?jre(t):[].concat(e),i=[].concat(s,[r]),o=i[0],a=i.reduce(function(c,u){var d=MC(t,u,n);return c.top=_l(d.top,c.top),c.right=l0(d.right,c.right),c.bottom=l0(d.bottom,c.bottom),c.left=_l(d.left,c.left),c},MC(t,o,n));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function D3(t){var e=t.reference,r=t.element,n=t.placement,s=n?Ci(n):null,i=n?ju(n):null,o=e.x+e.width/2-r.width/2,a=e.y+e.height/2-r.height/2,c;switch(s){case An:c={x:o,y:e.y-r.height};break;case ws:c={x:o,y:e.y+e.height};break;case _s:c={x:e.x+e.width,y:a};break;case jn:c={x:e.x-r.width,y:a};break;default:c={x:e.x,y:e.y}}var u=s?z2(s):null;if(u!=null){var d=u==="y"?"height":"width";switch(i){case Iu:c[u]=c[u]-(e[d]/2-r[d]/2);break;case yh:c[u]=c[u]+(e[d]/2-r[d]/2);break}}return c}function vh(t,e){e===void 0&&(e={});var r=e,n=r.placement,s=n===void 0?t.placement:n,i=r.strategy,o=i===void 0?t.strategy:i,a=r.boundary,c=a===void 0?Zte:a,u=r.rootBoundary,d=u===void 0?C3:u,h=r.elementContext,p=h===void 0?_d:h,m=r.altBoundary,v=m===void 0?!1:m,b=r.padding,y=b===void 0?0:b,x=A3(typeof y!="number"?y:j3(y,rp)),g=p===_d?ere:_d,w=t.rects.popper,I=t.elements[v?g:p],P=Rre($l(I)?I:I.contextElement||Oa(t.elements.popper),c,d,o),A=Au(t.elements.reference),S=D3({reference:A,element:w,placement:s}),E=V1(Object.assign({},w,S)),C=p===_d?E:A,k={top:P.top-C.top+x.top,bottom:C.bottom-P.bottom+x.bottom,left:P.left-C.left+x.left,right:C.right-P.right+x.right},j=t.modifiersData.offset;if(p===_d&&j){var O=j[s];Object.keys(k).forEach(function(D){var ue=[_s,ws].indexOf(D)>=0?1:-1,V=[An,ws].indexOf(D)>=0?"y":"x";k[D]+=O[V]*ue})}return k}function Dre(t,e){e===void 0&&(e={});var r=e,n=r.placement,s=r.boundary,i=r.rootBoundary,o=r.padding,a=r.flipVariations,c=r.allowedAutoPlacements,u=c===void 0?k3:c,d=ju(n),h=d?a?jC:jC.filter(function(v){return ju(v)===d}):rp,p=h.filter(function(v){return u.indexOf(v)>=0});p.length===0&&(p=h);var m=p.reduce(function(v,b){return v[b]=vh(t,{placement:b,boundary:s,rootBoundary:i,padding:o})[Ci(b)],v},{});return Object.keys(m).sort(function(v,b){return m[v]-m[b]})}function Ore(t){if(Ci(t)===V2)return[];var e=Qm(t);return[OC(t),e,OC(e)]}function Mre(t){var e=t.state,r=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var s=r.mainAxis,i=s===void 0?!0:s,o=r.altAxis,a=o===void 0?!0:o,c=r.fallbackPlacements,u=r.padding,d=r.boundary,h=r.rootBoundary,p=r.altBoundary,m=r.flipVariations,v=m===void 0?!0:m,b=r.allowedAutoPlacements,y=e.options.placement,x=Ci(y),g=x===y,w=c||(g||!v?[Qm(y)]:Ore(y)),I=[y].concat(w).reduce(function(X,ee){return X.concat(Ci(ee)===V2?Dre(e,{placement:ee,boundary:d,rootBoundary:h,padding:u,flipVariations:v,allowedAutoPlacements:b}):ee)},[]),P=e.rects.reference,A=e.rects.popper,S=new Map,E=!0,C=I[0],k=0;k<I.length;k++){var j=I[k],O=Ci(j),D=ju(j)===Iu,ue=[An,ws].indexOf(O)>=0,V=ue?"width":"height",B=vh(e,{placement:j,boundary:d,rootBoundary:h,altBoundary:p,padding:u}),G=ue?D?_s:jn:D?ws:An;P[V]>A[V]&&(G=Qm(G));var U=Qm(G),Z=[];if(i&&Z.push(B[O]<=0),a&&Z.push(B[G]<=0,B[U]<=0),Z.every(function(X){return X})){C=j,E=!1;break}S.set(j,Z)}if(E)for(var re=v?3:1,me=function(ee){var we=I.find(function(Le){var tt=S.get(Le);if(tt)return tt.slice(0,ee).every(function(pr){return pr})});if(we)return C=we,"break"},ae=re;ae>0;ae--){var J=me(ae);if(J==="break")break}e.placement!==C&&(e.modifiersData[n]._skip=!0,e.placement=C,e.reset=!0)}}const Lre={name:"flip",enabled:!0,phase:"main",fn:Mre,requiresIfExists:["offset"],data:{_skip:!1}};function LC(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function FC(t){return[An,_s,ws,jn].some(function(e){return t[e]>=0})}function Fre(t){var e=t.state,r=t.name,n=e.rects.reference,s=e.rects.popper,i=e.modifiersData.preventOverflow,o=vh(e,{elementContext:"reference"}),a=vh(e,{altBoundary:!0}),c=LC(o,n),u=LC(a,s,i),d=FC(c),h=FC(u);e.modifiersData[r]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:d,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":h})}const Vre={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Fre};function $re(t,e,r){var n=Ci(t),s=[jn,An].indexOf(n)>=0?-1:1,i=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,o=i[0],a=i[1];return o=o||0,a=(a||0)*s,[jn,_s].indexOf(n)>=0?{x:a,y:o}:{x:o,y:a}}function Bre(t){var e=t.state,r=t.options,n=t.name,s=r.offset,i=s===void 0?[0,0]:s,o=k3.reduce(function(d,h){return d[h]=$re(h,e.rects,i),d},{}),a=o[e.placement],c=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=u),e.modifiersData[n]=o}const zre={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Bre};function Ure(t){var e=t.state,r=t.name;e.modifiersData[r]=D3({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const Hre={name:"popperOffsets",enabled:!0,phase:"read",fn:Ure,data:{}};function Wre(t){return t==="x"?"y":"x"}function qre(t){var e=t.state,r=t.options,n=t.name,s=r.mainAxis,i=s===void 0?!0:s,o=r.altAxis,a=o===void 0?!1:o,c=r.boundary,u=r.rootBoundary,d=r.altBoundary,h=r.padding,p=r.tether,m=p===void 0?!0:p,v=r.tetherOffset,b=v===void 0?0:v,y=vh(e,{boundary:c,rootBoundary:u,padding:h,altBoundary:d}),x=Ci(e.placement),g=ju(e.placement),w=!g,I=z2(x),P=Wre(I),A=e.modifiersData.popperOffsets,S=e.rects.reference,E=e.rects.popper,C=typeof b=="function"?b(Object.assign({},e.rects,{placement:e.placement})):b,k=typeof C=="number"?{mainAxis:C,altAxis:C}:Object.assign({mainAxis:0,altAxis:0},C),j=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,O={x:0,y:0};if(A){if(i){var D,ue=I==="y"?An:jn,V=I==="y"?ws:_s,B=I==="y"?"height":"width",G=A[I],U=G+y[ue],Z=G-y[V],re=m?-E[B]/2:0,me=g===Iu?S[B]:E[B],ae=g===Iu?-E[B]:-S[B],J=e.elements.arrow,X=m&&J?B2(J):{width:0,height:0},ee=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:P3(),we=ee[ue],Le=ee[V],tt=_f(0,S[B],X[B]),pr=w?S[B]/2-re-tt-we-k.mainAxis:me-tt-we-k.mainAxis,Mr=w?-S[B]/2+re+tt+Le+k.mainAxis:ae+tt+Le+k.mainAxis,Sr=e.elements.arrow&&np(e.elements.arrow),Ne=Sr?I==="y"?Sr.clientTop||0:Sr.clientLeft||0:0,Nt=(D=j==null?void 0:j[I])!=null?D:0,Se=G+pr-Nt-Ne,Rt=G+Mr-Nt,_t=_f(m?l0(U,Se):U,G,m?_l(Z,Rt):Z);A[I]=_t,O[I]=_t-G}if(a){var Mn,$a=I==="x"?An:jn,Di=I==="x"?ws:_s,mr=A[P],Ln=P==="y"?"height":"width",Ts=mr+y[$a],Er=mr-y[Di],gr=[An,jn].indexOf(x)!==-1,gn=(Mn=j==null?void 0:j[P])!=null?Mn:0,Dt=gr?Ts:mr-S[Ln]-E[Ln]-gn+k.altAxis,Ot=gr?mr+S[Ln]+E[Ln]-gn-k.altAxis:Er,Kt=m&&gr?gre(Dt,mr,Ot):_f(m?Dt:Ts,mr,m?Ot:Er);A[P]=Kt,O[P]=Kt-mr}e.modifiersData[n]=O}}const Gre={name:"preventOverflow",enabled:!0,phase:"main",fn:qre,requiresIfExists:["offset"]};function Kre(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Qre(t){return t===Jn(t)||!gs(t)?U2(t):Kre(t)}function Yre(t){var e=t.getBoundingClientRect(),r=Pu(e.width)/t.offsetWidth||1,n=Pu(e.height)/t.offsetHeight||1;return r!==1||n!==1}function Xre(t,e,r){r===void 0&&(r=!1);var n=gs(e),s=gs(e)&&Yre(e),i=Oa(e),o=Au(t,s,r),a={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(n||!n&&!r)&&((Ni(e)!=="body"||W2(i))&&(a=Qre(e)),gs(e)?(c=Au(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):i&&(c.x=H2(i))),{x:o.left+a.scrollLeft-c.x,y:o.top+a.scrollTop-c.y,width:o.width,height:o.height}}function Jre(t){var e=new Map,r=new Set,n=[];t.forEach(function(i){e.set(i.name,i)});function s(i){r.add(i.name);var o=[].concat(i.requires||[],i.requiresIfExists||[]);o.forEach(function(a){if(!r.has(a)){var c=e.get(a);c&&s(c)}}),n.push(i)}return t.forEach(function(i){r.has(i.name)||s(i)}),n}function Zre(t){var e=Jre(t);return ure.reduce(function(r,n){return r.concat(e.filter(function(s){return s.phase===n}))},[])}function ene(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function tne(t){var e=t.reduce(function(r,n){var s=r[n.name];return r[n.name]=s?Object.assign({},s,n,{options:Object.assign({},s.options,n.options),data:Object.assign({},s.data,n.data)}):n,r},{});return Object.keys(e).map(function(r){return e[r]})}var VC={placement:"bottom",modifiers:[],strategy:"absolute"};function $C(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function rne(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,n=r===void 0?[]:r,s=e.defaultOptions,i=s===void 0?VC:s;return function(a,c,u){u===void 0&&(u=i);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},VC,i),modifiersData:{},elements:{reference:a,popper:c},attributes:{},styles:{}},h=[],p=!1,m={state:d,setOptions:function(x){var g=typeof x=="function"?x(d.options):x;b(),d.options=Object.assign({},i,d.options,g),d.scrollParents={reference:$l(a)?Sf(a):a.contextElement?Sf(a.contextElement):[],popper:Sf(c)};var w=Zre(tne([].concat(n,d.options.modifiers)));return d.orderedModifiers=w.filter(function(I){return I.enabled}),v(),m.update()},forceUpdate:function(){if(!p){var x=d.elements,g=x.reference,w=x.popper;if($C(g,w)){d.rects={reference:Xre(g,np(w),d.options.strategy==="fixed"),popper:B2(w)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(k){return d.modifiersData[k.name]=Object.assign({},k.data)});for(var I=0;I<d.orderedModifiers.length;I++){if(d.reset===!0){d.reset=!1,I=-1;continue}var P=d.orderedModifiers[I],A=P.fn,S=P.options,E=S===void 0?{}:S,C=P.name;typeof A=="function"&&(d=A({state:d,options:E,name:C,instance:m})||d)}}}},update:ene(function(){return new Promise(function(y){m.forceUpdate(),y(d)})}),destroy:function(){b(),p=!0}};if(!$C(a,c))return m;m.setOptions(u).then(function(y){!p&&u.onFirstUpdate&&u.onFirstUpdate(y)});function v(){d.orderedModifiers.forEach(function(y){var x=y.name,g=y.options,w=g===void 0?{}:g,I=y.effect;if(typeof I=="function"){var P=I({state:d,name:x,instance:m,options:w}),A=function(){};h.push(P||A)}})}function b(){h.forEach(function(y){return y()}),h=[]}return m}}var nne=[Cre,Hre,Ere,hre,zre,Lre,Gre,xre,Vre],sne=rne({defaultModifiers:nne});const dc=(t,e)=>({var:t,varRef:e?`var(${t}, ${e})`:`var(${t})`}),Ir={arrowShadowColor:dc("--popper-arrow-shadow-color"),arrowSize:dc("--popper-arrow-size","8px"),arrowSizeHalf:dc("--popper-arrow-size-half"),arrowBg:dc("--popper-arrow-bg"),transformOrigin:dc("--popper-transform-origin"),arrowOffset:dc("--popper-arrow-offset")};function ine(t){if(t.includes("top"))return"1px 1px 0px 0 var(--popper-arrow-shadow-color)";if(t.includes("bottom"))return"-1px -1px 0px 0 var(--popper-arrow-shadow-color)";if(t.includes("right"))return"-1px 1px 0px 0 var(--popper-arrow-shadow-color)";if(t.includes("left"))return"1px -1px 0px 0 var(--popper-arrow-shadow-color)"}const one={top:"bottom center","top-start":"bottom left","top-end":"bottom right",bottom:"top center","bottom-start":"top left","bottom-end":"top right",left:"right center","left-start":"right top","left-end":"right bottom",right:"left center","right-start":"left top","right-end":"left bottom"},ane=t=>one[t],BC={scroll:!0,resize:!0};function lne(t){let e;return typeof t=="object"?e={enabled:!0,options:{...BC,...t}}:e={enabled:t,options:BC},e}const cne={name:"matchWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:({state:t})=>{t.styles.popper.width=`${t.rects.reference.width}px`},effect:({state:t})=>()=>{const e=t.elements.reference;t.elements.popper.style.width=`${e.offsetWidth}px`}},une={name:"transformOrigin",enabled:!0,phase:"write",fn:({state:t})=>{zC(t)},effect:({state:t})=>()=>{zC(t)}},zC=t=>{t.elements.popper.style.setProperty(Ir.transformOrigin.var,ane(t.placement))},dne={name:"positionArrow",enabled:!0,phase:"afterWrite",fn:({state:t})=>{fne(t)}},fne=t=>{var r;if(!t.placement)return;const e=hne(t.placement);if((r=t.elements)!=null&&r.arrow&&e){Object.assign(t.elements.arrow.style,{[e.property]:e.value,width:Ir.arrowSize.varRef,height:Ir.arrowSize.varRef,zIndex:-1});const n={[Ir.arrowSizeHalf.var]:`calc(${Ir.arrowSize.varRef} / 2 - 1px)`,[Ir.arrowOffset.var]:`calc(${Ir.arrowSizeHalf.varRef} * -1)`};for(const s in n)t.elements.arrow.style.setProperty(s,n[s])}},hne=t=>{if(t.startsWith("top"))return{property:"bottom",value:Ir.arrowOffset.varRef};if(t.startsWith("bottom"))return{property:"top",value:Ir.arrowOffset.varRef};if(t.startsWith("left"))return{property:"right",value:Ir.arrowOffset.varRef};if(t.startsWith("right"))return{property:"left",value:Ir.arrowOffset.varRef}},pne={name:"innerArrow",enabled:!0,phase:"main",requires:["arrow"],fn:({state:t})=>{UC(t)},effect:({state:t})=>()=>{UC(t)}},UC=t=>{if(!t.elements.arrow)return;const e=t.elements.arrow.querySelector("[data-popper-arrow-inner]");if(!e)return;const r=ine(t.placement);r&&e.style.setProperty("--popper-arrow-default-shadow",r),Object.assign(e.style,{transform:"rotate(45deg)",background:Ir.arrowBg.varRef,top:0,left:0,width:"100%",height:"100%",position:"absolute",zIndex:"inherit",boxShadow:"var(--popper-arrow-shadow, var(--popper-arrow-default-shadow))"})},mne={"start-start":{ltr:"left-start",rtl:"right-start"},"start-end":{ltr:"left-end",rtl:"right-end"},"end-start":{ltr:"right-start",rtl:"left-start"},"end-end":{ltr:"right-end",rtl:"left-end"},start:{ltr:"left",rtl:"right"},end:{ltr:"right",rtl:"left"}},gne={"auto-start":"auto-end","auto-end":"auto-start","top-start":"top-end","top-end":"top-start","bottom-start":"bottom-end","bottom-end":"bottom-start"};function yne(t,e="ltr"){var n;const r=((n=mne[t])==null?void 0:n[e])||t;return e==="ltr"?r:gne[t]??r}function vne(t={}){const{enabled:e=!0,modifiers:r,placement:n="bottom",strategy:s="absolute",arrowPadding:i=8,eventListeners:o=!0,offset:a,gutter:c=8,flip:u=!0,boundary:d="clippingParents",preventOverflow:h=!0,matchWidth:p,direction:m="ltr"}=t,v=T.useRef(null),b=T.useRef(null),y=T.useRef(null),x=yne(n,m),g=T.useRef(()=>{}),w=T.useCallback(()=>{var k;!e||!v.current||!b.current||((k=g.current)==null||k.call(g),y.current=sne(v.current,b.current,{placement:x,modifiers:[pne,dne,une,{...cne,enabled:!!p},{name:"eventListeners",...lne(o)},{name:"arrow",options:{padding:i}},{name:"offset",options:{offset:a??[0,c]}},{name:"flip",enabled:!!u,options:{padding:8}},{name:"preventOverflow",enabled:!!h,options:{boundary:d}},...r??[]],strategy:s}),y.current.forceUpdate(),g.current=y.current.destroy)},[x,e,r,p,o,i,a,c,u,h,d,s]);T.useEffect(()=>()=>{var k;!v.current&&!b.current&&((k=y.current)==null||k.destroy(),y.current=null)},[]);const I=T.useCallback(k=>{v.current=k,w()},[w]),P=T.useCallback((k={},j=null)=>({...k,ref:Na(I,j)}),[I]),A=T.useCallback(k=>{b.current=k,w()},[w]),S=T.useCallback((k={},j=null)=>({...k,ref:Na(A,j),style:{...k.style,position:s,minWidth:p?void 0:"max-content",inset:"0 auto auto 0"}}),[s,A,p]),E=T.useCallback((k={},j=null)=>{const{size:O,shadowColor:D,bg:ue,style:V,...B}=k;return{...B,ref:j,"data-popper-arrow":"",style:bne(k)}},[]),C=T.useCallback((k={},j=null)=>({...k,ref:j,"data-popper-arrow-inner":""}),[]);return{update(){var k;(k=y.current)==null||k.update()},forceUpdate(){var k;(k=y.current)==null||k.forceUpdate()},transformOrigin:Ir.transformOrigin.varRef,referenceRef:I,popperRef:A,getPopperProps:S,getArrowProps:E,getArrowInnerProps:C,getReferenceProps:P}}function bne(t){const{size:e,shadowColor:r,bg:n,style:s}=t,i={...s,position:"absolute"};return e&&(i["--popper-arrow-size"]=e),r&&(i["--popper-arrow-shadow-color"]=r),n&&(i["--popper-arrow-bg"]=n),i}function xne(t){var r;const e=T.version;return typeof e!="string"||e.startsWith("18.")?t==null?void 0:t.ref:(r=t==null?void 0:t.props)==null?void 0:r.ref}const O3=lt(function(e,r){const{children:n,placeholder:s,className:i,...o}=e;return l.jsxs(Ae.select,{...o,ref:r,className:Ct("chakra-select",i),children:[s&&l.jsx("option",{value:"",children:s}),n]})});O3.displayName="SelectField";const M3=lt((t,e)=>{var w;const r=Kl("Select",t),{rootProps:n,placeholder:s,icon:i,color:o,height:a,h:c,minH:u,minHeight:d,iconColor:h,iconSize:p,...m}=en(t),[v,b]=K$(m,OB),y=b3(b),x={width:"100%",height:"fit-content",position:"relative",color:o},g={paddingEnd:"2rem",...r.field,_focus:{zIndex:"unset",...(w=r.field)==null?void 0:w._focus}};return l.jsxs(Ae.div,{className:"chakra-select__wrapper",__css:x,...v,...n,children:[l.jsx(O3,{ref:e,height:c??a,minH:u??d,placeholder:s,...y,__css:g,children:t.children}),l.jsx(L3,{"data-disabled":Ke(y.disabled),...(h||o)&&{color:h||o},__css:r.icon,...p&&{fontSize:p},children:i})]})});M3.displayName="Select";const wne=t=>l.jsx("svg",{viewBox:"0 0 24 24",...t,children:l.jsx("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})}),_ne=Ae("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),L3=t=>{const{children:e=l.jsx(wne,{}),...r}=t,n=T.cloneElement(e,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return l.jsx(_ne,{...r,className:"chakra-select__icon-wrapper",children:T.isValidElement(e)?n:null})};L3.displayName="SelectIcon";const F3=t=>l.jsx(Ae.div,{className:"chakra-stack__item",...t,__css:{display:"inline-block",flex:"0 0 auto",minWidth:0,...t.__css}});F3.displayName="StackItem";function Sne(t){const{spacing:e,direction:r}=t,n={column:{my:e,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},"column-reverse":{my:e,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},row:{mx:e,my:0,borderLeftWidth:"1px",borderBottomWidth:0},"row-reverse":{mx:e,my:0,borderLeftWidth:"1px",borderBottomWidth:0}};return{"&":Fj(r,s=>n[s])}}const q2=lt((t,e)=>{const{isInline:r,direction:n,align:s,justify:i,spacing:o="0.5rem",wrap:a,children:c,divider:u,className:d,shouldWrapChildren:h,...p}=t,m=r?"row":n??"column",v=T.useMemo(()=>Sne({spacing:o,direction:m}),[o,m]),b=!!u,y=!h&&!b,x=T.useMemo(()=>{const w=Oj(c);return y?w:w.map((I,P)=>{const A=typeof I.key<"u"?I.key:P,S=P+1===w.length,C=h?l.jsx(F3,{children:I},A):I;if(!b)return C;const k=T.cloneElement(u,{__css:v}),j=S?null:k;return l.jsxs(T.Fragment,{children:[C,j]},A)})},[u,v,b,y,h,c]),g=Ct("chakra-stack",d);return l.jsx(Ae.div,{ref:e,display:"flex",alignItems:s,justifyContent:i,flexDirection:m,flexWrap:a,gap:b?void 0:o,className:g,...p,children:x})});q2.displayName="Stack";const $1=lt((t,e)=>l.jsx(q2,{align:"center",...t,direction:"column",ref:e}));$1.displayName="VStack";function Ene(t,e){const r=t??"bottom",s={"top-start":{ltr:"top-left",rtl:"top-right"},"top-end":{ltr:"top-right",rtl:"top-left"},"bottom-start":{ltr:"bottom-left",rtl:"bottom-right"},"bottom-end":{ltr:"bottom-right",rtl:"bottom-left"}}[r];return(s==null?void 0:s[e])??r}function Tne(t,e){const r=s=>({...e,...s,position:Ene((s==null?void 0:s.position)??(e==null?void 0:e.position),t)}),n=s=>{const i=r(s),o=g3(i);return fi.notify(o,i)};return n.update=(s,i)=>{fi.update(s,r(i))},n.promise=(s,i)=>{const o=n({...i.loading,status:"loading",duration:null});s.then(a=>n.update(o,{status:"success",duration:5e3,...fs(i.success,a)})).catch(a=>n.update(o,{status:"error",duration:5e3,...fs(i.error,a)}))},n.closeAll=fi.closeAll,n.close=fi.close,n.isActive=fi.isActive,n}function $y(t){const{theme:e}=l3(),r=ute();return T.useMemo(()=>Tne(e.direction,{...r,...t}),[t,e.direction,r])}const Cne={exit:{scale:.85,opacity:0,transition:{opacity:{duration:.15,easings:"easeInOut"},scale:{duration:.2,easings:"easeInOut"}}},enter:{scale:1,opacity:1,transition:{opacity:{easings:"easeOut",duration:.2},scale:{duration:.2,ease:[.175,.885,.4,1.1]}}}},B1=t=>{var e;return((e=t.current)==null?void 0:e.ownerDocument)||document},Ym=t=>{var e,r;return((r=(e=t.current)==null?void 0:e.ownerDocument)==null?void 0:r.defaultView)||window};function kne(t={}){const{openDelay:e=0,closeDelay:r=0,closeOnClick:n=!0,closeOnMouseDown:s,closeOnScroll:i,closeOnPointerDown:o=s,closeOnEsc:a=!0,onOpen:c,onClose:u,placement:d,id:h,isOpen:p,defaultIsOpen:m,arrowSize:v=10,arrowShadowColor:b,arrowPadding:y,modifiers:x,isDisabled:g,gutter:w,offset:I,direction:P,...A}=t,{isOpen:S,onOpen:E,onClose:C}=J$({isOpen:p,defaultIsOpen:m,onOpen:c,onClose:u}),{referenceRef:k,getPopperProps:j,getArrowInnerProps:O,getArrowProps:D}=vne({enabled:S,placement:d,arrowPadding:y,modifiers:x,gutter:w,offset:I,direction:P}),ue=T.useId(),B=`tooltip-${h??ue}`,G=T.useRef(null),U=T.useRef(void 0),Z=T.useCallback(()=>{U.current&&(clearTimeout(U.current),U.current=void 0)},[]),re=T.useRef(void 0),me=T.useCallback(()=>{re.current&&(clearTimeout(re.current),re.current=void 0)},[]),ae=T.useCallback(()=>{me(),C()},[C,me]),J=Nne(G,ae),X=T.useCallback(()=>{if(!g&&!U.current){S&&J();const Ne=Ym(G);U.current=Ne.setTimeout(E,e)}},[J,g,S,E,e]),ee=T.useCallback(()=>{Z();const Ne=Ym(G);re.current=Ne.setTimeout(ae,r)},[r,ae,Z]),we=T.useCallback(()=>{S&&n&&ee()},[n,ee,S]),Le=T.useCallback(()=>{S&&o&&ee()},[o,ee,S]),tt=T.useCallback(Ne=>{S&&Ne.key==="Escape"&&ee()},[S,ee]);Kv(()=>B1(G),"keydown",a?tt:void 0),Kv(()=>{if(!i)return null;const Ne=G.current;if(!Ne)return null;const Nt=Vj(Ne);return Nt.localName==="body"?Ym(G):Nt},"scroll",()=>{S&&i&&ae()},{passive:!0,capture:!0}),T.useEffect(()=>{g&&(Z(),S&&C())},[g,S,C,Z]),T.useEffect(()=>()=>{Z(),me()},[Z,me]),Kv(()=>G.current,"pointerleave",ee);const pr=T.useCallback((Ne={},Nt=null)=>({...Ne,ref:Na(G,Nt,k),onPointerEnter:yr(Ne.onPointerEnter,Rt=>{Rt.pointerType!=="touch"&&X()}),onClick:yr(Ne.onClick,we),onPointerDown:yr(Ne.onPointerDown,Le),onFocus:yr(Ne.onFocus,X),onBlur:yr(Ne.onBlur,ee),"aria-describedby":S?B:void 0}),[X,ee,Le,S,B,we,k]),Mr=T.useCallback((Ne={},Nt=null)=>j({...Ne,style:{...Ne.style,[Ir.arrowSize.var]:v?`${v}px`:void 0,[Ir.arrowShadowColor.var]:b}},Nt),[j,v,b]),Sr=T.useCallback((Ne={},Nt=null)=>{const Se={...Ne.style,position:"relative",transformOrigin:Ir.transformOrigin.varRef};return{ref:Nt,...A,...Ne,id:B,role:"tooltip",style:Se}},[A,B]);return{isOpen:S,show:X,hide:ee,getTriggerProps:pr,getTooltipProps:Sr,getTooltipPositionerProps:Mr,getArrowProps:D,getArrowInnerProps:O}}const Eb="chakra-ui:close-tooltip";function Nne(t,e){return T.useEffect(()=>{const r=B1(t);return r.addEventListener(Eb,e),()=>r.removeEventListener(Eb,e)},[e,t]),()=>{const r=B1(t),n=Ym(t);r.dispatchEvent(new n.CustomEvent(Eb))}}const Ine=Ae(R2.div),V3=lt((t,e)=>{const r=ji("Tooltip",t),n=en(t),s=a3(),{children:i,label:o,shouldWrapChildren:a,"aria-label":c,hasArrow:u,bg:d,portalProps:h,background:p,backgroundColor:m,bgColor:v,motionProps:b,animatePresenceProps:y,...x}=n,g=p??m??d??v;if(g){r.bg=g;const k=WB(s,"colors",g);r[Ir.arrowBg.var]=k}const w=kne({...x,direction:s.direction}),I=!T.isValidElement(i)||a;let P;if(I)P=l.jsx(Ae.span,{display:"inline-block",tabIndex:0,...w.getTriggerProps(),children:i});else{const k=T.Children.only(i);P=T.cloneElement(k,w.getTriggerProps(k.props,xne(k)))}const A=!!c,S=w.getTooltipProps({},e),E=A?cy(S,["role","id"]):S,C=Lj(S,["role","id"]);return o?l.jsxs(l.Fragment,{children:[P,l.jsx(s3,{...y,children:w.isOpen&&l.jsx(ep,{...h,children:l.jsx(Ae.div,{...w.getTooltipPositionerProps(),__css:{zIndex:r.zIndex,pointerEvents:"none"},children:l.jsxs(Ine,{variants:Cne,initial:"exit",animate:"enter",exit:"exit",...b,...E,__css:r,children:[o,A&&l.jsx(Ae.span,{srOnly:!0,...C,children:c}),u&&l.jsx(Ae.div,{"data-popper-arrow":!0,className:"chakra-tooltip__arrow-wrapper",children:l.jsx(Ae.div,{"data-popper-arrow-inner":!0,className:"chakra-tooltip__arrow",__css:{bg:r.bg}})})]})})})})]}):l.jsx(l.Fragment,{children:i})});V3.displayName="Tooltip";const Ef=lt(function(e,r){const n=ji("Heading",e),{className:s,...i}=en(e);return l.jsx(Ae.h2,{ref:r,className:Ct("chakra-heading",e.className),...i,__css:n})});Ef.displayName="Heading";const Tf=lt(function(e,r){const n=ji("Text",e),{className:s,align:i,decoration:o,casing:a,...c}=en(e),u=Ku({textAlign:e.align,textDecoration:e.decoration,textTransform:e.casing});return l.jsx(Ae.p,{ref:r,className:Ct("chakra-text",e.className),...u,...c,__css:n})});Tf.displayName="Text";const{auth:Pne,db:HC}=of,$3=T.createContext(),mn=()=>T.useContext($3),B3=({children:t})=>{const[e,r]=T.useState(null),[n,s]=T.useState(!0),[i,o]=T.useState(null),a=$y();T.useEffect(()=>{const p=localStorage.getItem("user");if(p)try{const v=JSON.parse(p);r(v)}catch(v){console.error("خطأ في تحليل بيانات المستخدم المخزنة:",v),localStorage.removeItem("user")}const m=Pne.onAuthStateChanged(async v=>{try{if(v){if(console.log("AuthContext: تم اكتشاف مستخدم مصادق عليه:",v.uid),!e){console.log("AuthContext: جلب بيانات المستخدم من Firestore");const b=await Ml(ir(HC,"users",v.uid));if(b.exists()){const x={...b.data(),uid:v.uid};console.log("AuthContext: تم العثور على بيانات المستخدم:",x),r(x),localStorage.setItem("user",JSON.stringify(x)),await Wu(ir(HC,"users",v.uid),{lastActivityAt:cl()})}else console.warn("AuthContext: المستخدم مصادق عليه ولكن لا توجد بيانات في Firestore"),await of.signOutUser(),r(null),localStorage.removeItem("user"),a({title:"خطأ في المصادقة",description:"لم يتم العثور على بيانات المستخدم",status:"error",duration:5e3,isClosable:!0,position:"top"})}}else console.log("AuthContext: لا يوجد مستخدم مصادق عليه"),r(null),localStorage.removeItem("user")}catch(b){console.error("AuthContext: خطأ في مراقبة حالة المصادقة:",b),r(null),localStorage.removeItem("user")}finally{s(!1)}});return()=>m()},[]);const h={user:e,loading:n,error:i,signIn:async p=>{try{return console.log("AuthContext: تحديث بيانات المستخدم بعد تسجيل الدخول:",p),r(p),localStorage.setItem("user",JSON.stringify(p)),!0}catch(m){return console.error("AuthContext: خطأ في تحديث بيانات المستخدم:",m),!1}},logout:async()=>{try{return await of.signOutUser(),r(null),localStorage.removeItem("user"),!0}catch(p){return console.error("خطأ في تسجيل الخروج:",p),!1}},resetPassword:async p=>{try{return await of.resetPassword(p)}catch(m){return console.error("خطأ في إعادة تعيين كلمة المرور:",m),{success:!1,error:m.message}}},isAdmin:(e==null?void 0:e.role)==="admin",isManager:(e==null?void 0:e.role)==="manager",isEmployee:(e==null?void 0:e.role)==="employee",hasPermission:p=>e?e.role==="admin"?!0:e.permissions&&Array.isArray(e.permissions)?e.permissions.includes(p)||e.permissions.includes("all"):!1:!1};return l.jsx($3.Provider,{value:h,children:t})};/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mt(){return Mt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mt.apply(this,arguments)}var tr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(tr||(tr={}));const WC="popstate";function Ane(t){t===void 0&&(t={});function e(n,s){let{pathname:i,search:o,hash:a}=n.location;return bh("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Bl(s)}return Rne(e,r,null,t)}function Ue(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ru(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function jne(){return Math.random().toString(36).substr(2,8)}function qC(t,e){return{usr:t.state,key:t.key,idx:e}}function bh(t,e,r,n){return r===void 0&&(r=null),Mt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ma(e):e,{state:r,key:e&&e.key||n||jne()})}function Bl(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ma(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function Rne(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,a=tr.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Mt({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=tr.Pop;let y=d(),x=y==null?null:y-u;u=y,c&&c({action:a,location:b.location,delta:x})}function p(y,x){a=tr.Push;let g=bh(b.location,y,x);u=d()+1;let w=qC(g,u),I=b.createHref(g);try{o.pushState(w,"",I)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;s.location.assign(I)}i&&c&&c({action:a,location:b.location,delta:1})}function m(y,x){a=tr.Replace;let g=bh(b.location,y,x);u=d();let w=qC(g,u),I=b.createHref(g);o.replaceState(w,"",I),i&&c&&c({action:a,location:b.location,delta:0})}function v(y){let x=s.location.origin!=="null"?s.location.origin:s.location.href,g=typeof y=="string"?y:Bl(y);return g=g.replace(/ $/,"%20"),Ue(x,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,x)}let b={get action(){return a},get location(){return t(s,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(WC,h),c=y,()=>{s.removeEventListener(WC,h),c=null}},createHref(y){return e(s,y)},createURL:v,encodeLocation(y){let x=v(y);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:p,replace:m,go(y){return o.go(y)}};return b}var dt;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(dt||(dt={}));const Dne=new Set(["lazy","caseSensitive","path","id","index","children"]);function One(t){return t.index===!0}function c0(t,e,r,n){return r===void 0&&(r=[]),n===void 0&&(n={}),t.map((s,i)=>{let o=[...r,String(i)],a=typeof s.id=="string"?s.id:o.join("-");if(Ue(s.index!==!0||!s.children,"Cannot specify children on an index route"),Ue(!n[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),One(s)){let c=Mt({},s,e(s),{id:a});return n[a]=c,c}else{let c=Mt({},s,e(s),{id:a,children:void 0});return n[a]=c,s.children&&(c.children=c0(s.children,e,o,n)),c}})}function nl(t,e,r){return r===void 0&&(r="/"),Xm(t,e,r,!1)}function Xm(t,e,r,n){let s=typeof e=="string"?Ma(e):e,i=Zu(s.pathname||"/",r);if(i==null)return null;let o=z3(t);Lne(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let u=Kne(i);a=qne(o[c],u,n)}return a}function Mne(t,e){let{route:r,pathname:n,params:s}=t;return{id:r.id,pathname:n,params:s,data:e[r.id],handle:r.handle}}function z3(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,a)=>{let c={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Ue(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=co([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(Ue(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),z3(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:Hne(u,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let c of U3(i.path))s(i,o,c)}),e}function U3(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=U3(n.join("/")),a=[];return a.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&a.push(...o),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function Lne(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Wne(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Fne=/^:[\w-]+$/,Vne=3,$ne=2,Bne=1,zne=10,Une=-2,GC=t=>t==="*";function Hne(t,e){let r=t.split("/"),n=r.length;return r.some(GC)&&(n+=Une),e&&(n+=$ne),r.filter(s=>!GC(s)).reduce((s,i)=>s+(Fne.test(i)?Vne:i===""?Bne:zne),n)}function Wne(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function qne(t,e,r){r===void 0&&(r=!1);let{routesMeta:n}=t,s={},i="/",o=[];for(let a=0;a<n.length;++a){let c=n[a],u=a===n.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=KC({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),p=c.route;if(!h&&u&&r&&!n[n.length-1].route.index&&(h=KC({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:co([i,h.pathname]),pathnameBase:Xne(co([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=co([i,h.pathnameBase]))}return o}function KC(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Gne(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:p,isOptional:m}=d;if(p==="*"){let b=a[h]||"";o=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const v=a[h];return m&&!v?u[p]=void 0:u[p]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function Gne(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Ru(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(n.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function Kne(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ru(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Zu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function Qne(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?Ma(t):t;return{pathname:r?r.startsWith("/")?r:Yne(r,e):e,search:Jne(n),hash:Zne(s)}}function Yne(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Tb(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function H3(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function By(t,e){let r=H3(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function zy(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=Ma(t):(s=Mt({},t),Ue(!s.pathname||!s.pathname.includes("?"),Tb("?","pathname","search",s)),Ue(!s.pathname||!s.pathname.includes("#"),Tb("#","pathname","hash",s)),Ue(!s.search||!s.search.includes("#"),Tb("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=r;else{let h=e.length-1;if(!n&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;s.pathname=p.join("/")}a=h>=0?e[h]:"/"}let c=Qne(s,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const co=t=>t.join("/").replace(/\/\/+/g,"/"),Xne=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Jne=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Zne=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class u0{constructor(e,r,n,s){s===void 0&&(s=!1),this.status=e,this.statusText=r||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function xh(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const W3=["post","put","patch","delete"],ese=new Set(W3),tse=["get",...W3],rse=new Set(tse),nse=new Set([301,302,303,307,308]),sse=new Set([307,308]),Cb={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ise={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Sd={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},G2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ose=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),q3="remix-router-transitions";function ase(t){const e=t.window?t.window:typeof window<"u"?window:void 0,r=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",n=!r;Ue(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let s;if(t.mapRouteProperties)s=t.mapRouteProperties;else if(t.detectErrorBoundary){let L=t.detectErrorBoundary;s=z=>({hasErrorBoundary:L(z)})}else s=ose;let i={},o=c0(t.routes,s,void 0,i),a,c=t.basename||"/",u=t.dataStrategy||dse,d=t.patchRoutesOnNavigation,h=Mt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),p=null,m=new Set,v=null,b=null,y=null,x=t.hydrationData!=null,g=nl(o,t.history.location,c),w=!1,I=null;if(g==null&&!d){let L=_n(404,{pathname:t.history.location.pathname}),{matches:z,route:W}=ik(o);g=z,I={[W.id]:L}}g&&!t.hydrationData&&Bi(g,o,t.history.location.pathname).active&&(g=null);let P;if(g)if(g.some(L=>L.route.lazy))P=!1;else if(!g.some(L=>L.route.loader))P=!0;else if(h.v7_partialHydration){let L=t.hydrationData?t.hydrationData.loaderData:null,z=t.hydrationData?t.hydrationData.errors:null;if(z){let W=g.findIndex(ne=>z[ne.route.id]!==void 0);P=g.slice(0,W+1).every(ne=>!U1(ne.route,L,z))}else P=g.every(W=>!U1(W.route,L,z))}else P=t.hydrationData!=null;else if(P=!1,g=[],h.v7_partialHydration){let L=Bi(null,o,t.history.location.pathname);L.active&&L.matches&&(w=!0,g=L.matches)}let A,S={historyAction:t.history.action,location:t.history.location,matches:g,initialized:P,navigation:Cb,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||I,fetchers:new Map,blockers:new Map},E=tr.Pop,C=!1,k,j=!1,O=new Map,D=null,ue=!1,V=!1,B=[],G=new Set,U=new Map,Z=0,re=-1,me=new Map,ae=new Set,J=new Map,X=new Map,ee=new Set,we=new Map,Le=new Map,tt;function pr(){if(p=t.history.listen(L=>{let{action:z,location:W,delta:ne}=L;if(tt){tt(),tt=void 0;return}Ru(Le.size===0||ne!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let le=Ro({currentLocation:S.location,nextLocation:W,historyAction:z});if(le&&ne!=null){let be=new Promise(Ce=>{tt=Ce});t.history.go(ne*-1),Fi(le,{state:"blocked",location:W,proceed(){Fi(le,{state:"proceeding",proceed:void 0,reset:void 0,location:W}),be.then(()=>t.history.go(ne))},reset(){let Ce=new Map(S.blockers);Ce.set(le,Sd),Ne({blockers:Ce})}});return}return _t(z,W)}),r){Tse(e,O);let L=()=>Cse(e,O);e.addEventListener("pagehide",L),D=()=>e.removeEventListener("pagehide",L)}return S.initialized||_t(tr.Pop,S.location,{initialHydration:!0}),A}function Mr(){p&&p(),D&&D(),m.clear(),k&&k.abort(),S.fetchers.forEach((L,z)=>Oi(z)),S.blockers.forEach((L,z)=>Li(z))}function Sr(L){return m.add(L),()=>m.delete(L)}function Ne(L,z){z===void 0&&(z={}),S=Mt({},S,L);let W=[],ne=[];h.v7_fetcherPersist&&S.fetchers.forEach((le,be)=>{le.state==="idle"&&(ee.has(be)?ne.push(be):W.push(be))}),ee.forEach(le=>{!S.fetchers.has(le)&&!U.has(le)&&ne.push(le)}),[...m].forEach(le=>le(S,{deletedFetchers:ne,viewTransitionOpts:z.viewTransitionOpts,flushSync:z.flushSync===!0})),h.v7_fetcherPersist?(W.forEach(le=>S.fetchers.delete(le)),ne.forEach(le=>Oi(le))):ne.forEach(le=>ee.delete(le))}function Nt(L,z,W){var ne,le;let{flushSync:be}=W===void 0?{}:W,Ce=S.actionData!=null&&S.navigation.formMethod!=null&&Ls(S.navigation.formMethod)&&S.navigation.state==="loading"&&((ne=L.state)==null?void 0:ne._isRedirect)!==!0,ge;z.actionData?Object.keys(z.actionData).length>0?ge=z.actionData:ge=null:Ce?ge=S.actionData:ge=null;let pe=z.loaderData?nk(S.loaderData,z.loaderData,z.matches||[],z.errors):S.loaderData,de=S.blockers;de.size>0&&(de=new Map(de),de.forEach((Re,Ht)=>de.set(Ht,Sd)));let he=C===!0||S.navigation.formMethod!=null&&Ls(S.navigation.formMethod)&&((le=L.state)==null?void 0:le._isRedirect)!==!0;a&&(o=a,a=void 0),ue||E===tr.Pop||(E===tr.Push?t.history.push(L,L.state):E===tr.Replace&&t.history.replace(L,L.state));let Ie;if(E===tr.Pop){let Re=O.get(S.location.pathname);Re&&Re.has(L.pathname)?Ie={currentLocation:S.location,nextLocation:L}:O.has(L.pathname)&&(Ie={currentLocation:L,nextLocation:S.location})}else if(j){let Re=O.get(S.location.pathname);Re?Re.add(L.pathname):(Re=new Set([L.pathname]),O.set(S.location.pathname,Re)),Ie={currentLocation:S.location,nextLocation:L}}Ne(Mt({},z,{actionData:ge,loaderData:pe,historyAction:E,location:L,initialized:!0,navigation:Cb,revalidation:"idle",restoreScrollPosition:$i(L,z.matches||S.matches),preventScrollReset:he,blockers:de}),{viewTransitionOpts:Ie,flushSync:be===!0}),E=tr.Pop,C=!1,j=!1,ue=!1,V=!1,B=[]}async function Se(L,z){if(typeof L=="number"){t.history.go(L);return}let W=z1(S.location,S.matches,c,h.v7_prependBasename,L,h.v7_relativeSplatPath,z==null?void 0:z.fromRouteId,z==null?void 0:z.relative),{path:ne,submission:le,error:be}=QC(h.v7_normalizeFormMethod,!1,W,z),Ce=S.location,ge=bh(S.location,ne,z&&z.state);ge=Mt({},ge,t.history.encodeLocation(ge));let pe=z&&z.replace!=null?z.replace:void 0,de=tr.Push;pe===!0?de=tr.Replace:pe===!1||le!=null&&Ls(le.formMethod)&&le.formAction===S.location.pathname+S.location.search&&(de=tr.Replace);let he=z&&"preventScrollReset"in z?z.preventScrollReset===!0:void 0,Ie=(z&&z.flushSync)===!0,Re=Ro({currentLocation:Ce,nextLocation:ge,historyAction:de});if(Re){Fi(Re,{state:"blocked",location:ge,proceed(){Fi(Re,{state:"proceeding",proceed:void 0,reset:void 0,location:ge}),Se(L,z)},reset(){let Ht=new Map(S.blockers);Ht.set(Re,Sd),Ne({blockers:Ht})}});return}return await _t(de,ge,{submission:le,pendingError:be,preventScrollReset:he,replace:z&&z.replace,enableViewTransition:z&&z.viewTransition,flushSync:Ie})}function Rt(){if(Ot(),Ne({revalidation:"loading"}),S.navigation.state!=="submitting"){if(S.navigation.state==="idle"){_t(S.historyAction,S.location,{startUninterruptedRevalidation:!0});return}_t(E||S.historyAction,S.navigation.location,{overrideNavigation:S.navigation,enableViewTransition:j===!0})}}async function _t(L,z,W){k&&k.abort(),k=null,E=L,ue=(W&&W.startUninterruptedRevalidation)===!0,Yl(S.location,S.matches),C=(W&&W.preventScrollReset)===!0,j=(W&&W.enableViewTransition)===!0;let ne=a||o,le=W&&W.overrideNavigation,be=W!=null&&W.initialHydration&&S.matches&&S.matches.length>0&&!w?S.matches:nl(ne,z,c),Ce=(W&&W.flushSync)===!0;if(be&&S.initialized&&!V&&yse(S.location,z)&&!(W&&W.submission&&Ls(W.submission.formMethod))){Nt(z,{matches:be},{flushSync:Ce});return}let ge=Bi(be,ne,z.pathname);if(ge.active&&ge.matches&&(be=ge.matches),!be){let{error:rt,notFoundMatches:Be,route:gt}=rn(z.pathname);Nt(z,{matches:Be,loaderData:{},errors:{[gt.id]:rt}},{flushSync:Ce});return}k=new AbortController;let pe=fc(t.history,z,k.signal,W&&W.submission),de;if(W&&W.pendingError)de=[sl(be).route.id,{type:dt.error,error:W.pendingError}];else if(W&&W.submission&&Ls(W.submission.formMethod)){let rt=await Mn(pe,z,W.submission,be,ge.active,{replace:W.replace,flushSync:Ce});if(rt.shortCircuited)return;if(rt.pendingActionResult){let[Be,gt]=rt.pendingActionResult;if(Un(gt)&&xh(gt.error)&&gt.error.status===404){k=null,Nt(z,{matches:rt.matches,loaderData:{},errors:{[Be]:gt.error}});return}}be=rt.matches||be,de=rt.pendingActionResult,le=kb(z,W.submission),Ce=!1,ge.active=!1,pe=fc(t.history,pe.url,pe.signal)}let{shortCircuited:he,matches:Ie,loaderData:Re,errors:Ht}=await $a(pe,z,be,ge.active,le,W&&W.submission,W&&W.fetcherSubmission,W&&W.replace,W&&W.initialHydration===!0,Ce,de);he||(k=null,Nt(z,Mt({matches:Ie||be},sk(de),{loaderData:Re,errors:Ht})))}async function Mn(L,z,W,ne,le,be){be===void 0&&(be={}),Ot();let Ce=Sse(z,W);if(Ne({navigation:Ce},{flushSync:be.flushSync===!0}),le){let de=await ss(ne,z.pathname,L.signal);if(de.type==="aborted")return{shortCircuited:!0};if(de.type==="error"){let he=sl(de.partialMatches).route.id;return{matches:de.partialMatches,pendingActionResult:[he,{type:dt.error,error:de.error}]}}else if(de.matches)ne=de.matches;else{let{notFoundMatches:he,error:Ie,route:Re}=rn(z.pathname);return{matches:he,pendingActionResult:[Re.id,{type:dt.error,error:Ie}]}}}let ge,pe=Hd(ne,z);if(!pe.route.action&&!pe.route.lazy)ge={type:dt.error,error:_n(405,{method:L.method,pathname:z.pathname,routeId:pe.route.id})};else if(ge=(await gn("action",S,L,[pe],ne,null))[pe.route.id],L.signal.aborted)return{shortCircuited:!0};if(hl(ge)){let de;return be&&be.replace!=null?de=be.replace:de=ek(ge.response.headers.get("Location"),new URL(L.url),c)===S.location.pathname+S.location.search,await gr(L,ge,!0,{submission:W,replace:de}),{shortCircuited:!0}}if(ca(ge))throw _n(400,{type:"defer-action"});if(Un(ge)){let de=sl(ne,pe.route.id);return(be&&be.replace)!==!0&&(E=tr.Push),{matches:ne,pendingActionResult:[de.route.id,ge]}}return{matches:ne,pendingActionResult:[pe.route.id,ge]}}async function $a(L,z,W,ne,le,be,Ce,ge,pe,de,he){let Ie=le||kb(z,be),Re=be||Ce||ak(Ie),Ht=!ue&&(!h.v7_partialHydration||!pe);if(ne){if(Ht){let yt=Di(he);Ne(Mt({navigation:Ie},yt!==void 0?{actionData:yt}:{}),{flushSync:de})}let We=await ss(W,z.pathname,L.signal);if(We.type==="aborted")return{shortCircuited:!0};if(We.type==="error"){let yt=sl(We.partialMatches).route.id;return{matches:We.partialMatches,loaderData:{},errors:{[yt]:We.error}}}else if(We.matches)W=We.matches;else{let{error:yt,notFoundMatches:Cs,route:Zs}=rn(z.pathname);return{matches:Cs,loaderData:{},errors:{[Zs.id]:yt}}}}let rt=a||o,[Be,gt]=XC(t.history,S,W,Re,z,h.v7_partialHydration&&pe===!0,h.v7_skipActionErrorRevalidation,V,B,G,ee,J,ae,rt,c,he);if(Vi(We=>!(W&&W.some(yt=>yt.route.id===We))||Be&&Be.some(yt=>yt.route.id===We)),re=++Z,Be.length===0&&gt.length===0){let We=yn();return Nt(z,Mt({matches:W,loaderData:{},errors:he&&Un(he[1])?{[he[0]]:he[1].error}:null},sk(he),We?{fetchers:new Map(S.fetchers)}:{}),{flushSync:de}),{shortCircuited:!0}}if(Ht){let We={};if(!ne){We.navigation=Ie;let yt=Di(he);yt!==void 0&&(We.actionData=yt)}gt.length>0&&(We.fetchers=mr(gt)),Ne(We,{flushSync:de})}gt.forEach(We=>{Fn(We.key),We.controller&&U.set(We.key,We.controller)});let $n=()=>gt.forEach(We=>Fn(We.key));k&&k.signal.addEventListener("abort",$n);let{loaderResults:Xs,fetcherResults:Lr}=await Dt(S,W,Be,gt,L);if(L.signal.aborted)return{shortCircuited:!0};k&&k.signal.removeEventListener("abort",$n),gt.forEach(We=>U.delete(We.key));let ar=am(Xs);if(ar)return await gr(L,ar.result,!0,{replace:ge}),{shortCircuited:!0};if(ar=am(Lr),ar)return ae.add(ar.key),await gr(L,ar.result,!0,{replace:ge}),{shortCircuited:!0};let{loaderData:Do,errors:bn}=rk(S,W,Xs,he,gt,Lr,we);we.forEach((We,yt)=>{We.subscribe(Cs=>{(Cs||We.done)&&we.delete(yt)})}),h.v7_partialHydration&&pe&&S.errors&&(bn=Mt({},S.errors,bn));let Fr=yn(),xn=Mi(re),Js=Fr||xn||gt.length>0;return Mt({matches:W,loaderData:Do,errors:bn},Js?{fetchers:new Map(S.fetchers)}:{})}function Di(L){if(L&&!Un(L[1]))return{[L[0]]:L[1].data};if(S.actionData)return Object.keys(S.actionData).length===0?null:S.actionData}function mr(L){return L.forEach(z=>{let W=S.fetchers.get(z.key),ne=Ed(void 0,W?W.data:void 0);S.fetchers.set(z.key,ne)}),new Map(S.fetchers)}function Ln(L,z,W,ne){if(n)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Fn(L);let le=(ne&&ne.flushSync)===!0,be=a||o,Ce=z1(S.location,S.matches,c,h.v7_prependBasename,W,h.v7_relativeSplatPath,z,ne==null?void 0:ne.relative),ge=nl(be,Ce,c),pe=Bi(ge,be,Ce);if(pe.active&&pe.matches&&(ge=pe.matches),!ge){tn(L,z,_n(404,{pathname:Ce}),{flushSync:le});return}let{path:de,submission:he,error:Ie}=QC(h.v7_normalizeFormMethod,!0,Ce,ne);if(Ie){tn(L,z,Ie,{flushSync:le});return}let Re=Hd(ge,de),Ht=(ne&&ne.preventScrollReset)===!0;if(he&&Ls(he.formMethod)){Ts(L,z,de,Re,ge,pe.active,le,Ht,he);return}J.set(L,{routeId:z,path:de}),Er(L,z,de,Re,ge,pe.active,le,Ht,he)}async function Ts(L,z,W,ne,le,be,Ce,ge,pe){Ot(),J.delete(L);function de(St){if(!St.route.action&&!St.route.lazy){let is=_n(405,{method:pe.formMethod,pathname:W,routeId:z});return tn(L,z,is,{flushSync:Ce}),!0}return!1}if(!be&&de(ne))return;let he=S.fetchers.get(L);Kt(L,Ese(pe,he),{flushSync:Ce});let Ie=new AbortController,Re=fc(t.history,W,Ie.signal,pe);if(be){let St=await ss(le,new URL(Re.url).pathname,Re.signal,L);if(St.type==="aborted")return;if(St.type==="error"){tn(L,z,St.error,{flushSync:Ce});return}else if(St.matches){if(le=St.matches,ne=Hd(le,W),de(ne))return}else{tn(L,z,_n(404,{pathname:W}),{flushSync:Ce});return}}U.set(L,Ie);let Ht=Z,Be=(await gn("action",S,Re,[ne],le,L))[ne.route.id];if(Re.signal.aborted){U.get(L)===Ie&&U.delete(L);return}if(h.v7_fetcherPersist&&ee.has(L)){if(hl(Be)||Un(Be)){Kt(L,Ho(void 0));return}}else{if(hl(Be))if(U.delete(L),re>Ht){Kt(L,Ho(void 0));return}else return ae.add(L),Kt(L,Ed(pe)),gr(Re,Be,!1,{fetcherSubmission:pe,preventScrollReset:ge});if(Un(Be)){tn(L,z,Be.error);return}}if(ca(Be))throw _n(400,{type:"defer-action"});let gt=S.navigation.location||S.location,$n=fc(t.history,gt,Ie.signal),Xs=a||o,Lr=S.navigation.state!=="idle"?nl(Xs,S.navigation.location,c):S.matches;Ue(Lr,"Didn't find any matches after fetcher action");let ar=++Z;me.set(L,ar);let Do=Ed(pe,Be.data);S.fetchers.set(L,Do);let[bn,Fr]=XC(t.history,S,Lr,pe,gt,!1,h.v7_skipActionErrorRevalidation,V,B,G,ee,J,ae,Xs,c,[ne.route.id,Be]);Fr.filter(St=>St.key!==L).forEach(St=>{let is=St.key,za=S.fetchers.get(is),Xl=Ed(void 0,za?za.data:void 0);S.fetchers.set(is,Xl),Fn(is),St.controller&&U.set(is,St.controller)}),Ne({fetchers:new Map(S.fetchers)});let xn=()=>Fr.forEach(St=>Fn(St.key));Ie.signal.addEventListener("abort",xn);let{loaderResults:Js,fetcherResults:We}=await Dt(S,Lr,bn,Fr,$n);if(Ie.signal.aborted)return;Ie.signal.removeEventListener("abort",xn),me.delete(L),U.delete(L),Fr.forEach(St=>U.delete(St.key));let yt=am(Js);if(yt)return gr($n,yt.result,!1,{preventScrollReset:ge});if(yt=am(We),yt)return ae.add(yt.key),gr($n,yt.result,!1,{preventScrollReset:ge});let{loaderData:Cs,errors:Zs}=rk(S,Lr,Js,void 0,Fr,We,we);if(S.fetchers.has(L)){let St=Ho(Be.data);S.fetchers.set(L,St)}Mi(ar),S.navigation.state==="loading"&&ar>re?(Ue(E,"Expected pending action"),k&&k.abort(),Nt(S.navigation.location,{matches:Lr,loaderData:Cs,errors:Zs,fetchers:new Map(S.fetchers)})):(Ne({errors:Zs,loaderData:nk(S.loaderData,Cs,Lr,Zs),fetchers:new Map(S.fetchers)}),V=!1)}async function Er(L,z,W,ne,le,be,Ce,ge,pe){let de=S.fetchers.get(L);Kt(L,Ed(pe,de?de.data:void 0),{flushSync:Ce});let he=new AbortController,Ie=fc(t.history,W,he.signal);if(be){let Be=await ss(le,new URL(Ie.url).pathname,Ie.signal,L);if(Be.type==="aborted")return;if(Be.type==="error"){tn(L,z,Be.error,{flushSync:Ce});return}else if(Be.matches)le=Be.matches,ne=Hd(le,W);else{tn(L,z,_n(404,{pathname:W}),{flushSync:Ce});return}}U.set(L,he);let Re=Z,rt=(await gn("loader",S,Ie,[ne],le,L))[ne.route.id];if(ca(rt)&&(rt=await K2(rt,Ie.signal,!0)||rt),U.get(L)===he&&U.delete(L),!Ie.signal.aborted){if(ee.has(L)){Kt(L,Ho(void 0));return}if(hl(rt))if(re>Re){Kt(L,Ho(void 0));return}else{ae.add(L),await gr(Ie,rt,!1,{preventScrollReset:ge});return}if(Un(rt)){tn(L,z,rt.error);return}Ue(!ca(rt),"Unhandled fetcher deferred data"),Kt(L,Ho(rt.data))}}async function gr(L,z,W,ne){let{submission:le,fetcherSubmission:be,preventScrollReset:Ce,replace:ge}=ne===void 0?{}:ne;z.response.headers.has("X-Remix-Revalidate")&&(V=!0);let pe=z.response.headers.get("Location");Ue(pe,"Expected a Location header on the redirect Response"),pe=ek(pe,new URL(L.url),c);let de=bh(S.location,pe,{_isRedirect:!0});if(r){let Be=!1;if(z.response.headers.has("X-Remix-Reload-Document"))Be=!0;else if(G2.test(pe)){const gt=t.history.createURL(pe);Be=gt.origin!==e.location.origin||Zu(gt.pathname,c)==null}if(Be){ge?e.location.replace(pe):e.location.assign(pe);return}}k=null;let he=ge===!0||z.response.headers.has("X-Remix-Replace")?tr.Replace:tr.Push,{formMethod:Ie,formAction:Re,formEncType:Ht}=S.navigation;!le&&!be&&Ie&&Re&&Ht&&(le=ak(S.navigation));let rt=le||be;if(sse.has(z.response.status)&&rt&&Ls(rt.formMethod))await _t(he,de,{submission:Mt({},rt,{formAction:pe}),preventScrollReset:Ce||C,enableViewTransition:W?j:void 0});else{let Be=kb(de,le);await _t(he,de,{overrideNavigation:Be,fetcherSubmission:be,preventScrollReset:Ce||C,enableViewTransition:W?j:void 0})}}async function gn(L,z,W,ne,le,be){let Ce,ge={};try{Ce=await fse(u,L,z,W,ne,le,be,i,s)}catch(pe){return ne.forEach(de=>{ge[de.route.id]={type:dt.error,error:pe}}),ge}for(let[pe,de]of Object.entries(Ce))if(vse(de)){let he=de.result;ge[pe]={type:dt.redirect,response:mse(he,W,pe,le,c,h.v7_relativeSplatPath)}}else ge[pe]=await pse(de);return ge}async function Dt(L,z,W,ne,le){let be=L.matches,Ce=gn("loader",L,le,W,z,null),ge=Promise.all(ne.map(async he=>{if(he.matches&&he.match&&he.controller){let Re=(await gn("loader",L,fc(t.history,he.path,he.controller.signal),[he.match],he.matches,he.key))[he.match.route.id];return{[he.key]:Re}}else return Promise.resolve({[he.key]:{type:dt.error,error:_n(404,{pathname:he.path})}})})),pe=await Ce,de=(await ge).reduce((he,Ie)=>Object.assign(he,Ie),{});return await Promise.all([wse(z,pe,le.signal,be,L.loaderData),_se(z,de,ne)]),{loaderResults:pe,fetcherResults:de}}function Ot(){V=!0,B.push(...Vi()),J.forEach((L,z)=>{U.has(z)&&G.add(z),Fn(z)})}function Kt(L,z,W){W===void 0&&(W={}),S.fetchers.set(L,z),Ne({fetchers:new Map(S.fetchers)},{flushSync:(W&&W.flushSync)===!0})}function tn(L,z,W,ne){ne===void 0&&(ne={});let le=sl(S.matches,z);Oi(L),Ne({errors:{[le.route.id]:W},fetchers:new Map(S.fetchers)},{flushSync:(ne&&ne.flushSync)===!0})}function jo(L){return X.set(L,(X.get(L)||0)+1),ee.has(L)&&ee.delete(L),S.fetchers.get(L)||ise}function Oi(L){let z=S.fetchers.get(L);U.has(L)&&!(z&&z.state==="loading"&&me.has(L))&&Fn(L),J.delete(L),me.delete(L),ae.delete(L),h.v7_fetcherPersist&&ee.delete(L),G.delete(L),S.fetchers.delete(L)}function Ys(L){let z=(X.get(L)||0)-1;z<=0?(X.delete(L),ee.add(L),h.v7_fetcherPersist||Oi(L)):X.set(L,z),Ne({fetchers:new Map(S.fetchers)})}function Fn(L){let z=U.get(L);z&&(z.abort(),U.delete(L))}function Ba(L){for(let z of L){let W=jo(z),ne=Ho(W.data);S.fetchers.set(z,ne)}}function yn(){let L=[],z=!1;for(let W of ae){let ne=S.fetchers.get(W);Ue(ne,"Expected fetcher: "+W),ne.state==="loading"&&(ae.delete(W),L.push(W),z=!0)}return Ba(L),z}function Mi(L){let z=[];for(let[W,ne]of me)if(ne<L){let le=S.fetchers.get(W);Ue(le,"Expected fetcher: "+W),le.state==="loading"&&(Fn(W),me.delete(W),z.push(W))}return Ba(z),z.length>0}function nd(L,z){let W=S.blockers.get(L)||Sd;return Le.get(L)!==z&&Le.set(L,z),W}function Li(L){S.blockers.delete(L),Le.delete(L)}function Fi(L,z){let W=S.blockers.get(L)||Sd;Ue(W.state==="unblocked"&&z.state==="blocked"||W.state==="blocked"&&z.state==="blocked"||W.state==="blocked"&&z.state==="proceeding"||W.state==="blocked"&&z.state==="unblocked"||W.state==="proceeding"&&z.state==="unblocked","Invalid blocker state transition: "+W.state+" -> "+z.state);let ne=new Map(S.blockers);ne.set(L,z),Ne({blockers:ne})}function Ro(L){let{currentLocation:z,nextLocation:W,historyAction:ne}=L;if(Le.size===0)return;Le.size>1&&Ru(!1,"A router only supports one blocker at a time");let le=Array.from(Le.entries()),[be,Ce]=le[le.length-1],ge=S.blockers.get(be);if(!(ge&&ge.state==="proceeding")&&Ce({currentLocation:z,nextLocation:W,historyAction:ne}))return be}function rn(L){let z=_n(404,{pathname:L}),W=a||o,{matches:ne,route:le}=ik(W);return Vi(),{notFoundMatches:ne,route:le,error:z}}function Vi(L){let z=[];return we.forEach((W,ne)=>{(!L||L(ne))&&(W.cancel(),z.push(ne),we.delete(ne))}),z}function Vn(L,z,W){if(v=L,y=z,b=W||null,!x&&S.navigation===Cb){x=!0;let ne=$i(S.location,S.matches);ne!=null&&Ne({restoreScrollPosition:ne})}return()=>{v=null,y=null,b=null}}function ns(L,z){return b&&b(L,z.map(ne=>Mne(ne,S.loaderData)))||L.key}function Yl(L,z){if(v&&y){let W=ns(L,z);v[W]=y()}}function $i(L,z){if(v){let W=ns(L,z),ne=v[W];if(typeof ne=="number")return ne}return null}function Bi(L,z,W){if(d)if(L){if(Object.keys(L[0].params).length>0)return{active:!0,matches:Xm(z,W,c,!0)}}else return{active:!0,matches:Xm(z,W,c,!0)||[]};return{active:!1,matches:null}}async function ss(L,z,W,ne){if(!d)return{type:"success",matches:L};let le=L;for(;;){let be=a==null,Ce=a||o,ge=i;try{await d({signal:W,path:z,matches:le,fetcherKey:ne,patch:(he,Ie)=>{W.aborted||ZC(he,Ie,Ce,ge,s)}})}catch(he){return{type:"error",error:he,partialMatches:le}}finally{be&&!W.aborted&&(o=[...o])}if(W.aborted)return{type:"aborted"};let pe=nl(Ce,z,c);if(pe)return{type:"success",matches:pe};let de=Xm(Ce,z,c,!0);if(!de||le.length===de.length&&le.every((he,Ie)=>he.route.id===de[Ie].route.id))return{type:"success",matches:null};le=de}}function vn(L){i={},a=c0(L,s,void 0,i)}function or(L,z){let W=a==null;ZC(L,z,a||o,i,s),W&&(o=[...o],Ne({}))}return A={get basename(){return c},get future(){return h},get state(){return S},get routes(){return o},get window(){return e},initialize:pr,subscribe:Sr,enableScrollRestoration:Vn,navigate:Se,fetch:Ln,revalidate:Rt,createHref:L=>t.history.createHref(L),encodeLocation:L=>t.history.encodeLocation(L),getFetcher:jo,deleteFetcher:Ys,dispose:Mr,getBlocker:nd,deleteBlocker:Li,patchRoutes:or,_internalFetchControllers:U,_internalActiveDeferreds:we,_internalSetRoutes:vn},A}function lse(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function z1(t,e,r,n,s,i,o,a){let c,u;if(o){c=[];for(let h of e)if(c.push(h),h.route.id===o){u=h;break}}else c=e,u=e[e.length-1];let d=zy(s||".",By(c,i),Zu(t.pathname,r)||t.pathname,a==="path");if(s==null&&(d.search=t.search,d.hash=t.hash),(s==null||s===""||s===".")&&u){let h=Q2(d.search);if(u.route.index&&!h)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&h){let p=new URLSearchParams(d.search),m=p.getAll("index");p.delete("index"),m.filter(b=>b).forEach(b=>p.append("index",b));let v=p.toString();d.search=v?"?"+v:""}}return n&&r!=="/"&&(d.pathname=d.pathname==="/"?r:co([r,d.pathname])),Bl(d)}function QC(t,e,r,n){if(!n||!lse(n))return{path:r};if(n.formMethod&&!xse(n.formMethod))return{path:r,error:_n(405,{method:n.formMethod})};let s=()=>({path:r,error:_n(400,{type:"invalid-body"})}),i=n.formMethod||"get",o=t?i.toUpperCase():i.toLowerCase(),a=Q3(r);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Ls(o))return s();let p=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((m,v)=>{let[b,y]=v;return""+m+b+"="+y+`
`},""):String(n.body);return{path:r,submission:{formMethod:o,formAction:a,formEncType:n.formEncType,formData:void 0,json:void 0,text:p}}}else if(n.formEncType==="application/json"){if(!Ls(o))return s();try{let p=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:r,submission:{formMethod:o,formAction:a,formEncType:n.formEncType,formData:void 0,json:p,text:void 0}}}catch{return s()}}}Ue(typeof FormData=="function","FormData is not available in this environment");let c,u;if(n.formData)c=H1(n.formData),u=n.formData;else if(n.body instanceof FormData)c=H1(n.body),u=n.body;else if(n.body instanceof URLSearchParams)c=n.body,u=tk(c);else if(n.body==null)c=new URLSearchParams,u=new FormData;else try{c=new URLSearchParams(n.body),u=tk(c)}catch{return s()}let d={formMethod:o,formAction:a,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Ls(d.formMethod))return{path:r,submission:d};let h=Ma(r);return e&&h.search&&Q2(h.search)&&c.append("index",""),h.search="?"+c,{path:Bl(h),submission:d}}function YC(t,e,r){r===void 0&&(r=!1);let n=t.findIndex(s=>s.route.id===e);return n>=0?t.slice(0,r?n+1:n):t}function XC(t,e,r,n,s,i,o,a,c,u,d,h,p,m,v,b){let y=b?Un(b[1])?b[1].error:b[1].data:void 0,x=t.createURL(e.location),g=t.createURL(s),w=r;i&&e.errors?w=YC(r,Object.keys(e.errors)[0],!0):b&&Un(b[1])&&(w=YC(r,b[0]));let I=b?b[1].statusCode:void 0,P=o&&I&&I>=400,A=w.filter((E,C)=>{let{route:k}=E;if(k.lazy)return!0;if(k.loader==null)return!1;if(i)return U1(k,e.loaderData,e.errors);if(cse(e.loaderData,e.matches[C],E)||c.some(D=>D===E.route.id))return!0;let j=e.matches[C],O=E;return JC(E,Mt({currentUrl:x,currentParams:j.params,nextUrl:g,nextParams:O.params},n,{actionResult:y,actionStatus:I,defaultShouldRevalidate:P?!1:a||x.pathname+x.search===g.pathname+g.search||x.search!==g.search||G3(j,O)}))}),S=[];return h.forEach((E,C)=>{if(i||!r.some(ue=>ue.route.id===E.routeId)||d.has(C))return;let k=nl(m,E.path,v);if(!k){S.push({key:C,routeId:E.routeId,path:E.path,matches:null,match:null,controller:null});return}let j=e.fetchers.get(C),O=Hd(k,E.path),D=!1;p.has(C)?D=!1:u.has(C)?(u.delete(C),D=!0):j&&j.state!=="idle"&&j.data===void 0?D=a:D=JC(O,Mt({currentUrl:x,currentParams:e.matches[e.matches.length-1].params,nextUrl:g,nextParams:r[r.length-1].params},n,{actionResult:y,actionStatus:I,defaultShouldRevalidate:P?!1:a})),D&&S.push({key:C,routeId:E.routeId,path:E.path,matches:k,match:O,controller:new AbortController})}),[A,S]}function U1(t,e,r){if(t.lazy)return!0;if(!t.loader)return!1;let n=e!=null&&e[t.id]!==void 0,s=r!=null&&r[t.id]!==void 0;return!n&&s?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!n&&!s}function cse(t,e,r){let n=!e||r.route.id!==e.route.id,s=t[r.route.id]===void 0;return n||s}function G3(t,e){let r=t.route.path;return t.pathname!==e.pathname||r!=null&&r.endsWith("*")&&t.params["*"]!==e.params["*"]}function JC(t,e){if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate(e);if(typeof r=="boolean")return r}return e.defaultShouldRevalidate}function ZC(t,e,r,n,s){var i;let o;if(t){let u=n[t];Ue(u,"No route found to patch children into: routeId = "+t),u.children||(u.children=[]),o=u.children}else o=r;let a=e.filter(u=>!o.some(d=>K3(u,d))),c=c0(a,s,[t||"_","patch",String(((i=o)==null?void 0:i.length)||"0")],n);o.push(...c)}function K3(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((r,n)=>{var s;return(s=e.children)==null?void 0:s.some(i=>K3(r,i))}):!1}async function use(t,e,r){if(!t.lazy)return;let n=await t.lazy();if(!t.lazy)return;let s=r[t.id];Ue(s,"No route found in manifest");let i={};for(let o in n){let c=s[o]!==void 0&&o!=="hasErrorBoundary";Ru(!c,'Route "'+s.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!c&&!Dne.has(o)&&(i[o]=n[o])}Object.assign(s,i),Object.assign(s,Mt({},e(s),{lazy:void 0}))}async function dse(t){let{matches:e}=t,r=e.filter(s=>s.shouldLoad);return(await Promise.all(r.map(s=>s.resolve()))).reduce((s,i,o)=>Object.assign(s,{[r[o].route.id]:i}),{})}async function fse(t,e,r,n,s,i,o,a,c,u){let d=i.map(m=>m.route.lazy?use(m.route,c,a):void 0),h=i.map((m,v)=>{let b=d[v],y=s.some(g=>g.route.id===m.route.id);return Mt({},m,{shouldLoad:y,resolve:async g=>(g&&n.method==="GET"&&(m.route.lazy||m.route.loader)&&(y=!0),y?hse(e,n,m,b,g,u):Promise.resolve({type:dt.data,result:void 0}))})}),p=await t({matches:h,request:n,params:i[0].params,fetcherKey:o,context:u});try{await Promise.all(d)}catch{}return p}async function hse(t,e,r,n,s,i){let o,a,c=u=>{let d,h=new Promise((v,b)=>d=b);a=()=>d(),e.signal.addEventListener("abort",a);let p=v=>typeof u!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+r.route.id+"]"))):u({request:e,params:r.params,context:i},...v!==void 0?[v]:[]),m=(async()=>{try{return{type:"data",result:await(s?s(b=>p(b)):p())}}catch(v){return{type:"error",result:v}}})();return Promise.race([m,h])};try{let u=r.route[t];if(n)if(u){let d,[h]=await Promise.all([c(u).catch(p=>{d=p}),n]);if(d!==void 0)throw d;o=h}else if(await n,u=r.route[t],u)o=await c(u);else if(t==="action"){let d=new URL(e.url),h=d.pathname+d.search;throw _n(405,{method:e.method,pathname:h,routeId:r.route.id})}else return{type:dt.data,result:void 0};else if(u)o=await c(u);else{let d=new URL(e.url),h=d.pathname+d.search;throw _n(404,{pathname:h})}Ue(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(u){return{type:dt.error,result:u}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function pse(t){let{result:e,type:r}=t;if(Y3(e)){let h;try{let p=e.headers.get("Content-Type");p&&/\bapplication\/json\b/.test(p)?e.body==null?h=null:h=await e.json():h=await e.text()}catch(p){return{type:dt.error,error:p}}return r===dt.error?{type:dt.error,error:new u0(e.status,e.statusText,h),statusCode:e.status,headers:e.headers}:{type:dt.data,data:h,statusCode:e.status,headers:e.headers}}if(r===dt.error){if(ok(e)){var n,s;if(e.data instanceof Error){var i,o;return{type:dt.error,error:e.data,statusCode:(i=e.init)==null?void 0:i.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}}return{type:dt.error,error:new u0(((n=e.init)==null?void 0:n.status)||500,void 0,e.data),statusCode:xh(e)?e.status:void 0,headers:(s=e.init)!=null&&s.headers?new Headers(e.init.headers):void 0}}return{type:dt.error,error:e,statusCode:xh(e)?e.status:void 0}}if(bse(e)){var a,c;return{type:dt.deferred,deferredData:e,statusCode:(a=e.init)==null?void 0:a.status,headers:((c=e.init)==null?void 0:c.headers)&&new Headers(e.init.headers)}}if(ok(e)){var u,d;return{type:dt.data,data:e.data,statusCode:(u=e.init)==null?void 0:u.status,headers:(d=e.init)!=null&&d.headers?new Headers(e.init.headers):void 0}}return{type:dt.data,data:e}}function mse(t,e,r,n,s,i){let o=t.headers.get("Location");if(Ue(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!G2.test(o)){let a=n.slice(0,n.findIndex(c=>c.route.id===r)+1);o=z1(new URL(e.url),a,s,!0,o,i),t.headers.set("Location",o)}return t}function ek(t,e,r){if(G2.test(t)){let n=t,s=n.startsWith("//")?new URL(e.protocol+n):new URL(n),i=Zu(s.pathname,r)!=null;if(s.origin===e.origin&&i)return s.pathname+s.search+s.hash}return t}function fc(t,e,r,n){let s=t.createURL(Q3(e)).toString(),i={signal:r};if(n&&Ls(n.formMethod)){let{formMethod:o,formEncType:a}=n;i.method=o.toUpperCase(),a==="application/json"?(i.headers=new Headers({"Content-Type":a}),i.body=JSON.stringify(n.json)):a==="text/plain"?i.body=n.text:a==="application/x-www-form-urlencoded"&&n.formData?i.body=H1(n.formData):i.body=n.formData}return new Request(s,i)}function H1(t){let e=new URLSearchParams;for(let[r,n]of t.entries())e.append(r,typeof n=="string"?n:n.name);return e}function tk(t){let e=new FormData;for(let[r,n]of t.entries())e.append(r,n);return e}function gse(t,e,r,n,s){let i={},o=null,a,c=!1,u={},d=r&&Un(r[1])?r[1].error:void 0;return t.forEach(h=>{if(!(h.route.id in e))return;let p=h.route.id,m=e[p];if(Ue(!hl(m),"Cannot handle redirect results in processLoaderData"),Un(m)){let v=m.error;d!==void 0&&(v=d,d=void 0),o=o||{};{let b=sl(t,p);o[b.route.id]==null&&(o[b.route.id]=v)}i[p]=void 0,c||(c=!0,a=xh(m.error)?m.error.status:500),m.headers&&(u[p]=m.headers)}else ca(m)?(n.set(p,m.deferredData),i[p]=m.deferredData.data,m.statusCode!=null&&m.statusCode!==200&&!c&&(a=m.statusCode),m.headers&&(u[p]=m.headers)):(i[p]=m.data,m.statusCode&&m.statusCode!==200&&!c&&(a=m.statusCode),m.headers&&(u[p]=m.headers))}),d!==void 0&&r&&(o={[r[0]]:d},i[r[0]]=void 0),{loaderData:i,errors:o,statusCode:a||200,loaderHeaders:u}}function rk(t,e,r,n,s,i,o){let{loaderData:a,errors:c}=gse(e,r,n,o);return s.forEach(u=>{let{key:d,match:h,controller:p}=u,m=i[d];if(Ue(m,"Did not find corresponding fetcher result"),!(p&&p.signal.aborted))if(Un(m)){let v=sl(t.matches,h==null?void 0:h.route.id);c&&c[v.route.id]||(c=Mt({},c,{[v.route.id]:m.error})),t.fetchers.delete(d)}else if(hl(m))Ue(!1,"Unhandled fetcher revalidation redirect");else if(ca(m))Ue(!1,"Unhandled fetcher deferred data");else{let v=Ho(m.data);t.fetchers.set(d,v)}}),{loaderData:a,errors:c}}function nk(t,e,r,n){let s=Mt({},e);for(let i of r){let o=i.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(s[o]=e[o]):t[o]!==void 0&&i.route.loader&&(s[o]=t[o]),n&&n.hasOwnProperty(o))break}return s}function sk(t){return t?Un(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function sl(t,e){return(e?t.slice(0,t.findIndex(n=>n.route.id===e)+1):[...t]).reverse().find(n=>n.route.hasErrorBoundary===!0)||t[0]}function ik(t){let e=t.length===1?t[0]:t.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function _n(t,e){let{pathname:r,routeId:n,method:s,type:i,message:o}=e===void 0?{}:e,a="Unknown Server Error",c="Unknown @remix-run/router error";return t===400?(a="Bad Request",s&&r&&n?c="You made a "+s+' request to "'+r+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":i==="defer-action"?c="defer() is not supported in actions":i==="invalid-body"&&(c="Unable to encode submission body")):t===403?(a="Forbidden",c='Route "'+n+'" does not match URL "'+r+'"'):t===404?(a="Not Found",c='No route matches URL "'+r+'"'):t===405&&(a="Method Not Allowed",s&&r&&n?c="You made a "+s.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":s&&(c='Invalid request method "'+s.toUpperCase()+'"')),new u0(t||500,a,new Error(c),!0)}function am(t){let e=Object.entries(t);for(let r=e.length-1;r>=0;r--){let[n,s]=e[r];if(hl(s))return{key:n,result:s}}}function Q3(t){let e=typeof t=="string"?Ma(t):t;return Bl(Mt({},e,{hash:""}))}function yse(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function vse(t){return Y3(t.result)&&nse.has(t.result.status)}function ca(t){return t.type===dt.deferred}function Un(t){return t.type===dt.error}function hl(t){return(t&&t.type)===dt.redirect}function ok(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function bse(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function Y3(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function xse(t){return rse.has(t.toLowerCase())}function Ls(t){return ese.has(t.toLowerCase())}async function wse(t,e,r,n,s){let i=Object.entries(e);for(let o=0;o<i.length;o++){let[a,c]=i[o],u=t.find(p=>(p==null?void 0:p.route.id)===a);if(!u)continue;let d=n.find(p=>p.route.id===u.route.id),h=d!=null&&!G3(d,u)&&(s&&s[u.route.id])!==void 0;ca(c)&&h&&await K2(c,r,!1).then(p=>{p&&(e[a]=p)})}}async function _se(t,e,r){for(let n=0;n<r.length;n++){let{key:s,routeId:i,controller:o}=r[n],a=e[s];t.find(u=>(u==null?void 0:u.route.id)===i)&&ca(a)&&(Ue(o,"Expected an AbortController for revalidating fetcher deferred result"),await K2(a,o.signal,!0).then(u=>{u&&(e[s]=u)}))}}async function K2(t,e,r){if(r===void 0&&(r=!1),!await t.deferredData.resolveData(e)){if(r)try{return{type:dt.data,data:t.deferredData.unwrappedData}}catch(s){return{type:dt.error,error:s}}return{type:dt.data,data:t.deferredData.data}}}function Q2(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Hd(t,e){let r=typeof e=="string"?Ma(e).search:e.search;if(t[t.length-1].route.index&&Q2(r||""))return t[t.length-1];let n=H3(t);return n[n.length-1]}function ak(t){let{formMethod:e,formAction:r,formEncType:n,text:s,formData:i,json:o}=t;if(!(!e||!r||!n)){if(s!=null)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:void 0,text:s};if(i!=null)return{formMethod:e,formAction:r,formEncType:n,formData:i,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:o,text:void 0}}}function kb(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Sse(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Ed(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Ese(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Ho(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Tse(t,e){try{let r=t.sessionStorage.getItem(q3);if(r){let n=JSON.parse(r);for(let[s,i]of Object.entries(n||{}))i&&Array.isArray(i)&&e.set(s,new Set(i||[]))}}catch{}}function Cse(t,e){if(e.size>0){let r={};for(let[n,s]of e)r[n]=[...s];try{t.sessionStorage.setItem(q3,JSON.stringify(r))}catch(n){Ru(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function d0(){return d0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},d0.apply(this,arguments)}const Uy=T.createContext(null),X3=T.createContext(null),La=T.createContext(null),Y2=T.createContext(null),Ri=T.createContext({outlet:null,matches:[],isDataRoute:!1}),J3=T.createContext(null);function kse(t,e){let{relative:r}=e===void 0?{}:e;ed()||Ue(!1);let{basename:n,navigator:s}=T.useContext(La),{hash:i,pathname:o,search:a}=t5(t,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:co([n,o])),s.createHref({pathname:c,search:a,hash:i})}function ed(){return T.useContext(Y2)!=null}function Fa(){return ed()||Ue(!1),T.useContext(Y2).location}function Z3(t){T.useContext(La).static||T.useLayoutEffect(t)}function Es(){let{isDataRoute:t}=T.useContext(Ri);return t?Bse():Nse()}function Nse(){ed()||Ue(!1);let t=T.useContext(Uy),{basename:e,future:r,navigator:n}=T.useContext(La),{matches:s}=T.useContext(Ri),{pathname:i}=Fa(),o=JSON.stringify(By(s,r.v7_relativeSplatPath)),a=T.useRef(!1);return Z3(()=>{a.current=!0}),T.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){n.go(u);return}let h=zy(u,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:co([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,o,i,t])}const Ise=T.createContext(null);function Pse(t){let e=T.useContext(Ri).outlet;return e&&T.createElement(Ise.Provider,{value:t},e)}function e5(){let{matches:t}=T.useContext(Ri),e=t[t.length-1];return e?e.params:{}}function t5(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=T.useContext(La),{matches:s}=T.useContext(Ri),{pathname:i}=Fa(),o=JSON.stringify(By(s,n.v7_relativeSplatPath));return T.useMemo(()=>zy(t,JSON.parse(o),i,r==="path"),[t,o,i,r])}function Ase(t,e,r,n){ed()||Ue(!1);let{navigator:s,static:i}=T.useContext(La),{matches:o}=T.useContext(Ri),a=o[o.length-1],c=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let d=Fa(),h;h=d;let p=h.pathname||"/",m=p;if(u!=="/"){let y=u.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(y.length).join("/")}let v=!i&&r&&r.matches&&r.matches.length>0?r.matches:nl(t,{pathname:m});return Mse(v&&v.map(y=>Object.assign({},y,{params:Object.assign({},c,y.params),pathname:co([u,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?u:co([u,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),o,r,n)}function jse(){let t=$se(),e=xh(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),r?T.createElement("pre",{style:s},r):null,null)}const Rse=T.createElement(jse,null);class Dse extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?T.createElement(Ri.Provider,{value:this.props.routeContext},T.createElement(J3.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ose(t){let{routeContext:e,match:r,children:n}=t,s=T.useContext(Uy);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),T.createElement(Ri.Provider,{value:e},n)}function Mse(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,a=(s=r)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||Ue(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:p,errors:m}=r,v=h.route.loader&&p[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||v){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,p)=>{let m,v=!1,b=null,y=null;r&&(m=a&&h.route.id?a[h.route.id]:void 0,b=h.route.errorElement||Rse,c&&(u<0&&p===0?(zse("route-fallback"),v=!0,y=null):u===p&&(v=!0,y=h.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,p+1)),g=()=>{let w;return m?w=b:v?w=y:h.route.Component?w=T.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=d,T.createElement(Ose,{match:h,routeContext:{outlet:d,matches:x,isDataRoute:r!=null},children:w})};return r&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?T.createElement(Dse,{location:r.location,revalidation:r.revalidation,component:b,error:m,children:g(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):g()},null)}var r5=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(r5||{}),n5=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(n5||{});function Lse(t){let e=T.useContext(Uy);return e||Ue(!1),e}function Fse(t){let e=T.useContext(X3);return e||Ue(!1),e}function Vse(t){let e=T.useContext(Ri);return e||Ue(!1),e}function s5(t){let e=Vse(),r=e.matches[e.matches.length-1];return r.route.id||Ue(!1),r.route.id}function $se(){var t;let e=T.useContext(J3),r=Fse(),n=s5();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function Bse(){let{router:t}=Lse(r5.UseNavigateStable),e=s5(n5.UseNavigateStable),r=T.useRef(!1);return Z3(()=>{r.current=!0}),T.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,d0({fromRouteId:e},i)))},[t,e])}const lk={};function zse(t,e,r){lk[t]||(lk[t]=!0)}function Use(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function Cf(t){let{to:e,replace:r,state:n,relative:s}=t;ed()||Ue(!1);let{future:i,static:o}=T.useContext(La),{matches:a}=T.useContext(Ri),{pathname:c}=Fa(),u=Es(),d=zy(e,By(a,i.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(d);return T.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:s}),[u,h,s,r,n]),null}function Hse(t){return Pse(t.context)}function Wse(t){let{basename:e="/",children:r=null,location:n,navigationType:s=tr.Pop,navigator:i,static:o=!1,future:a}=t;ed()&&Ue(!1);let c=e.replace(/^\/*/,"/"),u=T.useMemo(()=>({basename:c,navigator:i,static:o,future:d0({v7_relativeSplatPath:!1},a)}),[c,a,i,o]);typeof n=="string"&&(n=Ma(n));let{pathname:d="/",search:h="",hash:p="",state:m=null,key:v="default"}=n,b=T.useMemo(()=>{let y=Zu(d,c);return y==null?null:{location:{pathname:y,search:h,hash:p,state:m,key:v},navigationType:s}},[c,d,h,p,m,v,s]);return b==null?null:T.createElement(La.Provider,{value:u},T.createElement(Y2.Provider,{children:r,value:b}))}new Promise(()=>{});function qse(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:T.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:T.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:T.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wh(){return wh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wh.apply(this,arguments)}function Gse(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function Kse(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Qse(t,e){return t.button===0&&(!e||e==="_self")&&!Kse(t)}const Yse=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Xse="6";try{window.__reactRouterVersion=Xse}catch{}function Jse(t,e){return ase({basename:e==null?void 0:e.basename,future:wh({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:Ane({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||Zse(),routes:t,mapRouteProperties:qse,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function Zse(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=wh({},e,{errors:eie(e.errors)})),e}function eie(t){if(!t)return null;let e=Object.entries(t),r={};for(let[n,s]of e)if(s&&s.__type==="RouteErrorResponse")r[n]=new u0(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let i=window[s.__subType];if(typeof i=="function")try{let o=new i(s.message);o.stack="",r[n]=o}catch{}}if(r[n]==null){let i=new Error(s.message);i.stack="",r[n]=i}}else r[n]=s;return r}const tie=T.createContext({isTransitioning:!1}),rie=T.createContext(new Map),nie="startTransition",ck=jb[nie],sie="flushSync",uk=k8[sie];function iie(t){ck?ck(t):t()}function Td(t){uk?uk(t):t()}class oie{constructor(){this.status="pending",this.promise=new Promise((e,r)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",r(n))}})}}function aie(t){let{fallbackElement:e,router:r,future:n}=t,[s,i]=T.useState(r.state),[o,a]=T.useState(),[c,u]=T.useState({isTransitioning:!1}),[d,h]=T.useState(),[p,m]=T.useState(),[v,b]=T.useState(),y=T.useRef(new Map),{v7_startTransition:x}=n||{},g=T.useCallback(E=>{x?iie(E):E()},[x]),w=T.useCallback((E,C)=>{let{deletedFetchers:k,flushSync:j,viewTransitionOpts:O}=C;E.fetchers.forEach((ue,V)=>{ue.data!==void 0&&y.current.set(V,ue.data)}),k.forEach(ue=>y.current.delete(ue));let D=r.window==null||r.window.document==null||typeof r.window.document.startViewTransition!="function";if(!O||D){j?Td(()=>i(E)):g(()=>i(E));return}if(j){Td(()=>{p&&(d&&d.resolve(),p.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:O.currentLocation,nextLocation:O.nextLocation})});let ue=r.window.document.startViewTransition(()=>{Td(()=>i(E))});ue.finished.finally(()=>{Td(()=>{h(void 0),m(void 0),a(void 0),u({isTransitioning:!1})})}),Td(()=>m(ue));return}p?(d&&d.resolve(),p.skipTransition(),b({state:E,currentLocation:O.currentLocation,nextLocation:O.nextLocation})):(a(E),u({isTransitioning:!0,flushSync:!1,currentLocation:O.currentLocation,nextLocation:O.nextLocation}))},[r.window,p,d,y,g]);T.useLayoutEffect(()=>r.subscribe(w),[r,w]),T.useEffect(()=>{c.isTransitioning&&!c.flushSync&&h(new oie)},[c]),T.useEffect(()=>{if(d&&o&&r.window){let E=o,C=d.promise,k=r.window.document.startViewTransition(async()=>{g(()=>i(E)),await C});k.finished.finally(()=>{h(void 0),m(void 0),a(void 0),u({isTransitioning:!1})}),m(k)}},[g,o,d,r.window]),T.useEffect(()=>{d&&o&&s.location.key===o.location.key&&d.resolve()},[d,p,s.location,o]),T.useEffect(()=>{!c.isTransitioning&&v&&(a(v.state),u({isTransitioning:!0,flushSync:!1,currentLocation:v.currentLocation,nextLocation:v.nextLocation}),b(void 0))},[c.isTransitioning,v]),T.useEffect(()=>{},[]);let I=T.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:E=>r.navigate(E),push:(E,C,k)=>r.navigate(E,{state:C,preventScrollReset:k==null?void 0:k.preventScrollReset}),replace:(E,C,k)=>r.navigate(E,{replace:!0,state:C,preventScrollReset:k==null?void 0:k.preventScrollReset})}),[r]),P=r.basename||"/",A=T.useMemo(()=>({router:r,navigator:I,static:!1,basename:P}),[r,I,P]),S=T.useMemo(()=>({v7_relativeSplatPath:r.future.v7_relativeSplatPath}),[r.future.v7_relativeSplatPath]);return T.useEffect(()=>Use(n,r.future),[n,r.future]),T.createElement(T.Fragment,null,T.createElement(Uy.Provider,{value:A},T.createElement(X3.Provider,{value:s},T.createElement(rie.Provider,{value:y.current},T.createElement(tie.Provider,{value:c},T.createElement(Wse,{basename:P,location:s.location,navigationType:s.historyAction,navigator:I,future:S},s.initialized||r.future.v7_partialHydration?T.createElement(lie,{routes:r.routes,future:r.future,state:s}):e))))),null)}const lie=T.memo(cie);function cie(t){let{routes:e,future:r,state:n}=t;return Ase(e,void 0,n,r)}const uie=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",die=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,i5=T.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:a,target:c,to:u,preventScrollReset:d,viewTransition:h}=e,p=Gse(e,Yse),{basename:m}=T.useContext(La),v,b=!1;if(typeof u=="string"&&die.test(u)&&(v=u,uie))try{let w=new URL(window.location.href),I=u.startsWith("//")?new URL(w.protocol+u):new URL(u),P=Zu(I.pathname,m);I.origin===w.origin&&P!=null?u=P+I.search+I.hash:b=!0}catch{}let y=kse(u,{relative:s}),x=fie(u,{replace:o,state:a,target:c,preventScrollReset:d,relative:s,viewTransition:h});function g(w){n&&n(w),w.defaultPrevented||x(w)}return T.createElement("a",wh({},p,{href:v||y,onClick:b||i?n:g,ref:r,target:c}))});var dk;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(dk||(dk={}));var fk;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(fk||(fk={}));function fie(t,e){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,c=Es(),u=Fa(),d=t5(t,{relative:o});return T.useCallback(h=>{if(Qse(h,r)){h.preventDefault();let p=n!==void 0?n:Bl(u)===Bl(d);c(t,{replace:p,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,c,d,n,s,r,t,i,o,a])}var o5={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},hk=Ve.createContext&&Ve.createContext(o5),hie=["attr","size","title"];function pie(t,e){if(t==null)return{};var r=mie(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mie(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function f0(){return f0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},f0.apply(this,arguments)}function pk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function h0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pk(Object(r),!0).forEach(function(n){gie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gie(t,e,r){return e=yie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yie(t){var e=vie(t,"string");return typeof e=="symbol"?e:e+""}function vie(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function a5(t){return t&&t.map((e,r)=>Ve.createElement(e.tag,h0({key:r},e.attr),a5(e.child)))}function Me(t){return e=>Ve.createElement(bie,f0({attr:h0({},t.attr)},e),a5(t.child))}function bie(t){var e=r=>{var{attr:n,size:s,title:i}=t,o=pie(t,hie),a=s||r.size||"1em",c;return r.className&&(c=r.className),t.className&&(c=(c?c+" ":"")+t.className),Ve.createElement("svg",f0({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:c,style:h0(h0({color:t.color||r.color},r.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&Ve.createElement("title",null,i),t.children)};return hk!==void 0?Ve.createElement(hk.Consumer,null,r=>e(r)):e(o5)}function p0(t){return Me({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(t)}function xie(t){return Me({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(t)}function wie(t){return Me({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M176 256c44.11 0 80-35.89 80-80s-35.89-80-80-80-80 35.89-80 80 35.89 80 80 80zm352-128H304c-8.84 0-16 7.16-16 16v144H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v352c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16v-48h512v48c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16V240c0-61.86-50.14-112-112-112z"},child:[]}]})(t)}function ys(t){return Me({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function mk(t){return Me({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm436-44v-36c0-26.5-21.5-48-48-48h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v36c0 6.6 5.4 12 12 12h424c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function m0(t){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M499.99 176h-59.87l-16.64-41.6C406.38 91.63 365.57 64 319.5 64h-127c-46.06 0-86.88 27.63-103.99 70.4L71.87 176H12.01C4.2 176-1.53 183.34.37 190.91l6 24C7.7 220.25 12.5 224 18.01 224h20.07C24.65 235.73 16 252.78 16 272v48c0 16.12 6.16 30.67 16 41.93V416c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32v-32h256v32c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32v-54.07c9.84-11.25 16-25.8 16-41.93v-48c0-19.22-8.65-36.27-22.07-48H494c5.51 0 10.31-3.75 11.64-9.09l6-24c1.89-7.57-3.84-14.91-11.65-14.91zm-352.06-17.83c7.29-18.22 24.94-30.17 44.57-30.17h127c19.63 0 37.28 11.95 44.57 30.17L384 208H128l19.93-49.83zM96 319.8c-19.2 0-32-12.76-32-31.9S76.8 256 96 256s48 28.71 48 47.85-28.8 15.95-48 15.95zm320 0c-19.2 0-48 3.19-48-15.95S396.8 256 416 256s32 12.76 32 31.9-12.8 31.9-32 31.9z"},child:[]}]})(t)}function vc(t){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(t)}function X2(t){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(t)}function _ie(t){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(t)}function Sie(t){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(t)}function Va(t){return Me({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function Eie(t){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function Tie(t){return Me({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(t)}function Cie(t){return Me({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function kie(t){return Me({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128zM571 308l-95.7-96.4c-10.1-10.1-27.4-3-27.4 11.3V288h-64v64h64v65.2c0 14.3 17.3 21.4 27.4 11.3L571 332c6.6-6.6 6.6-17.4 0-24zm-379 28v-32c0-8.8 7.2-16 16-16h176V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V352H208c-8.8 0-16-7.2-16-16z"},child:[]}]})(t)}function Nie(t){return Me({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z"},child:[]}]})(t)}function Iie(t){return Me({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(t)}function Du(t){return Me({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M560 64c8.84 0 16-7.16 16-16V16c0-8.84-7.16-16-16-16H16C7.16 0 0 7.16 0 16v32c0 8.84 7.16 16 16 16h15.98v384H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h240v-80c0-8.8 7.2-16 16-16h32c8.8 0 16 7.2 16 16v80h240c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16h-16V64h16zm-304 44.8c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8v-38.4zm0 96c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8v-38.4zm-128-96c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8v-38.4zM179.2 256h-38.4c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4c0 6.4-6.4 12.8-12.8 12.8zM192 384c0-53.02 42.98-96 96-96s96 42.98 96 96H192zm256-140.8c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm0-96c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4z"},child:[]}]})(t)}function Pie(t){return Me({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 32H48C21.5 32 0 53.5 0 80v16h576V80c0-26.5-21.5-48-48-48zM0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V128H0v304zm352-232c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zm0 64c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zm0 64c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zM176 192c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zM67.1 396.2C75.5 370.5 99.6 352 128 352h8.2c12.3 5.1 25.7 8 39.8 8s27.6-2.9 39.8-8h8.2c28.4 0 52.5 18.5 60.9 44.2 3.2 9.9-5.2 19.8-15.6 19.8H82.7c-10.4 0-18.8-10-15.6-19.8z"},child:[]}]})(t)}function l5(t){return Me({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(t)}function Aie(t){return Me({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(t)}function Ii(t){return Me({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"},child:[]}]})(t)}function Ou(t){return Me({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M129.62 176h39.09c1.49-27.03 6.54-51.35 14.21-70.41-27.71 13.24-48.02 39.19-53.3 70.41zm0 32c5.29 31.22 25.59 57.17 53.3 70.41-7.68-19.06-12.72-43.38-14.21-70.41h-39.09zM224 286.69c7.69-7.45 20.77-34.42 23.43-78.69h-46.87c2.67 44.26 15.75 71.24 23.44 78.69zM200.57 176h46.87c-2.66-44.26-15.74-71.24-23.43-78.69-7.7 7.45-20.78 34.43-23.44 78.69zm64.51 102.41c27.71-13.24 48.02-39.19 53.3-70.41h-39.09c-1.49 27.03-6.53 51.35-14.21 70.41zM416 0H64C28.65 0 0 28.65 0 64v384c0 35.35 28.65 64 64 64h352c17.67 0 32-14.33 32-32V32c0-17.67-14.33-32-32-32zm-80 416H112c-8.8 0-16-7.2-16-16s7.2-16 16-16h224c8.8 0 16 7.2 16 16s-7.2 16-16 16zm-112-96c-70.69 0-128-57.31-128-128S153.31 64 224 64s128 57.31 128 128-57.31 128-128 128zm41.08-214.41c7.68 19.06 12.72 43.38 14.21 70.41h39.09c-5.28-31.22-25.59-57.17-53.3-70.41z"},child:[]}]})(t)}function g0(t){return Me({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M480 192H365.71L260.61 8.06A16.014 16.014 0 0 0 246.71 0h-65.5c-10.63 0-18.3 10.17-15.38 20.39L214.86 192H112l-43.2-57.6c-3.02-4.03-7.77-6.4-12.8-6.4H16.01C5.6 128-2.04 137.78.49 147.88L32 256 .49 364.12C-2.04 374.22 5.6 384 16.01 384H56c5.04 0 9.78-2.37 12.8-6.4L112 320h102.86l-49.03 171.6c-2.92 10.22 4.75 20.4 15.38 20.4h65.5c5.74 0 11.04-3.08 13.89-8.06L365.71 320H480c35.35 0 96-28.65 96-64s-60.65-64-96-64z"},child:[]}]})(t)}function Ql(t){return Me({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function c5(t){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 192V77.25c0-8.49-3.37-16.62-9.37-22.63L393.37 9.37c-6-6-14.14-9.37-22.63-9.37H96C78.33 0 64 14.33 64 32v160c-35.35 0-64 28.65-64 64v112c0 8.84 7.16 16 16 16h48v96c0 17.67 14.33 32 32 32h320c17.67 0 32-14.33 32-32v-96h48c8.84 0 16-7.16 16-16V256c0-35.35-28.65-64-64-64zm-64 256H128v-96h256v96zm0-224H128V64h192v48c0 8.84 7.16 16 16 16h48v96zm48 72c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"},child:[]}]})(t)}function u5(t){return Me({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M358.4 3.2L320 48 265.6 3.2a15.9 15.9 0 0 0-19.2 0L192 48 137.6 3.2a15.9 15.9 0 0 0-19.2 0L64 48 25.6 3.2C15-4.7 0 2.8 0 16v480c0 13.2 15 20.7 25.6 12.8L64 464l54.4 44.8a15.9 15.9 0 0 0 19.2 0L192 464l54.4 44.8a15.9 15.9 0 0 0 19.2 0L320 464l38.4 44.8c10.5 7.9 25.6.4 25.6-12.8V16c0-13.2-15-20.7-25.6-12.8zM320 360c0 4.4-3.6 8-8 8H72c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h240c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H72c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h240c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H72c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h240c4.4 0 8 3.6 8 8v16z"},child:[]}]})(t)}function jie(t){return Me({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(t)}function Pi(t){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function Rie(t){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(t)}function Die(t){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 448h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32h-84c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h84c53 0 96 43 96 96v192c0 53-43 96-96 96zm-47-201L201 79c-15-15-41-4.5-41 17v96H24c-13.3 0-24 10.7-24 24v96c0 13.3 10.7 24 24 24h136v96c0 21.5 26 32 41 17l168-168c9.3-9.4 9.3-24.6 0-34z"},child:[]}]})(t)}function Oie(t){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function Mie(t){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 416h-64a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm-128-64h-48V48a16 16 0 0 0-16-16H80a16 16 0 0 0-16 16v304H16c-14.19 0-21.37 17.24-11.29 27.31l80 96a16 16 0 0 0 22.62 0l80-96C197.35 369.26 190.22 352 176 352zm256-192H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h192a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm-64 128H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM496 32H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h256a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"},child:[]}]})(t)}function Lie(t){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 416h-64a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h48v304a16 16 0 0 0 16 16h32a16 16 0 0 0 16-16V160h48c14.21 0 21.38-17.24 11.31-27.31l-80-96a16 16 0 0 0-22.62 0l-80 96C-5.35 142.74 1.77 160 16 160zm416 0H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h192a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm-64 128H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM496 32H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h256a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"},child:[]}]})(t)}function Fie(t){return Me({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41zm255-105L177 64c-9.4-9.4-24.6-9.4-33.9 0L24 183c-15.1 15.1-4.4 41 17 41h238c21.4 0 32.1-25.9 17-41z"},child:[]}]})(t)}function d5(t){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(t)}function Jm(t){return Me({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M128 160h320v192H128V160zm400 96c0 26.51 21.49 48 48 48v96c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48v-96c26.51 0 48-21.49 48-48s-21.49-48-48-48v-96c0-26.51 21.49-48 48-48h480c26.51 0 48 21.49 48 48v96c-26.51 0-48 21.49-48 48zm-48-104c0-13.255-10.745-24-24-24H120c-13.255 0-24 10.745-24 24v208c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24V152z"},child:[]}]})(t)}function Gs(t){return Me({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function Po(t){return Me({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function Vie(t){return Me({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function $ie(t){return Me({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm95.8 32.6L272 480l-32-136 32-56h-96l32 56-32 136-47.8-191.4C56.9 292 0 350.3 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-72.1-56.9-130.4-128.2-133.8z"},child:[]}]})(t)}function vs(t){return Me({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function J2(t){return Me({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(t)}function Bie(t){return Me({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 348.106V80c0-26.51-21.49-48-48-48H48C21.49 32 0 53.49 0 80v351.988c0 26.51 21.49 48 48 48h268.118a48 48 0 0 0 33.941-14.059l83.882-83.882A48 48 0 0 0 448 348.106zm-128 80v-76.118h76.118L320 428.106zM400 80v223.988H296c-13.255 0-24 10.745-24 24v104H48V80h352z"},child:[]}]})(t)}function f5(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=f5(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function ua(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=f5(t))&&(n&&(n+=" "),n+=e);return n}const _h=t=>typeof t=="number"&&!isNaN(t),Sl=t=>typeof t=="string",qn=t=>typeof t=="function",Zm=t=>Sl(t)||qn(t)?t:null,W1=t=>T.isValidElement(t)||Sl(t)||qn(t)||_h(t);function zie(t,e,r){r===void 0&&(r=300);const{scrollHeight:n,style:s}=t;requestAnimationFrame(()=>{s.minHeight="initial",s.height=n+"px",s.transition=`all ${r}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,r)})})}function Hy(t){let{enter:e,exit:r,appendPosition:n=!1,collapse:s=!0,collapseDuration:i=300}=t;return function(o){let{children:a,position:c,preventExitTransition:u,done:d,nodeRef:h,isIn:p,playToast:m}=o;const v=n?`${e}--${c}`:e,b=n?`${r}--${c}`:r,y=T.useRef(0);return T.useLayoutEffect(()=>{const x=h.current,g=v.split(" "),w=I=>{I.target===h.current&&(m(),x.removeEventListener("animationend",w),x.removeEventListener("animationcancel",w),y.current===0&&I.type!=="animationcancel"&&x.classList.remove(...g))};x.classList.add(...g),x.addEventListener("animationend",w),x.addEventListener("animationcancel",w)},[]),T.useEffect(()=>{const x=h.current,g=()=>{x.removeEventListener("animationend",g),s?zie(x,d,i):d()};p||(u?g():(y.current=1,x.className+=` ${b}`,x.addEventListener("animationend",g)))},[p]),Ve.createElement(Ve.Fragment,null,a)}}function gk(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const an=new Map;let Sh=[];const q1=new Set,Uie=t=>q1.forEach(e=>e(t)),h5=()=>an.size>0;function p5(t,e){var r;if(e)return!((r=an.get(e))==null||!r.isToastActive(t));let n=!1;return an.forEach(s=>{s.isToastActive(t)&&(n=!0)}),n}function m5(t,e){W1(t)&&(h5()||Sh.push({content:t,options:e}),an.forEach(r=>{r.buildToast(t,e)}))}function yk(t,e){an.forEach(r=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===r.id&&r.toggle(t,e==null?void 0:e.id):r.toggle(t,e==null?void 0:e.id)})}function Hie(t){const{subscribe:e,getSnapshot:r,setProps:n}=T.useRef(function(i){const o=i.containerId||1;return{subscribe(a){const c=function(d,h,p){let m=1,v=0,b=[],y=[],x=[],g=h;const w=new Map,I=new Set,P=()=>{x=Array.from(w.values()),I.forEach(E=>E())},A=E=>{y=E==null?[]:y.filter(C=>C!==E),P()},S=E=>{const{toastId:C,onOpen:k,updateId:j,children:O}=E.props,D=j==null;E.staleId&&w.delete(E.staleId),w.set(C,E),y=[...y,E.props.toastId].filter(ue=>ue!==E.staleId),P(),p(gk(E,D?"added":"updated")),D&&qn(k)&&k(T.isValidElement(O)&&O.props)};return{id:d,props:g,observe:E=>(I.add(E),()=>I.delete(E)),toggle:(E,C)=>{w.forEach(k=>{C!=null&&C!==k.props.toastId||qn(k.toggle)&&k.toggle(E)})},removeToast:A,toasts:w,clearQueue:()=>{v-=b.length,b=[]},buildToast:(E,C)=>{if((ae=>{let{containerId:J,toastId:X,updateId:ee}=ae;const we=J?J!==d:d!==1,Le=w.has(X)&&ee==null;return we||Le})(C))return;const{toastId:k,updateId:j,data:O,staleId:D,delay:ue}=C,V=()=>{A(k)},B=j==null;B&&v++;const G={...g,style:g.toastStyle,key:m++,...Object.fromEntries(Object.entries(C).filter(ae=>{let[J,X]=ae;return X!=null})),toastId:k,updateId:j,data:O,closeToast:V,isIn:!1,className:Zm(C.className||g.toastClassName),bodyClassName:Zm(C.bodyClassName||g.bodyClassName),progressClassName:Zm(C.progressClassName||g.progressClassName),autoClose:!C.isLoading&&(U=C.autoClose,Z=g.autoClose,U===!1||_h(U)&&U>0?U:Z),deleteToast(){const ae=w.get(k),{onClose:J,children:X}=ae.props;qn(J)&&J(T.isValidElement(X)&&X.props),p(gk(ae,"removed")),w.delete(k),v--,v<0&&(v=0),b.length>0?S(b.shift()):P()}};var U,Z;G.closeButton=g.closeButton,C.closeButton===!1||W1(C.closeButton)?G.closeButton=C.closeButton:C.closeButton===!0&&(G.closeButton=!W1(g.closeButton)||g.closeButton);let re=E;T.isValidElement(E)&&!Sl(E.type)?re=T.cloneElement(E,{closeToast:V,toastProps:G,data:O}):qn(E)&&(re=E({closeToast:V,toastProps:G,data:O}));const me={content:re,props:G,staleId:D};g.limit&&g.limit>0&&v>g.limit&&B?b.push(me):_h(ue)?setTimeout(()=>{S(me)},ue):S(me)},setProps(E){g=E},setToggle:(E,C)=>{w.get(E).toggle=C},isToastActive:E=>y.some(C=>C===E),getSnapshot:()=>x}}(o,i,Uie);an.set(o,c);const u=c.observe(a);return Sh.forEach(d=>m5(d.content,d.options)),Sh=[],()=>{u(),an.delete(o)}},setProps(a){var c;(c=an.get(o))==null||c.setProps(a)},getSnapshot(){var a;return(a=an.get(o))==null?void 0:a.getSnapshot()}}}(t)).current;n(t);const s=T.useSyncExternalStore(e,r,r);return{getToastToRender:function(i){if(!s)return[];const o=new Map;return t.newestOnTop&&s.reverse(),s.forEach(a=>{const{position:c}=a.props;o.has(c)||o.set(c,[]),o.get(c).push(a)}),Array.from(o,a=>i(a[0],a[1]))},isToastActive:p5,count:s==null?void 0:s.length}}function Wie(t){const[e,r]=T.useState(!1),[n,s]=T.useState(!1),i=T.useRef(null),o=T.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:c,closeToast:u,onClick:d,closeOnClick:h}=t;var p,m;function v(){r(!0)}function b(){r(!1)}function y(w){const I=i.current;o.canDrag&&I&&(o.didMove=!0,e&&b(),o.delta=t.draggableDirection==="x"?w.clientX-o.start:w.clientY-o.start,o.start!==w.clientX&&(o.canCloseOnClick=!1),I.style.transform=`translate3d(${t.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`},0)`,I.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function x(){document.removeEventListener("pointermove",y),document.removeEventListener("pointerup",x);const w=i.current;if(o.canDrag&&o.didMove&&w){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return s(!0),t.closeToast(),void t.collapseAll();w.style.transition="transform 0.2s, opacity 0.2s",w.style.removeProperty("transform"),w.style.removeProperty("opacity")}}(m=an.get((p={id:t.toastId,containerId:t.containerId,fn:r}).containerId||1))==null||m.setToggle(p.id,p.fn),T.useEffect(()=>{if(t.pauseOnFocusLoss)return document.hasFocus()||b(),window.addEventListener("focus",v),window.addEventListener("blur",b),()=>{window.removeEventListener("focus",v),window.removeEventListener("blur",b)}},[t.pauseOnFocusLoss]);const g={onPointerDown:function(w){if(t.draggable===!0||t.draggable===w.pointerType){o.didMove=!1,document.addEventListener("pointermove",y),document.addEventListener("pointerup",x);const I=i.current;o.canCloseOnClick=!0,o.canDrag=!0,I.style.transition="none",t.draggableDirection==="x"?(o.start=w.clientX,o.removalDistance=I.offsetWidth*(t.draggablePercent/100)):(o.start=w.clientY,o.removalDistance=I.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent)/100)}},onPointerUp:function(w){const{top:I,bottom:P,left:A,right:S}=i.current.getBoundingClientRect();w.nativeEvent.type!=="touchend"&&t.pauseOnHover&&w.clientX>=A&&w.clientX<=S&&w.clientY>=I&&w.clientY<=P?b():v()}};return a&&c&&(g.onMouseEnter=b,t.stacked||(g.onMouseLeave=v)),h&&(g.onClick=w=>{d&&d(w),o.canCloseOnClick&&u()}),{playToast:v,pauseToast:b,isRunning:e,preventExitTransition:n,toastRef:i,eventHandlers:g}}function qie(t){let{delay:e,isRunning:r,closeToast:n,type:s="default",hide:i,className:o,style:a,controlledProgress:c,progress:u,rtl:d,isIn:h,theme:p}=t;const m=i||c&&u===0,v={...a,animationDuration:`${e}ms`,animationPlayState:r?"running":"paused"};c&&(v.transform=`scaleX(${u})`);const b=ua("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${p}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":d}),y=qn(o)?o({rtl:d,type:s,defaultClassName:b}):ua(b,o),x={[c&&u>=1?"onTransitionEnd":"onAnimationEnd"]:c&&u<1?null:()=>{h&&n()}};return Ve.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":m},Ve.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${p} Toastify__progress-bar--${s}`}),Ve.createElement("div",{role:"progressbar","aria-hidden":m?"true":"false","aria-label":"notification timer",className:y,style:v,...x}))}let Gie=1;const g5=()=>""+Gie++;function Kie(t){return t&&(Sl(t.toastId)||_h(t.toastId))?t.toastId:g5()}function kf(t,e){return m5(t,e),e.toastId}function y0(t,e){return{...e,type:e&&e.type||t,toastId:Kie(e)}}function lm(t){return(e,r)=>kf(e,y0(t,r))}function q(t,e){return kf(t,y0("default",e))}q.loading=(t,e)=>kf(t,y0("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),q.promise=function(t,e,r){let n,{pending:s,error:i,success:o}=e;s&&(n=Sl(s)?q.loading(s,r):q.loading(s.render,{...r,...s}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(d,h,p)=>{if(h==null)return void q.dismiss(n);const m={type:d,...a,...r,data:p},v=Sl(h)?{render:h}:h;return n?q.update(n,{...m,...v}):q(v.render,{...m,...v}),p},u=qn(t)?t():t;return u.then(d=>c("success",o,d)).catch(d=>c("error",i,d)),u},q.success=lm("success"),q.info=lm("info"),q.error=lm("error"),q.warning=lm("warning"),q.warn=q.warning,q.dark=(t,e)=>kf(t,y0("default",{theme:"dark",...e})),q.dismiss=function(t){(function(e){var r;if(h5()){if(e==null||Sl(r=e)||_h(r))an.forEach(n=>{n.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const n=an.get(e.containerId);n?n.removeToast(e.id):an.forEach(s=>{s.removeToast(e.id)})}}else Sh=Sh.filter(n=>e!=null&&n.options.toastId!==e)})(t)},q.clearWaitingQueue=function(t){t===void 0&&(t={}),an.forEach(e=>{!e.props.limit||t.containerId&&e.id!==t.containerId||e.clearQueue()})},q.isActive=p5,q.update=function(t,e){e===void 0&&(e={});const r=((n,s)=>{var i;let{containerId:o}=s;return(i=an.get(o||1))==null?void 0:i.toasts.get(n)})(t,e);if(r){const{props:n,content:s}=r,i={delay:100,...n,...e,toastId:e.toastId||t,updateId:g5()};i.toastId!==t&&(i.staleId=t);const o=i.render||s;delete i.render,kf(o,i)}},q.done=t=>{q.update(t,{progress:1})},q.onChange=function(t){return q1.add(t),()=>{q1.delete(t)}},q.play=t=>yk(!0,t),q.pause=t=>yk(!1,t);const Qie=typeof window<"u"?T.useLayoutEffect:T.useEffect,cm=t=>{let{theme:e,type:r,isLoading:n,...s}=t;return Ve.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${r})`,...s})},Nb={info:function(t){return Ve.createElement(cm,{...t},Ve.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return Ve.createElement(cm,{...t},Ve.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return Ve.createElement(cm,{...t},Ve.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return Ve.createElement(cm,{...t},Ve.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return Ve.createElement("div",{className:"Toastify__spinner"})}},Yie=t=>{const{isRunning:e,preventExitTransition:r,toastRef:n,eventHandlers:s,playToast:i}=Wie(t),{closeButton:o,children:a,autoClose:c,onClick:u,type:d,hideProgressBar:h,closeToast:p,transition:m,position:v,className:b,style:y,bodyClassName:x,bodyStyle:g,progressClassName:w,progressStyle:I,updateId:P,role:A,progress:S,rtl:E,toastId:C,deleteToast:k,isIn:j,isLoading:O,closeOnClick:D,theme:ue}=t,V=ua("Toastify__toast",`Toastify__toast-theme--${ue}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":E},{"Toastify__toast--close-on-click":D}),B=qn(b)?b({rtl:E,position:v,type:d,defaultClassName:V}):ua(V,b),G=function(me){let{theme:ae,type:J,isLoading:X,icon:ee}=me,we=null;const Le={theme:ae,type:J};return ee===!1||(qn(ee)?we=ee({...Le,isLoading:X}):T.isValidElement(ee)?we=T.cloneElement(ee,Le):X?we=Nb.spinner():(tt=>tt in Nb)(J)&&(we=Nb[J](Le))),we}(t),U=!!S||!c,Z={closeToast:p,type:d,theme:ue};let re=null;return o===!1||(re=qn(o)?o(Z):T.isValidElement(o)?T.cloneElement(o,Z):function(me){let{closeToast:ae,theme:J,ariaLabel:X="close"}=me;return Ve.createElement("button",{className:`Toastify__close-button Toastify__close-button--${J}`,type:"button",onClick:ee=>{ee.stopPropagation(),ae(ee)},"aria-label":X},Ve.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Ve.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(Z)),Ve.createElement(m,{isIn:j,done:k,position:v,preventExitTransition:r,nodeRef:n,playToast:i},Ve.createElement("div",{id:C,onClick:u,"data-in":j,className:B,...s,style:y,ref:n},Ve.createElement("div",{...j&&{role:A},className:qn(x)?x({type:d}):ua("Toastify__toast-body",x),style:g},G!=null&&Ve.createElement("div",{className:ua("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!O})},G),Ve.createElement("div",null,a)),re,Ve.createElement(qie,{...P&&!U?{key:`pb-${P}`}:{},rtl:E,theme:ue,delay:c,isRunning:e,isIn:j,closeToast:p,hide:h,type:d,style:I,className:w,controlledProgress:U,progress:S||0})))},Wy=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},Xie=Hy(Wy("bounce",!0));Hy(Wy("slide",!0));Hy(Wy("zoom"));Hy(Wy("flip"));const Jie={position:"top-right",transition:Xie,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function Zie(t){let e={...Jie,...t};const r=t.stacked,[n,s]=T.useState(!0),i=T.useRef(null),{getToastToRender:o,isToastActive:a,count:c}=Hie(e),{className:u,style:d,rtl:h,containerId:p}=e;function m(b){const y=ua("Toastify__toast-container",`Toastify__toast-container--${b}`,{"Toastify__toast-container--rtl":h});return qn(u)?u({position:b,rtl:h,defaultClassName:y}):ua(y,Zm(u))}function v(){r&&(s(!0),q.play())}return Qie(()=>{if(r){var b;const y=i.current.querySelectorAll('[data-in="true"]'),x=12,g=(b=e.position)==null?void 0:b.includes("top");let w=0,I=0;Array.from(y).reverse().forEach((P,A)=>{const S=P;S.classList.add("Toastify__toast--stacked"),A>0&&(S.dataset.collapsed=`${n}`),S.dataset.pos||(S.dataset.pos=g?"top":"bot");const E=w*(n?.2:1)+(n?0:x*A);S.style.setProperty("--y",`${g?E:-1*E}px`),S.style.setProperty("--g",`${x}`),S.style.setProperty("--s",""+(1-(n?I:0))),w+=S.offsetHeight,I+=.025})}},[n,c,r]),Ve.createElement("div",{ref:i,className:"Toastify",id:p,onMouseEnter:()=>{r&&(s(!1),q.pause())},onMouseLeave:v},o((b,y)=>{const x=y.length?{...d}:{...d,pointerEvents:"none"};return Ve.createElement("div",{className:m(b),style:x,key:`container-${b}`},y.map(g=>{let{content:w,props:I}=g;return Ve.createElement(Yie,{...I,stacked:r,collapseAll:v,isIn:a(I.toastId,I.containerId),style:I.style,key:`toast-${I.key}`},w)}))}))}const y5=()=>{const{user:t,logout:e,loading:r}=mn();if(Fa(),r)return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 border-t-4 border-blue-500 border-solid rounded-full animate-spin"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"جاري التحميل..."})]})});const n=async()=>{try{await e()}catch(s){console.error("Error during logout:",s)}};return l.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900",children:[t&&l.jsx("nav",{className:"bg-white dark:bg-gray-800 shadow-lg",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex justify-between h-16",children:[l.jsx("div",{className:"flex",children:l.jsxs(i5,{to:"/",className:"flex items-center px-4 text-gray-700 dark:text-gray-200 hover:text-blue-600 dark:hover:text-blue-400",children:[l.jsx(Iie,{className:"h-5 w-5 ml-2"}),l.jsx("span",{className:"font-medium",children:"الرئيسية"})]})}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:"text-gray-700 dark:text-gray-200 ml-4",children:t.isAdmin?"مشرف النظام":"موظف"}),l.jsxs("button",{onClick:n,className:"inline-flex items-center px-4 py-2 mr-4 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[l.jsx(Oie,{className:"ml-2"}),"تسجيل الخروج"]})]})]})})}),l.jsx("main",{className:"container mx-auto px-4 py-8",children:l.jsx(Hse,{})}),l.jsx(Zie,{position:"top-center",autoClose:3e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!0,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"})]})},eoe="/assets/logo-CWcmpQWQ.png",toe=R2(wf),roe=()=>{const[t,e]=T.useState({email:"",password:""}),[r,n]=T.useState(!1),[s,i]=T.useState({}),[o,a]=T.useState(!1),{signIn:c}=mn(),u=Es(),d=Fa(),h=$y(),p=hf("white","gray.800"),m=hf("gray.200","gray.600"),v=async b=>{var y,x;b.preventDefault(),a(!0),i({});try{const g={email:t.email.trim(),password:t.password};console.log("LoginPage: محاولة تسجيل الدخول:",g.email);const w=await of.signIn(g.email,g.password);if(console.log("LoginPage: نتيجة تسجيل الدخول:",w),w.success){c(w.user);const I=((x=(y=d.state)==null?void 0:y.from)==null?void 0:x.pathname)||"/";u(I,{replace:!0}),h({title:"تم تسجيل الدخول بنجاح",status:"success",duration:3e3,isClosable:!0,position:"top"})}else i({submit:w.error||"حدث خطأ أثناء محاولة تسجيل الدخول"})}catch(g){console.error("LoginPage: خطأ في تسجيل الدخول:",g),i({submit:"حدث خطأ أثناء محاولة تسجيل الدخول. الرجاء المحاولة مرة أخرى."})}finally{a(!1)}};return T.useEffect(()=>{s.submit&&h({title:"خطأ في تسجيل الدخول",description:s.submit,status:"error",duration:5e3,isClosable:!0,position:"top"})},[s.submit,h]),l.jsx(F2,{maxW:"lg",py:{base:"12",md:"24"},px:{base:"0",sm:"8"},children:l.jsx(toe,{py:{base:"0",sm:"8"},px:{base:"4",sm:"10"},bg:p,boxShadow:{base:"none",sm:"md"},borderRadius:{base:"none",sm:"xl"},borderWidth:{base:"0",sm:"1px"},borderColor:m,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:l.jsxs($1,{spacing:"6",children:[l.jsx("img",{src:eoe,alt:"شعار السعد للسفريات",maxH:"100px",mb:4}),l.jsx(Ef,{as:"h1",size:"lg",fontWeight:"bold",textAlign:"center",mb:2,children:"تسجيل الدخول"}),l.jsx("div",{}),l.jsx("form",{onSubmit:v,style:{width:"100%"},children:l.jsxs($1,{spacing:"6",align:"stretch",children:[l.jsxs(Ds,{isInvalid:!!s.email,children:[l.jsx(li,{children:"البريد الإلكتروني"}),l.jsxs(wl,{alignItems:"center",children:[l.jsx(on,{as:vs,color:"gray.500",mr:2}),l.jsx(Ji,{type:"email",value:t.email,onChange:b=>e({...t,email:b.target.value}),placeholder:"أدخل بريدك الإلكتروني",dir:"ltr"})]}),s.email&&l.jsx(fl,{children:s.email})]}),l.jsxs(Ds,{isInvalid:!!s.password,children:[l.jsx(li,{children:"كلمة المرور"}),l.jsxs(wl,{alignItems:"center",children:[l.jsx(on,{as:l5,color:"gray.500",mr:2}),l.jsx(Ji,{type:r?"text":"password",value:t.password,onChange:b=>e({...t,password:b.target.value}),placeholder:"أدخل كلمة المرور",dir:"ltr"}),l.jsx(gh,{variant:"ghost",onClick:()=>n(!r),tabIndex:"-1",size:"sm",ml:2,children:l.jsx(on,{as:r?Tie:Cie,color:"gray.500"})})]}),s.password&&l.jsx(fl,{children:s.password})]}),l.jsx(gh,{type:"submit",colorScheme:"blue",size:"lg",fontSize:"md",isLoading:o,leftIcon:l.jsx(Die,{}),children:"تسجيل الدخول"})]})})]})})})},cr=({children:t,requiredRole:e,requiredPermission:r})=>{const{user:n,loading:s,hasPermission:i}=mn(),o=Fa(),a=$y();return T.useEffect(()=>{s||(n?e&&n.role!==e?(console.log(`ProtectedRoute: المستخدم ليس لديه الدور المطلوب. الدور المطلوب: ${e}, دور المستخدم: ${n.role}`),a({title:"تنبيه",description:"ليس لديك صلاحية للوصول إلى هذه الصفحة",status:"error",duration:3e3,isClosable:!0,position:"top"})):r&&!i(r)?(console.log(`ProtectedRoute: المستخدم ليس لديه الصلاحية المطلوبة: ${r}`),a({title:"تنبيه",description:"ليس لديك الصلاحية المطلوبة للوصول إلى هذه الصفحة",status:"error",duration:3e3,isClosable:!0,position:"top"})):console.log(`ProtectedRoute: تم التحقق من صلاحيات المستخدم بنجاح للمسار: ${o.pathname}`):(console.log("ProtectedRoute: المستخدم غير مسجل الدخول"),a({title:"تنبيه",description:"يجب تسجيل الدخول للوصول إلى هذه الصفحة",status:"error",duration:3e3,isClosable:!0,position:"top"})))},[n,s,e,r,i,a,o]),s?(console.log("ProtectedRoute: جاري تحميل بيانات المستخدم..."),l.jsxs(wl,{height:"100vh",width:"100%",justifyContent:"center",alignItems:"center",direction:"column",gap:4,children:[l.jsx(Ly,{thickness:"4px",speed:"0.65s",emptyColor:"gray.200",color:"blue.500",size:"xl"}),l.jsx(Tf,{fontSize:"lg",fontWeight:"medium",children:"جاري التحميل..."})]})):n?e&&n.role!==e?(console.log("ProtectedRoute: توجيه المستخدم إلى الصفحة الرئيسية بسبب عدم توفر الدور المطلوب"),l.jsx(Cf,{to:"/",replace:!0})):r&&!i(r)?(console.log("ProtectedRoute: توجيه المستخدم إلى الصفحة الرئيسية بسبب عدم توفر الصلاحية المطلوبة"),l.jsx(Cf,{to:"/",replace:!0})):(console.log(`ProtectedRoute: السماح للمستخدم بالوصول إلى المسار: ${o.pathname}`),t):(console.log("ProtectedRoute: توجيه المستخدم إلى صفحة تسجيل الدخول"),l.jsx(Cf,{to:"/login",state:{from:o},replace:!0}))},noe=({to:t,icon:e,title:r,description:n,gradient:s})=>l.jsx(i5,{to:t,className:"transform transition-all duration-300 hover:scale-105",children:l.jsxs("div",{className:`relative overflow-hidden rounded-xl shadow-lg group ${s}`,children:[l.jsx("div",{className:"absolute inset-0 opacity-75 transition-opacity group-hover:opacity-100"}),l.jsxs("div",{className:"relative p-8",children:[l.jsx("div",{className:"w-16 h-16 rounded-full bg-white bg-opacity-20 flex items-center justify-center mb-6",children:l.jsx(e,{className:"w-8 h-8 text-white"})}),l.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:r}),l.jsx("p",{className:"text-white text-opacity-90",children:n})]})]})}),soe=()=>{const{user:t}=mn(),e=[{to:"/customers",icon:$ie,title:"العملاء",description:"إدارة بيانات العملاء والمعلومات الشخصية",gradient:"bg-gradient-to-br from-red-500 to-red-700"},{to:"/flight-bookings",icon:g0,title:"حجوزات الطيران",description:"إضافة وتعديل حجوزات تذاكر الطيران",gradient:"bg-gradient-to-br from-blue-500 to-blue-700"},{to:"/flight-bookings/history",icon:g0,title:"سجل حجوزات الطيران",description:"عرض وتصفية سجل حجوزات تذاكر الطيران",gradient:"bg-gradient-to-br from-blue-400 to-indigo-600"},{to:"/hotels",icon:Du,title:"حجوزات الفنادق",description:"إدارة حجوزات الفنادق وعرض السجلات",gradient:"bg-gradient-to-br from-green-500 to-green-700"},{to:"/hotels/history",icon:Du,title:"سجل حجوزات الفنادق",description:"عرض وتصفية سجل حجوزات الفنادق",gradient:"bg-gradient-to-br from-blue-400 to-indigo-600"},{to:"/vehicles",icon:m0,title:"حجوزات السيارات",description:"إدارة حجوزات السيارات وعرض السجلات",gradient:"bg-gradient-to-br from-yellow-500 to-yellow-700"},{to:"/vehicles/history",icon:m0,title:"سجل حجوزات المركبات",description:"عرض وتصفية سجل حجوزات المركبات",gradient:"bg-gradient-to-br from-blue-400 to-indigo-600"},{to:"/events",icon:ys,title:"الفعاليات",description:"إدارة حجوزات الفعاليات والمناسبات",gradient:"bg-gradient-to-br from-purple-500 to-purple-700"},{to:"/events/history",icon:ys,title:"سجل حجوزات الفعاليات",description:"عرض وتصفية سجل حجوزات الفعاليات",gradient:"bg-gradient-to-br from-blue-400 to-indigo-600"},{to:"/visas",icon:Ou,title:"التأشيرات",description:"إدارة طلبات وحجوزات التأشيرات",gradient:"bg-gradient-to-br from-orange-500 to-orange-700"},{to:"/visas/history",icon:Ou,title:"سجل حجوزات التأشيرات",description:"عرض وتصفية سجل حجوزات التأشيرات",gradient:"bg-gradient-to-br from-blue-400 to-indigo-600"},{to:"/receipts",icon:u5,title:"السندات",description:"إدارة السندات والمدفوعات",gradient:"bg-gradient-to-br from-pink-500 to-pink-700"},{to:"/reports",icon:vc,title:"التقارير",description:"عرض وتحليل تقارير النظام",gradient:"bg-gradient-to-br from-indigo-500 to-indigo-700"}];return(t==null?void 0:t.role)==="admin"&&e.push({to:"/employees",icon:J2,title:"الموظفين",description:"إدارة حسابات الموظفين والصلاحيات",gradient:"bg-gradient-to-br from-teal-500 to-teal-700"},{to:"/settings",icon:Sie,title:"الإعدادات",description:"إعدادات النظام والتحكم",gradient:"bg-gradient-to-br from-gray-600 to-gray-800"}),l.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h1",{className:"text-5xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-indigo-600 mb-4",children:"نظام السعد للسياحة والسفر"}),l.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 max-w-2xl mx-auto",children:"مرحباً بك في لوحة التحكم. اختر أحد الأقسام للبدء في إدارة الحجوزات والخدمات."})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map((r,n)=>l.jsx(noe,{...r},n))}),l.jsx("div",{className:"mt-16 text-center",children:l.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[new Date().getFullYear()," السعد للسياحة والسفر. جميع الحقوق محفوظة"]})})]})})};function On({title:t,showBackButton:e=!0}){const r=Es(),{user:n}=mn(),s=()=>{r(-1)};return l.jsx("div",{className:"bg-white shadow-md",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex justify-between items-center py-4",children:[l.jsxs("div",{className:"flex items-center",children:[e&&l.jsxs("button",{onClick:s,className:"ml-4 inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-gray-700 bg-gray-100 hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[l.jsx(xie,{className:"ml-2 -mr-0.5 h-4 w-4"}),"رجوع"]}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t})]}),n&&l.jsx("div",{className:"flex items-center",children:l.jsx("span",{className:"text-gray-700 ml-4",children:n.role==="admin"?"مشرف النظام":"موظف"})})]})})})}function sp({onSelect:t,selectedCustomer:e,disabled:r=!1}){const[n,s]=T.useState(""),[i,o]=T.useState([]),[a,c]=T.useState(!1),[u,d]=T.useState(!1),h=T.useRef(null);T.useEffect(()=>{function m(v){h.current&&!h.current.contains(v.target)&&c(!1)}return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[]),T.useEffect(()=>{const m=async()=>{if(!n.trim()||n.length<2){o([]),c(!1);return}d(!0);try{const b=Zt($e,"customers"),y=n.toLowerCase(),x=xr(b,ts("created_at","desc"),z_(20)),w=(await Io(x)).docs.map(I=>({id:I.id,...I.data()})).filter(I=>{var k,j,O;const P=`${I.nameAr1} ${I.nameAr2} ${I.nameAr3}`.toLowerCase(),A=`${I.nameEn1||""} ${I.nameEn2||""} ${I.nameEn3||""}`.toLowerCase(),S=((k=I.code)==null?void 0:k.toLowerCase())||"",E=((j=I.phoneNumber)==null?void 0:j.toLowerCase())||"",C=((O=I.passportNumber)==null?void 0:O.toLowerCase())||"";return P.includes(y)||A.includes(y)||S.includes(y)||E.includes(y)||C.includes(y)});o(w),c(!0)}catch(b){console.error("Error searching customers:",b)}finally{d(!1)}},v=setTimeout(()=>{m()},300);return()=>clearTimeout(v)},[n]);const p=m=>{t(m),s(""),c(!1)};return l.jsxs("div",{className:"mb-8",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"بيانات العميل"}),l.jsxs("div",{className:"relative",ref:h,children:[!e&&l.jsxs("div",{className:"flex gap-2 mb-4",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx("input",{type:"text",placeholder:"ابحث بالرقم الكودي أو رقم الهاتف أو الاسم أو رقم الجواز",value:n,onChange:m=>s(m.target.value),className:"w-full p-3 pl-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:r}),l.jsx(Pi,{className:"absolute right-3 top-3.5 text-gray-400"}),u&&l.jsx("div",{className:"absolute left-3 top-3.5",children:l.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-500"})})]}),n&&l.jsx("button",{onClick:()=>{s(""),c(!1)},className:"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600",disabled:r,children:l.jsx(Gs,{})})]}),a&&i.length>0&&l.jsx("div",{className:"absolute z-50 w-full bg-white border border-gray-300 rounded-lg shadow-lg mt-1 max-h-80 overflow-y-auto",children:i.map(m=>l.jsx("div",{className:"p-3 hover:bg-gray-50 cursor-pointer border-b last:border-b-0",onClick:()=>p(m),children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-semibold",children:`${m.nameAr1} ${m.nameAr2} ${m.nameAr3}`}),l.jsxs("div",{className:"text-sm text-gray-500 flex gap-3",children:[l.jsx("span",{children:m.phoneNumber}),l.jsx("span",{className:"font-mono",children:m.passportNumber})]})]}),l.jsx("div",{className:"text-sm font-mono text-gray-600 bg-gray-100 px-2 py-1 rounded",children:m.code})]})},m.id))}),a&&i.length===0&&n&&l.jsx("div",{className:"absolute z-50 w-full bg-white border border-gray-300 rounded-lg shadow-lg mt-1",children:l.jsx("div",{className:"p-3 text-center text-gray-500",children:"لا توجد نتائج للبحث"})})]}),e&&l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mt-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"الرقم الكودي:"}),l.jsx("span",{className:"font-mono mr-2 bg-gray-100 px-2 py-1 rounded",children:e.code})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"اسم العميل:"}),l.jsx("span",{className:"mr-2 font-semibold",children:`${e.nameAr1} ${e.nameAr2} ${e.nameAr3}`})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"رقم الجواز:"}),l.jsx("span",{className:"font-mono mr-2",children:e.passportNumber})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"الجنسية:"}),l.jsx("span",{className:"mr-2",children:e.nationality})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"رقم الهاتف:"}),l.jsx("span",{className:"font-mono mr-2",children:e.phoneNumber})]})]}),!r&&l.jsx("button",{type:"button",onClick:()=>t(null),className:"mt-4 text-red-500 hover:text-red-700",children:"تغيير العميل"})]})]})}const eg=t=>{if(!t)return"";const[e,r,n]=t.split("-");return`${n}/${r}/${e}`},ioe=t=>{if(!t)return"";if(typeof t!="string"){if(t instanceof Date){const e=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),n=String(t.getDate()).padStart(2,"0");return`${e}-${r}-${n}`}return""}if(t.includes("-")){const[e,r,n]=t.split("-");if(e&&r&&n){const s=parseInt(e),i=parseInt(r),o=parseInt(n);if(s>=1900&&s<=2100&&i>=1&&i<=12&&o>=1&&o<=31)return`${e}-${r.padStart(2,"0")}-${n.padStart(2,"0")}`}return""}if(t.includes("/")){const[e,r,n]=t.split("/");if(n&&r&&e){const s=parseInt(n),i=parseInt(r),o=parseInt(e);if(s>=1900&&s<=2100&&i>=1&&i<=12&&o>=1&&o<=31)return`${n}-${r.padStart(2,"0")}-${e.padStart(2,"0")}`}}return""},dn=()=>{const t=new Date,e=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0");return`${String(t.getDate()).padStart(2,"0")}/${r}/${e}`};function v5(t,e){return function(){return t.apply(e,arguments)}}const{toString:ooe}=Object.prototype,{getPrototypeOf:Z2}=Object,qy=(t=>e=>{const r=ooe.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Ks=t=>(t=t.toLowerCase(),e=>qy(e)===t),Gy=t=>e=>typeof e===t,{isArray:td}=Array,Eh=Gy("undefined");function aoe(t){return t!==null&&!Eh(t)&&t.constructor!==null&&!Eh(t.constructor)&&Yn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const b5=Ks("ArrayBuffer");function loe(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&b5(t.buffer),e}const coe=Gy("string"),Yn=Gy("function"),x5=Gy("number"),Ky=t=>t!==null&&typeof t=="object",uoe=t=>t===!0||t===!1,tg=t=>{if(qy(t)!=="object")return!1;const e=Z2(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},doe=Ks("Date"),foe=Ks("File"),hoe=Ks("Blob"),poe=Ks("FileList"),moe=t=>Ky(t)&&Yn(t.pipe),goe=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Yn(t.append)&&((e=qy(t))==="formdata"||e==="object"&&Yn(t.toString)&&t.toString()==="[object FormData]"))},yoe=Ks("URLSearchParams"),[voe,boe,xoe,woe]=["ReadableStream","Request","Response","Headers"].map(Ks),_oe=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ip(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,s;if(typeof t!="object"&&(t=[t]),td(t))for(n=0,s=t.length;n<s;n++)e.call(null,t[n],n,t);else{const i=r?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let a;for(n=0;n<o;n++)a=i[n],e.call(null,t[a],a,t)}}function w5(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,s;for(;n-- >0;)if(s=r[n],e===s.toLowerCase())return s;return null}const pl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,_5=t=>!Eh(t)&&t!==pl;function G1(){const{caseless:t}=_5(this)&&this||{},e={},r=(n,s)=>{const i=t&&w5(e,s)||s;tg(e[i])&&tg(n)?e[i]=G1(e[i],n):tg(n)?e[i]=G1({},n):td(n)?e[i]=n.slice():e[i]=n};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&ip(arguments[n],r);return e}const Soe=(t,e,r,{allOwnKeys:n}={})=>(ip(e,(s,i)=>{r&&Yn(s)?t[i]=v5(s,r):t[i]=s},{allOwnKeys:n}),t),Eoe=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Toe=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},Coe=(t,e,r,n)=>{let s,i,o;const a={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)o=s[i],(!n||n(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=r!==!1&&Z2(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},koe=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},Noe=t=>{if(!t)return null;if(td(t))return t;let e=t.length;if(!x5(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},Ioe=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Z2(Uint8Array)),Poe=(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=n.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},Aoe=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},joe=Ks("HTMLFormElement"),Roe=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),vk=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),Doe=Ks("RegExp"),S5=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};ip(r,(s,i)=>{let o;(o=e(s,i,t))!==!1&&(n[i]=o||s)}),Object.defineProperties(t,n)},Ooe=t=>{S5(t,(e,r)=>{if(Yn(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(Yn(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Moe=(t,e)=>{const r={},n=s=>{s.forEach(i=>{r[i]=!0})};return td(t)?n(t):n(String(t).split(e)),r},Loe=()=>{},Foe=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Voe(t){return!!(t&&Yn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const $oe=t=>{const e=new Array(10),r=(n,s)=>{if(Ky(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[s]=n;const i=td(n)?[]:{};return ip(n,(o,a)=>{const c=r(o,s+1);!Eh(c)&&(i[a]=c)}),e[s]=void 0,i}}return n};return r(t,0)},Boe=Ks("AsyncFunction"),zoe=t=>t&&(Ky(t)||Yn(t))&&Yn(t.then)&&Yn(t.catch),E5=((t,e)=>t?setImmediate:e?((r,n)=>(pl.addEventListener("message",({source:s,data:i})=>{s===pl&&i===r&&n.length&&n.shift()()},!1),s=>{n.push(s),pl.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Yn(pl.postMessage)),Uoe=typeof queueMicrotask<"u"?queueMicrotask.bind(pl):typeof process<"u"&&process.nextTick||E5,Y={isArray:td,isArrayBuffer:b5,isBuffer:aoe,isFormData:goe,isArrayBufferView:loe,isString:coe,isNumber:x5,isBoolean:uoe,isObject:Ky,isPlainObject:tg,isReadableStream:voe,isRequest:boe,isResponse:xoe,isHeaders:woe,isUndefined:Eh,isDate:doe,isFile:foe,isBlob:hoe,isRegExp:Doe,isFunction:Yn,isStream:moe,isURLSearchParams:yoe,isTypedArray:Ioe,isFileList:poe,forEach:ip,merge:G1,extend:Soe,trim:_oe,stripBOM:Eoe,inherits:Toe,toFlatObject:Coe,kindOf:qy,kindOfTest:Ks,endsWith:koe,toArray:Noe,forEachEntry:Poe,matchAll:Aoe,isHTMLForm:joe,hasOwnProperty:vk,hasOwnProp:vk,reduceDescriptors:S5,freezeMethods:Ooe,toObjectSet:Moe,toCamelCase:Roe,noop:Loe,toFiniteNumber:Foe,findKey:w5,global:pl,isContextDefined:_5,isSpecCompliantForm:Voe,toJSONObject:$oe,isAsyncFn:Boe,isThenable:zoe,setImmediate:E5,asap:Uoe};function Fe(t,e,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}Y.inherits(Fe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Y.toJSONObject(this.config),code:this.code,status:this.status}}});const T5=Fe.prototype,C5={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{C5[t]={value:t}});Object.defineProperties(Fe,C5);Object.defineProperty(T5,"isAxiosError",{value:!0});Fe.from=(t,e,r,n,s,i)=>{const o=Object.create(T5);return Y.toFlatObject(t,o,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),Fe.call(o,t.message,e,r,n,s),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const Hoe=null;function K1(t){return Y.isPlainObject(t)||Y.isArray(t)}function k5(t){return Y.endsWith(t,"[]")?t.slice(0,-2):t}function bk(t,e,r){return t?t.concat(e).map(function(s,i){return s=k5(s),!r&&i?"["+s+"]":s}).join(r?".":""):e}function Woe(t){return Y.isArray(t)&&!t.some(K1)}const qoe=Y.toFlatObject(Y,{},null,function(e){return/^is[A-Z]/.test(e)});function Qy(t,e,r){if(!Y.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=Y.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,y){return!Y.isUndefined(y[b])});const n=r.metaTokens,s=r.visitor||d,i=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&Y.isSpecCompliantForm(e);if(!Y.isFunction(s))throw new TypeError("visitor must be a function");function u(v){if(v===null)return"";if(Y.isDate(v))return v.toISOString();if(!c&&Y.isBlob(v))throw new Fe("Blob is not supported. Use a Buffer instead.");return Y.isArrayBuffer(v)||Y.isTypedArray(v)?c&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function d(v,b,y){let x=v;if(v&&!y&&typeof v=="object"){if(Y.endsWith(b,"{}"))b=n?b:b.slice(0,-2),v=JSON.stringify(v);else if(Y.isArray(v)&&Woe(v)||(Y.isFileList(v)||Y.endsWith(b,"[]"))&&(x=Y.toArray(v)))return b=k5(b),x.forEach(function(w,I){!(Y.isUndefined(w)||w===null)&&e.append(o===!0?bk([b],I,i):o===null?b:b+"[]",u(w))}),!1}return K1(v)?!0:(e.append(bk(y,b,i),u(v)),!1)}const h=[],p=Object.assign(qoe,{defaultVisitor:d,convertValue:u,isVisitable:K1});function m(v,b){if(!Y.isUndefined(v)){if(h.indexOf(v)!==-1)throw Error("Circular reference detected in "+b.join("."));h.push(v),Y.forEach(v,function(x,g){(!(Y.isUndefined(x)||x===null)&&s.call(e,x,Y.isString(g)?g.trim():g,b,p))===!0&&m(x,b?b.concat(g):[g])}),h.pop()}}if(!Y.isObject(t))throw new TypeError("data must be an object");return m(t),e}function xk(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function eS(t,e){this._pairs=[],t&&Qy(t,this,e)}const N5=eS.prototype;N5.append=function(e,r){this._pairs.push([e,r])};N5.toString=function(e){const r=e?function(n){return e.call(this,n,xk)}:xk;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function Goe(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function I5(t,e,r){if(!e)return t;const n=r&&r.encode||Goe;Y.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let i;if(s?i=s(e,r):i=Y.isURLSearchParams(e)?e.toString():new eS(e,r).toString(n),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class wk{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Y.forEach(this.handlers,function(n){n!==null&&e(n)})}}const P5={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Koe=typeof URLSearchParams<"u"?URLSearchParams:eS,Qoe=typeof FormData<"u"?FormData:null,Yoe=typeof Blob<"u"?Blob:null,Xoe={isBrowser:!0,classes:{URLSearchParams:Koe,FormData:Qoe,Blob:Yoe},protocols:["http","https","file","blob","url","data"]},tS=typeof window<"u"&&typeof document<"u",Q1=typeof navigator=="object"&&navigator||void 0,Joe=tS&&(!Q1||["ReactNative","NativeScript","NS"].indexOf(Q1.product)<0),Zoe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",eae=tS&&window.location.href||"http://localhost",tae=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:tS,hasStandardBrowserEnv:Joe,hasStandardBrowserWebWorkerEnv:Zoe,navigator:Q1,origin:eae},Symbol.toStringTag,{value:"Module"})),Yr={...tae,...Xoe};function rae(t,e){return Qy(t,new Yr.classes.URLSearchParams,Object.assign({visitor:function(r,n,s,i){return Yr.isNode&&Y.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function nae(t){return Y.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function sae(t){const e={},r=Object.keys(t);let n;const s=r.length;let i;for(n=0;n<s;n++)i=r[n],e[i]=t[i];return e}function A5(t){function e(r,n,s,i){let o=r[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),c=i>=r.length;return o=!o&&Y.isArray(s)?s.length:o,c?(Y.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!a):((!s[o]||!Y.isObject(s[o]))&&(s[o]=[]),e(r,n,s[o],i)&&Y.isArray(s[o])&&(s[o]=sae(s[o])),!a)}if(Y.isFormData(t)&&Y.isFunction(t.entries)){const r={};return Y.forEachEntry(t,(n,s)=>{e(nae(n),s,r,0)}),r}return null}function iae(t,e,r){if(Y.isString(t))try{return(e||JSON.parse)(t),Y.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const op={transitional:P5,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,i=Y.isObject(e);if(i&&Y.isHTMLForm(e)&&(e=new FormData(e)),Y.isFormData(e))return s?JSON.stringify(A5(e)):e;if(Y.isArrayBuffer(e)||Y.isBuffer(e)||Y.isStream(e)||Y.isFile(e)||Y.isBlob(e)||Y.isReadableStream(e))return e;if(Y.isArrayBufferView(e))return e.buffer;if(Y.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return rae(e,this.formSerializer).toString();if((a=Y.isFileList(e))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Qy(a?{"files[]":e}:e,c&&new c,this.formSerializer)}}return i||s?(r.setContentType("application/json",!1),iae(e)):e}],transformResponse:[function(e){const r=this.transitional||op.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(Y.isResponse(e)||Y.isReadableStream(e))return e;if(e&&Y.isString(e)&&(n&&!this.responseType||s)){const o=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?Fe.from(a,Fe.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Yr.classes.FormData,Blob:Yr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Y.forEach(["delete","get","head","post","put","patch"],t=>{op.headers[t]={}});const oae=Y.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),aae=t=>{const e={};let r,n,s;return t&&t.split(`
`).forEach(function(o){s=o.indexOf(":"),r=o.substring(0,s).trim().toLowerCase(),n=o.substring(s+1).trim(),!(!r||e[r]&&oae[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},_k=Symbol("internals");function Cd(t){return t&&String(t).trim().toLowerCase()}function rg(t){return t===!1||t==null?t:Y.isArray(t)?t.map(rg):String(t)}function lae(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const cae=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Ib(t,e,r,n,s){if(Y.isFunction(n))return n.call(this,e,r);if(s&&(e=r),!!Y.isString(e)){if(Y.isString(n))return e.indexOf(n)!==-1;if(Y.isRegExp(n))return n.test(e)}}function uae(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function dae(t,e){const r=Y.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(s,i,o){return this[n].call(this,e,s,i,o)},configurable:!0})})}let Rn=class{constructor(e){e&&this.set(e)}set(e,r,n){const s=this;function i(a,c,u){const d=Cd(c);if(!d)throw new Error("header name must be a non-empty string");const h=Y.findKey(s,d);(!h||s[h]===void 0||u===!0||u===void 0&&s[h]!==!1)&&(s[h||c]=rg(a))}const o=(a,c)=>Y.forEach(a,(u,d)=>i(u,d,c));if(Y.isPlainObject(e)||e instanceof this.constructor)o(e,r);else if(Y.isString(e)&&(e=e.trim())&&!cae(e))o(aae(e),r);else if(Y.isHeaders(e))for(const[a,c]of e.entries())i(c,a,n);else e!=null&&i(r,e,n);return this}get(e,r){if(e=Cd(e),e){const n=Y.findKey(this,e);if(n){const s=this[n];if(!r)return s;if(r===!0)return lae(s);if(Y.isFunction(r))return r.call(this,s,n);if(Y.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Cd(e),e){const n=Y.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||Ib(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let s=!1;function i(o){if(o=Cd(o),o){const a=Y.findKey(n,o);a&&(!r||Ib(n,n[a],a,r))&&(delete n[a],s=!0)}}return Y.isArray(e)?e.forEach(i):i(e),s}clear(e){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const i=r[n];(!e||Ib(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const r=this,n={};return Y.forEach(this,(s,i)=>{const o=Y.findKey(n,i);if(o){r[o]=rg(s),delete r[i];return}const a=e?uae(i):String(i).trim();a!==i&&delete r[i],r[a]=rg(s),n[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return Y.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=e&&Y.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(s=>n.set(s)),n}static accessor(e){const n=(this[_k]=this[_k]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=Cd(o);n[a]||(dae(s,o),n[a]=!0)}return Y.isArray(e)?e.forEach(i):i(e),this}};Rn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Y.reduceDescriptors(Rn.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});Y.freezeMethods(Rn);function Pb(t,e){const r=this||op,n=e||r,s=Rn.from(n.headers);let i=n.data;return Y.forEach(t,function(a){i=a.call(r,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function j5(t){return!!(t&&t.__CANCEL__)}function rd(t,e,r){Fe.call(this,t??"canceled",Fe.ERR_CANCELED,e,r),this.name="CanceledError"}Y.inherits(rd,Fe,{__CANCEL__:!0});function R5(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new Fe("Request failed with status code "+r.status,[Fe.ERR_BAD_REQUEST,Fe.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function fae(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function hae(t,e){t=t||10;const r=new Array(t),n=new Array(t);let s=0,i=0,o;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),d=n[i];o||(o=u),r[s]=c,n[s]=u;let h=i,p=0;for(;h!==s;)p+=r[h++],h=h%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),u-o<e)return;const m=d&&u-d;return m?Math.round(p*1e3/m):void 0}}function pae(t,e){let r=0,n=1e3/e,s,i;const o=(u,d=Date.now())=>{r=d,s=null,i&&(clearTimeout(i),i=null),t.apply(null,u)};return[(...u)=>{const d=Date.now(),h=d-r;h>=n?o(u,d):(s=u,i||(i=setTimeout(()=>{i=null,o(s)},n-h)))},()=>s&&o(s)]}const v0=(t,e,r=3)=>{let n=0;const s=hae(50,250);return pae(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,c=o-n,u=s(c),d=o<=a;n=o;const h={loaded:o,total:a,progress:a?o/a:void 0,bytes:c,rate:u||void 0,estimated:u&&a&&d?(a-o)/u:void 0,event:i,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(h)},r)},Sk=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},Ek=t=>(...e)=>Y.asap(()=>t(...e)),mae=Yr.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,Yr.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(Yr.origin),Yr.navigator&&/(msie|trident)/i.test(Yr.navigator.userAgent)):()=>!0,gae=Yr.hasStandardBrowserEnv?{write(t,e,r,n,s,i){const o=[t+"="+encodeURIComponent(e)];Y.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),Y.isString(n)&&o.push("path="+n),Y.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function yae(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function vae(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function D5(t,e,r){let n=!yae(e);return t&&(n||r==!1)?vae(t,e):e}const Tk=t=>t instanceof Rn?{...t}:t;function zl(t,e){e=e||{};const r={};function n(u,d,h,p){return Y.isPlainObject(u)&&Y.isPlainObject(d)?Y.merge.call({caseless:p},u,d):Y.isPlainObject(d)?Y.merge({},d):Y.isArray(d)?d.slice():d}function s(u,d,h,p){if(Y.isUndefined(d)){if(!Y.isUndefined(u))return n(void 0,u,h,p)}else return n(u,d,h,p)}function i(u,d){if(!Y.isUndefined(d))return n(void 0,d)}function o(u,d){if(Y.isUndefined(d)){if(!Y.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function a(u,d,h){if(h in e)return n(u,d);if(h in t)return n(void 0,u)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,d,h)=>s(Tk(u),Tk(d),h,!0)};return Y.forEach(Object.keys(Object.assign({},t,e)),function(d){const h=c[d]||s,p=h(t[d],e[d],d);Y.isUndefined(p)&&h!==a||(r[d]=p)}),r}const O5=t=>{const e=zl({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:a}=e;e.headers=o=Rn.from(o),e.url=I5(D5(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let c;if(Y.isFormData(r)){if(Yr.hasStandardBrowserEnv||Yr.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[u,...d]=c?c.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...d].join("; "))}}if(Yr.hasStandardBrowserEnv&&(n&&Y.isFunction(n)&&(n=n(e)),n||n!==!1&&mae(e.url))){const u=s&&i&&gae.read(i);u&&o.set(s,u)}return e},bae=typeof XMLHttpRequest<"u",xae=bae&&function(t){return new Promise(function(r,n){const s=O5(t);let i=s.data;const o=Rn.from(s.headers).normalize();let{responseType:a,onUploadProgress:c,onDownloadProgress:u}=s,d,h,p,m,v;function b(){m&&m(),v&&v(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let y=new XMLHttpRequest;y.open(s.method.toUpperCase(),s.url,!0),y.timeout=s.timeout;function x(){if(!y)return;const w=Rn.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),P={data:!a||a==="text"||a==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:w,config:t,request:y};R5(function(S){r(S),b()},function(S){n(S),b()},P),y=null}"onloadend"in y?y.onloadend=x:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(x)},y.onabort=function(){y&&(n(new Fe("Request aborted",Fe.ECONNABORTED,t,y)),y=null)},y.onerror=function(){n(new Fe("Network Error",Fe.ERR_NETWORK,t,y)),y=null},y.ontimeout=function(){let I=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const P=s.transitional||P5;s.timeoutErrorMessage&&(I=s.timeoutErrorMessage),n(new Fe(I,P.clarifyTimeoutError?Fe.ETIMEDOUT:Fe.ECONNABORTED,t,y)),y=null},i===void 0&&o.setContentType(null),"setRequestHeader"in y&&Y.forEach(o.toJSON(),function(I,P){y.setRequestHeader(P,I)}),Y.isUndefined(s.withCredentials)||(y.withCredentials=!!s.withCredentials),a&&a!=="json"&&(y.responseType=s.responseType),u&&([p,v]=v0(u,!0),y.addEventListener("progress",p)),c&&y.upload&&([h,m]=v0(c),y.upload.addEventListener("progress",h),y.upload.addEventListener("loadend",m)),(s.cancelToken||s.signal)&&(d=w=>{y&&(n(!w||w.type?new rd(null,t,y):w),y.abort(),y=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const g=fae(s.url);if(g&&Yr.protocols.indexOf(g)===-1){n(new Fe("Unsupported protocol "+g+":",Fe.ERR_BAD_REQUEST,t));return}y.send(i||null)})},wae=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,s;const i=function(u){if(!s){s=!0,a();const d=u instanceof Error?u:this.reason;n.abort(d instanceof Fe?d:new rd(d instanceof Error?d.message:d))}};let o=e&&setTimeout(()=>{o=null,i(new Fe(`timeout ${e} of ms exceeded`,Fe.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),t=null)};t.forEach(u=>u.addEventListener("abort",i));const{signal:c}=n;return c.unsubscribe=()=>Y.asap(a),c}},_ae=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,s;for(;n<r;)s=n+e,yield t.slice(n,s),n=s},Sae=async function*(t,e){for await(const r of Eae(t))yield*_ae(r,e)},Eae=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},Ck=(t,e,r,n)=>{const s=Sae(t,e);let i=0,o,a=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await s.next();if(u){a(),c.close();return}let h=d.byteLength;if(r){let p=i+=h;r(p)}c.enqueue(new Uint8Array(d))}catch(u){throw a(u),u}},cancel(c){return a(c),s.return()}},{highWaterMark:2})},Yy=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",M5=Yy&&typeof ReadableStream=="function",Tae=Yy&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),L5=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Cae=M5&&L5(()=>{let t=!1;const e=new Request(Yr.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),kk=64*1024,Y1=M5&&L5(()=>Y.isReadableStream(new Response("").body)),b0={stream:Y1&&(t=>t.body)};Yy&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!b0[e]&&(b0[e]=Y.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new Fe(`Response type '${e}' is not supported`,Fe.ERR_NOT_SUPPORT,n)})})})(new Response);const kae=async t=>{if(t==null)return 0;if(Y.isBlob(t))return t.size;if(Y.isSpecCompliantForm(t))return(await new Request(Yr.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(Y.isArrayBufferView(t)||Y.isArrayBuffer(t))return t.byteLength;if(Y.isURLSearchParams(t)&&(t=t+""),Y.isString(t))return(await Tae(t)).byteLength},Nae=async(t,e)=>{const r=Y.toFiniteNumber(t.getContentLength());return r??kae(e)},Iae=Yy&&(async t=>{let{url:e,method:r,data:n,signal:s,cancelToken:i,timeout:o,onDownloadProgress:a,onUploadProgress:c,responseType:u,headers:d,withCredentials:h="same-origin",fetchOptions:p}=O5(t);u=u?(u+"").toLowerCase():"text";let m=wae([s,i&&i.toAbortSignal()],o),v;const b=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let y;try{if(c&&Cae&&r!=="get"&&r!=="head"&&(y=await Nae(d,n))!==0){let P=new Request(e,{method:"POST",body:n,duplex:"half"}),A;if(Y.isFormData(n)&&(A=P.headers.get("content-type"))&&d.setContentType(A),P.body){const[S,E]=Sk(y,v0(Ek(c)));n=Ck(P.body,kk,S,E)}}Y.isString(h)||(h=h?"include":"omit");const x="credentials"in Request.prototype;v=new Request(e,{...p,signal:m,method:r.toUpperCase(),headers:d.normalize().toJSON(),body:n,duplex:"half",credentials:x?h:void 0});let g=await fetch(v);const w=Y1&&(u==="stream"||u==="response");if(Y1&&(a||w&&b)){const P={};["status","statusText","headers"].forEach(C=>{P[C]=g[C]});const A=Y.toFiniteNumber(g.headers.get("content-length")),[S,E]=a&&Sk(A,v0(Ek(a),!0))||[];g=new Response(Ck(g.body,kk,S,()=>{E&&E(),b&&b()}),P)}u=u||"text";let I=await b0[Y.findKey(b0,u)||"text"](g,t);return!w&&b&&b(),await new Promise((P,A)=>{R5(P,A,{data:I,headers:Rn.from(g.headers),status:g.status,statusText:g.statusText,config:t,request:v})})}catch(x){throw b&&b(),x&&x.name==="TypeError"&&/fetch/i.test(x.message)?Object.assign(new Fe("Network Error",Fe.ERR_NETWORK,t,v),{cause:x.cause||x}):Fe.from(x,x&&x.code,t,v)}}),X1={http:Hoe,xhr:xae,fetch:Iae};Y.forEach(X1,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Nk=t=>`- ${t}`,Pae=t=>Y.isFunction(t)||t===null||t===!1,F5={getAdapter:t=>{t=Y.isArray(t)?t:[t];const{length:e}=t;let r,n;const s={};for(let i=0;i<e;i++){r=t[i];let o;if(n=r,!Pae(r)&&(n=X1[(o=String(r)).toLowerCase()],n===void 0))throw new Fe(`Unknown adapter '${o}'`);if(n)break;s[o||"#"+i]=n}if(!n){const i=Object.entries(s).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?i.length>1?`since :
`+i.map(Nk).join(`
`):" "+Nk(i[0]):"as no adapter specified";throw new Fe("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:X1};function Ab(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new rd(null,t)}function Ik(t){return Ab(t),t.headers=Rn.from(t.headers),t.data=Pb.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),F5.getAdapter(t.adapter||op.adapter)(t).then(function(n){return Ab(t),n.data=Pb.call(t,t.transformResponse,n),n.headers=Rn.from(n.headers),n},function(n){return j5(n)||(Ab(t),n&&n.response&&(n.response.data=Pb.call(t,t.transformResponse,n.response),n.response.headers=Rn.from(n.response.headers))),Promise.reject(n)})}const V5="1.8.4",Xy={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Xy[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const Pk={};Xy.transitional=function(e,r,n){function s(i,o){return"[Axios v"+V5+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,a)=>{if(e===!1)throw new Fe(s(o," has been removed"+(r?" in "+r:"")),Fe.ERR_DEPRECATED);return r&&!Pk[o]&&(Pk[o]=!0,console.warn(s(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(i,o,a):!0}};Xy.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function Aae(t,e,r){if(typeof t!="object")throw new Fe("options must be an object",Fe.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let s=n.length;for(;s-- >0;){const i=n[s],o=e[i];if(o){const a=t[i],c=a===void 0||o(a,i,t);if(c!==!0)throw new Fe("option "+i+" must be "+c,Fe.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Fe("Unknown option "+i,Fe.ERR_BAD_OPTION)}}const ng={assertOptions:Aae,validators:Xy},si=ng.validators;let El=class{constructor(e){this.defaults=e,this.interceptors={request:new wk,response:new wk}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=zl(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:i}=r;n!==void 0&&ng.assertOptions(n,{silentJSONParsing:si.transitional(si.boolean),forcedJSONParsing:si.transitional(si.boolean),clarifyTimeoutError:si.transitional(si.boolean)},!1),s!=null&&(Y.isFunction(s)?r.paramsSerializer={serialize:s}:ng.assertOptions(s,{encode:si.function,serialize:si.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),ng.assertOptions(r,{baseUrl:si.spelling("baseURL"),withXsrfToken:si.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&Y.merge(i.common,i[r.method]);i&&Y.forEach(["delete","get","head","post","put","patch","common"],v=>{delete i[v]}),r.headers=Rn.concat(o,i);const a=[];let c=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(r)===!1||(c=c&&b.synchronous,a.unshift(b.fulfilled,b.rejected))});const u=[];this.interceptors.response.forEach(function(b){u.push(b.fulfilled,b.rejected)});let d,h=0,p;if(!c){const v=[Ik.bind(this),void 0];for(v.unshift.apply(v,a),v.push.apply(v,u),p=v.length,d=Promise.resolve(r);h<p;)d=d.then(v[h++],v[h++]);return d}p=a.length;let m=r;for(h=0;h<p;){const v=a[h++],b=a[h++];try{m=v(m)}catch(y){b.call(this,y);break}}try{d=Ik.call(this,m)}catch(v){return Promise.reject(v)}for(h=0,p=u.length;h<p;)d=d.then(u[h++],u[h++]);return d}getUri(e){e=zl(this.defaults,e);const r=D5(e.baseURL,e.url,e.allowAbsoluteUrls);return I5(r,e.params,e.paramsSerializer)}};Y.forEach(["delete","get","head","options"],function(e){El.prototype[e]=function(r,n){return this.request(zl(n||{},{method:e,url:r,data:(n||{}).data}))}});Y.forEach(["post","put","patch"],function(e){function r(n){return function(i,o,a){return this.request(zl(a||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}El.prototype[e]=r(),El.prototype[e+"Form"]=r(!0)});let jae=class $5{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(s=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](s);n._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{n.subscribe(a),i=a}).then(s);return o.cancel=function(){n.unsubscribe(i)},o},e(function(i,o,a){n.reason||(n.reason=new rd(i,o,a),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new $5(function(s){e=s}),cancel:e}}};function Rae(t){return function(r){return t.apply(null,r)}}function Dae(t){return Y.isObject(t)&&t.isAxiosError===!0}const J1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(J1).forEach(([t,e])=>{J1[e]=t});function B5(t){const e=new El(t),r=v5(El.prototype.request,e);return Y.extend(r,El.prototype,e,{allOwnKeys:!0}),Y.extend(r,e,null,{allOwnKeys:!0}),r.create=function(s){return B5(zl(t,s))},r}const pt=B5(op);pt.Axios=El;pt.CanceledError=rd;pt.CancelToken=jae;pt.isCancel=j5;pt.VERSION=V5;pt.toFormData=Qy;pt.AxiosError=Fe;pt.Cancel=pt.CanceledError;pt.all=function(e){return Promise.all(e)};pt.spread=Rae;pt.isAxiosError=Dae;pt.mergeConfig=zl;pt.AxiosHeaders=Rn;pt.formToJSON=t=>A5(Y.isHTMLForm(t)?new FormData(t):t);pt.getAdapter=F5.getAdapter;pt.HttpStatusCode=J1;pt.default=pt;const{Axios:pue,AxiosError:mue,CanceledError:gue,isCancel:yue,CancelToken:vue,VERSION:bue,all:xue,Cancel:wue,isAxiosError:_ue,spread:Sue,toFormData:Eue,AxiosHeaders:Tue,HttpStatusCode:Cue,formToJSON:kue,getAdapter:Nue,mergeConfig:Iue}=pt,Ao="http://localhost:3000/api",Oae=async t=>{var e,r;try{return(await pt.post(`${Ao}/employees`,t)).data}catch(n){throw new Error(((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.error)||"حدث خطأ أثناء إنشاء الموظف")}},Mae=async(t,e)=>{var r,n;try{return(await pt.put(`${Ao}/employees/${t}`,e)).data}catch(s){throw new Error(((n=(r=s.response)==null?void 0:r.data)==null?void 0:n.error)||"حدث خطأ أثناء تحديث بيانات الموظف")}},Lae=async t=>{var e,r;try{return(await pt.get(`${Ao}/employees/${t}`)).data}catch(n){throw new Error(((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.error)||"حدث خطأ أثناء جلب بيانات الموظف")}},Fae=async()=>{var t,e;try{return(await pt.get(`${Ao}/employees`)).data}catch(r){throw new Error(((e=(t=r.response)==null?void 0:t.data)==null?void 0:e.error)||"حدث خطأ أثناء جلب قائمة الموظفين")}},Vae=async t=>{var e,r;try{return(await pt.delete(`${Ao}/employees/${t}`)).data}catch(n){throw new Error(((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.error)||"حدث خطأ أثناء حذف الموظف")}},$ae=async()=>{var t,e;try{return(await pt.get(`${Ao}/receipts/next-code`)).data.code}catch(r){throw new Error(((e=(t=r.response)==null?void 0:t.data)==null?void 0:e.error)||"حدث خطأ أثناء جلب رقم الإيصال التالي")}},Bae=async()=>{var t,e;try{return(await pt.get(`${Ao}/receipts`)).data}catch(r){throw new Error(((e=(t=r.response)==null?void 0:t.data)==null?void 0:e.error)||"حدث خطأ أثناء جلب قائمة الإيصالات")}},zae=async t=>{var e,r;try{return(await pt.post(`${Ao}/receipts`,t)).data}catch(n){throw new Error(((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.error)||"حدث خطأ أثناء إنشاء الإيصال")}},Uae=async t=>{var e,r;try{return(await pt.delete(`${Ao}/receipts/${t}`)).data}catch(n){throw new Error(((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.error)||"حدث خطأ أثناء حذف الإيصال")}},au={createEmployee:Oae,updateEmployee:Mae,getEmployee:Lae,getEmployees:Fae,deleteEmployee:Vae,getNextReceiptCode:$ae,getReceipts:Bae,createReceipt:zae,deleteReceipt:Uae};function Ft({value:t,onChange:e,name:r,label:n,required:s=!1,disabled:i=!1,icon:o=null,className:a=""}){const c=d=>{const h=d.target.value,p=h?eg(h):"",m={...d,target:{...d.target,name:r,value:p}};e(m)},u=ioe(t)||"";return l.jsxs("div",{children:[n&&l.jsxs("label",{className:"block text-gray-700 mb-2 flex items-center gap-2",children:[o,n,s&&l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"date",name:r,value:u,onChange:c,className:`${a} w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500`,required:s,disabled:i})]})}function Hae({onSave:t,onClose:e,editingFlight:r}){const[n,s]=T.useState({airline:"",flightNumber:"",origin:"",destination:"",departureDate:"",returnDate:"",cost:"",price:"",ticketType:"ذهاب وعودة",segmentType:"مباشر",segmentCount:"1",routeCode:"",notes:""});T.useEffect(()=>{r&&s({...r,segmentType:r.segmentType||"مباشر",segmentCount:r.segmentCount||"1"})},[r]);const i=d=>{const{name:h,value:p}=d.target;s(m=>({...m,[h]:p}))},o=d=>{const{name:h,value:p}=d.target;s(m=>({...m,[h]:p}))},a=()=>{const d=["airline","flightNumber","origin","destination","cost","price","segmentType","segmentCount","routeCode"];for(const h of d)if(!n[h])return`يجب إدخال ${c(h)}`;return isNaN(parseFloat(n.cost))||parseFloat(n.cost)<=0?"يجب إدخال سعر تكلفة صحيح":isNaN(parseFloat(n.price))||parseFloat(n.price)<=0?"يجب إدخال سعر بيع صحيح":null},c=d=>({airline:"اسم شركة الطيران",flightNumber:"رقم الرحلة",origin:"مدينة المغادرة",destination:"مدينة الوصول",departureDate:"تاريخ المغادرة",returnDate:"تاريخ العودة",cost:"سعر التكلفة",price:"سعر البيع",ticketType:"نوع التذكرة",segmentType:"نوع السجمنت",segmentCount:"عدد السجمنت",routeCode:"مسار الرحلة",notes:"ملاحظات"})[d]||d,u=d=>{d.preventDefault();const h=a();if(h){alert(h);return}t({...n,cost:parseFloat(n.cost).toFixed(3),price:parseFloat(n.price).toFixed(3)})};return l.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-90vh overflow-y-auto shadow-xl",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:r?"تعديل معلومات رحلة الطيران":"إضافة رحلة طيران جديدة"}),l.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700",children:l.jsx(Gs,{className:"h-5 w-5"})})]}),l.jsxs("form",{onSubmit:u,children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-600 mb-2",children:"شركة الطيران*"}),l.jsx("input",{type:"text",name:"airline",value:n.airline,onChange:i,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-600 mb-2",children:"رقم الرحلة*"}),l.jsx("input",{type:"text",name:"flightNumber",value:n.flightNumber,onChange:i,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-600 mb-2",children:"من*"}),l.jsx("input",{type:"text",name:"origin",value:n.origin,onChange:i,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-600 mb-2",children:"إلى*"}),l.jsx("input",{type:"text",name:"destination",value:n.destination,onChange:i,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-600 mb-2",children:"نوع التذكرة*"}),l.jsxs("select",{name:"ticketType",value:n.ticketType,onChange:i,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[l.jsx("option",{value:"ذهاب فقط",children:"ذهاب فقط"}),l.jsx("option",{value:"ذهاب وعودة",children:"ذهاب وعودة"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-600 mb-2",children:"نوع السجمنت*"}),l.jsxs("select",{name:"segmentType",value:n.segmentType,onChange:i,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[l.jsx("option",{value:"مباشر",children:"مباشر"}),l.jsx("option",{value:"ترانزيت",children:"ترانزيت"}),l.jsx("option",{value:"توقف",children:"توقف"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-600 mb-2",children:"عدد السجمنت*"}),l.jsxs("select",{name:"segmentCount",value:n.segmentCount,onChange:i,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[l.jsx("option",{value:"1",children:"1"}),l.jsx("option",{value:"2",children:"2"}),l.jsx("option",{value:"3",children:"3"}),l.jsx("option",{value:"4",children:"4"}),l.jsx("option",{value:"5",children:"5"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-600 mb-2",children:"مسار الرحلة*"}),l.jsx("input",{type:"text",name:"routeCode",value:n.routeCode,onChange:i,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"تاريخ المغادرة*"}),l.jsx(Ft,{value:n.departureDate,onChange:o,name:"departureDate",required:!1})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"تاريخ العودة"}),l.jsx(Ft,{value:n.returnDate,onChange:o,name:"returnDate",required:!1})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-600 mb-2",children:"سعر التكلفة (د.ك)*"}),l.jsx("input",{type:"number",name:"cost",value:n.cost,onChange:i,step:"0.001",min:"0",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-600 mb-2",children:"سعر البيع (د.ك)*"}),l.jsx("input",{type:"number",name:"price",value:n.price,onChange:i,step:"0.001",min:"0",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"block text-gray-600 mb-2",children:"ملاحظات"}),l.jsx("textarea",{name:"notes",value:n.notes,onChange:i,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 h-32",placeholder:"أدخل أي ملاحظات إضافية هنا..."})]}),l.jsxs("div",{className:"flex justify-end mt-6 gap-4",children:[l.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 border border-gray-300 rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"إلغاء"}),l.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:r?"تحديث":"إضافة"})]})]})]})})}function Wae(){const[t,e]=T.useState([]),r=Es(),{user:n,hasPermission:s}=mn(),[i,o]=T.useState(null),[a,c]=T.useState(!1),[u,d]=T.useState([]),[h,p]=T.useState(null),[m,v]=T.useState({receiptCode:"",receiptNumber:"",cost:"",price:"",paymentMethod:"knet",paymentDate:dn(),deferredPaymentDate:dn(),firstInstallment:"",secondInstallment:"",thirdInstallment:"",notes:""}),[b,y]=T.useState(!1);T.useEffect(()=>{(async()=>{try{const j=await au.getNextReceiptCode();v(O=>({...O,receiptCode:j}))}catch(j){console.error("خطأ في جلب رقم الإيصال التلقائي:",j),q.error("خطأ في جلب رقم الإيصال التلقائي")}})()},[]),T.useEffect(()=>{const k=xr(Zt($e,"flightBookings"),ts("createdAt","desc")),j=Gu(k,O=>{const D=O.docs.map(ue=>({id:ue.id,...ue.data()}));e(D)});return()=>j()},[]),T.useEffect(()=>{const k=u.reduce((j,O)=>j+parseFloat(O.price||0),0).toFixed(3);v(j=>({...j,price:k}))},[u]);const x=k=>{const{name:j,value:O}=k.target;v(D=>({...D,[j]:O}))},g=k=>{const{name:j,value:O}=k.target;v(D=>({...D,[j]:O}))},w=k=>{h?(d(j=>j.map(O=>O.id===h.id?{...k,id:h.id}:O)),p(null),q.success("تم تعديل حجز الطيران بنجاح")):(d(j=>[...j,{...k,id:Date.now()}]),q.success("تم إضافة حجز الطيران بنجاح")),c(!1)},I=k=>{window.confirm("هل أنت متأكد من حذف هذا الحجز؟")&&(d(j=>j.filter(O=>O.id!==k)),q.success("تم حذف حجز الطيران بنجاح"))},P=k=>{p(k),c(!0)},A=async()=>{var k;if(!(i!=null&&i.id)||!(i!=null&&i.name)){q.error("يجب اختيار عميل قبل حفظ الحجز");return}if(u.length===0){q.error("يجب إضافة رحلة طيران واحدة على الأقل قبل الحفظ");return}if(!((k=m.receiptNumber)!=null&&k.trim())){q.error("يجب إدخال رقم الإيصال");return}if(m.paymentMethod==="deferred"&&!m.deferredPaymentDate){q.error("يجب إدخال تاريخ الدفع الآجل");return}if(m.paymentMethod==="installments"){if(!m.firstInstallment||!m.secondInstallment||!m.thirdInstallment){q.error("يجب إدخال مبالغ جميع الدفعات");return}const j=parseFloat(m.price),O=parseFloat(m.firstInstallment||0)+parseFloat(m.secondInstallment||0)+parseFloat(m.thirdInstallment||0);if(Math.abs(j-O)>.001){q.error("مجموع الدفعات يجب أن يساوي إجمالي سعر البيع");return}}y(!0);try{const j={customerId:i.id,customerName:i.name,customerPhone:i.phone||"",flights:u.map(O=>({...O,departureDate:O.departureDate||"",returnDate:O.returnDate||"",price:parseFloat(O.price)||0,cost:parseFloat(O.cost)||0})),payment:{...m,price:parseFloat(m.price)||0,firstInstallment:parseFloat(m.firstInstallment||0),secondInstallment:parseFloat(m.secondInstallment||0),thirdInstallment:parseFloat(m.thirdInstallment||0)},createdAt:new Date,employeeId:(n==null?void 0:n.id)||"",employeeName:(n==null?void 0:n.name)||""};await qu(Zt($e,"flightBookings"),j),q.success("تم حفظ الحجز بنجاح"),r("/menu")}catch(j){console.error("خطأ في حفظ الحجز:",j),q.error("حدث خطأ أثناء حفظ الحجز")}finally{y(!1)}},S=()=>u.reduce((k,j)=>k+parseFloat(j.price||0),0).toFixed(3),E=()=>{switch(m.paymentMethod){case"deferred":return l.jsxs("div",{className:"mt-4",children:[l.jsx("label",{className:"block text-gray-600 mb-2",children:"تاريخ الدفع الآجل*"}),l.jsx(Ft,{value:m.deferredPaymentDate,onChange:g,name:"deferredPaymentDate",required:!1,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]});case"installments":const k=S();return l.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-600 mb-2",children:"الدفعة الأولى (د.ك)*"}),l.jsx("input",{type:"number",name:"firstInstallment",value:m.firstInstallment,onChange:x,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",step:"0.001",min:"0"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-600 mb-2",children:"الدفعة الثانية (د.ك)*"}),l.jsx("input",{type:"number",name:"secondInstallment",value:m.secondInstallment,onChange:x,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",step:"0.001",min:"0"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-600 mb-2",children:"الدفعة الثالثة (د.ك)*"}),l.jsx("input",{type:"number",name:"thirdInstallment",value:m.thirdInstallment,onChange:x,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",step:"0.001",min:"0"})]}),l.jsx("div",{className:"md:col-span-3",children:l.jsxs("p",{className:"text-sm text-gray-600",children:["إجمالي الدفعات: ",(parseFloat(m.firstInstallment||0)+parseFloat(m.secondInstallment||0)+parseFloat(m.thirdInstallment||0)).toFixed(3)," د.ك"," | ","المبلغ الإجمالي: ",k," د.ك"]})})]});default:return null}},C=k=>{o(k?{id:k.id,name:`${k.nameAr1} ${k.nameAr2} ${k.nameAr3}`.trim(),phone:k.phone||"",civilId:k.civilId||""}:null)};return l.jsxs("div",{className:"min-h-screen bg-gray-100",children:[l.jsx(On,{title:"حجوزات الطيران"}),l.jsx("main",{className:"py-6",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"بيانات الحجز"}),l.jsxs("button",{onClick:()=>{if(!i){q.error("يجب اختيار عميل أولاً");return}p(null),c(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:!i,children:[l.jsx(Ql,{className:"inline-block ml-2"}),"إضافة حجز طيران"]})]}),l.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:l.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"بيانات العميل"}),l.jsx(sp,{onSelect:C,selectedCustomer:i}),i&&l.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[l.jsxs("p",{className:"text-gray-700",children:["العميل المحدد: ",i.name]}),i.phone&&l.jsxs("p",{className:"text-gray-600",children:["رقم الهاتف: ",i.phone]}),i.civilId&&l.jsxs("p",{className:"text-gray-600",children:["الرقم المدني: ",i.civilId]})]})]}),l.jsxs("div",{className:"mb-8",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"رحلات الطيران المحجوزة"}),u.length>0?l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-right",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-4 border-b",children:"رقم الرحلة"}),l.jsx("th",{className:"p-4 border-b",children:"اسم شركة الطيران"}),l.jsx("th",{className:"p-4 border-b",children:"من"}),l.jsx("th",{className:"p-4 border-b",children:"إلى"}),l.jsx("th",{className:"p-4 border-b",children:"تاريخ المغادرة"}),l.jsx("th",{className:"p-4 border-b",children:"وقت المغادرة"}),l.jsx("th",{className:"p-4 border-b",children:"تاريخ العودة"}),l.jsx("th",{className:"p-4 border-b",children:"سعر التكلفة"}),l.jsx("th",{className:"p-4 border-b",children:"سعر البيع"}),l.jsx("th",{className:"p-4 border-b",children:"الإجراءات"})]})}),l.jsx("tbody",{children:u.map(k=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"p-4 border-b",children:k.flightNumber}),l.jsx("td",{className:"p-4 border-b",children:k.airline}),l.jsx("td",{className:"p-4 border-b",children:k.origin}),l.jsx("td",{className:"p-4 border-b",children:k.destination}),l.jsx("td",{className:"p-4 border-b",children:k.departureDate}),l.jsx("td",{className:"p-4 border-b",children:k.departureTime}),l.jsx("td",{className:"p-4 border-b",children:k.returnDate||"-"}),l.jsxs("td",{className:"p-4 border-b",children:[k.cost," د.ك"]}),l.jsxs("td",{className:"p-4 border-b",children:[k.price," د.ك"]}),l.jsx("td",{className:"p-4 border-b",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>P(k),className:"text-blue-600 hover:text-blue-800",children:l.jsx(Va,{className:"h-5 w-5"})}),l.jsx("button",{onClick:()=>I(k.id),className:"text-red-600 hover:text-red-800",children:l.jsx(Po,{className:"h-5 w-5"})})]})})]},k.id))}),l.jsx("tfoot",{className:"bg-gray-50 font-semibold",children:l.jsxs("tr",{children:[l.jsx("td",{colSpan:"7",className:"p-4 border-b text-left",children:"المجموع:"}),l.jsxs("td",{className:"p-4 border-b",children:[u.reduce((k,j)=>k+parseFloat(j.cost||0),0).toFixed(3)," د.ك"]}),l.jsxs("td",{className:"p-4 border-b",children:[u.reduce((k,j)=>k+parseFloat(j.price||0),0).toFixed(3)," د.ك"]}),l.jsx("td",{className:"p-4 border-b"})]})})]})}):l.jsx("div",{className:"text-center py-8 text-gray-500 bg-gray-50 rounded-lg",children:"لا توجد رحلات طيران محجوزة"})]}),l.jsxs("div",{className:"mb-8 bg-gray-50 p-6 rounded-lg",children:[l.jsx("h2",{className:"text-lg font-semibold mb-6",children:"بيانات الدفع"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-600 mb-2",children:"الرقم الكودي للإيصال"}),l.jsx("input",{type:"text",value:m.receiptCode,className:"w-full p-3 border border-gray-300 rounded-lg bg-gray-100",readOnly:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-600 mb-2",children:"رقم الإيصال*"}),l.jsx("input",{type:"text",name:"receiptNumber",value:m.receiptNumber,onChange:x,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-600 mb-2",children:"إجمالي سعر التكلفة (د.ك)"}),l.jsx("input",{type:"number",name:"cost",value:u.reduce((k,j)=>k+parseFloat(j.cost||0),0).toFixed(3),className:"w-full p-3 border border-gray-300 rounded-lg bg-gray-100",readOnly:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-600 mb-2",children:"إجمالي سعر البيع (د.ك)"}),l.jsx("input",{type:"number",name:"price",value:u.reduce((k,j)=>k+parseFloat(j.price||0),0).toFixed(3),className:"w-full p-3 border border-gray-300 rounded-lg bg-gray-100",readOnly:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-600 mb-2",children:"طريقة الدفع*"}),l.jsxs("select",{name:"paymentMethod",value:m.paymentMethod,onChange:x,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[l.jsx("option",{value:"cash",children:"نقداً"}),l.jsx("option",{value:"knet",children:"كي نت"}),l.jsx("option",{value:"visa",children:"فيزا"}),l.jsx("option",{value:"mastercard",children:"ماستر كارد"}),l.jsx("option",{value:"tabby",children:"تابي"}),l.jsx("option",{value:"deferred",children:"آجل"}),l.jsx("option",{value:"installments",children:"دفعات"})]})]})]}),E(),l.jsxs("div",{className:"mb-6 mt-6",children:[l.jsx("label",{className:"block text-gray-600 mb-2",children:"ملاحظات"}),l.jsx("textarea",{name:"notes",value:m.notes,onChange:x,rows:"3",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{onClick:A,disabled:b||!i||u.length===0,className:"bg-green-500 text-white px-6 py-2 rounded-md hover:bg-green-600 transition duration-200 flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:b?"جاري الحفظ...":"حفظ الحجز"})})]})]})})]})}),a&&l.jsx(Hae,{onSave:w,onClose:()=>{c(!1),p(null)},editingFlight:h})]})}const z5=6048e5,qae=864e5,Ak=Symbol.for("constructDateFrom");function Ia(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&Ak in t?t[Ak](e):t instanceof Date?new t.constructor(e):new Date(e)}function Qs(t,e){return Ia(e||t,t)}let Gae={};function Jy(){return Gae}function Th(t,e){var a,c,u,d;const r=Jy(),n=(e==null?void 0:e.weekStartsOn)??((c=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Qs(t,e==null?void 0:e.in),i=s.getDay(),o=(i<n?7:0)+i-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function x0(t,e){return Th(t,{...e,weekStartsOn:1})}function U5(t,e){const r=Qs(t,e==null?void 0:e.in),n=r.getFullYear(),s=Ia(r,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const i=x0(s),o=Ia(r,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const a=x0(o);return r.getTime()>=i.getTime()?n+1:r.getTime()>=a.getTime()?n:n-1}function jk(t){const e=Qs(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function Kae(t,...e){const r=Ia.bind(null,e.find(n=>typeof n=="object"));return e.map(r)}function Rk(t,e){const r=Qs(t,e==null?void 0:e.in);return r.setHours(0,0,0,0),r}function Qae(t,e,r){const[n,s]=Kae(r==null?void 0:r.in,t,e),i=Rk(n),o=Rk(s),a=+i-jk(i),c=+o-jk(o);return Math.round((a-c)/qae)}function Yae(t,e){const r=U5(t,e),n=Ia(t,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),x0(n)}function Xae(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Jae(t){return!(!Xae(t)&&typeof t!="number"||isNaN(+Qs(t)))}function Zae(t,e){const r=Qs(t,e==null?void 0:e.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const ele={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},tle=(t,e,r)=>{let n;const s=ele[t];return typeof s=="string"?n=s:e===1?n=s.one:n=s.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function lu(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const rle={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},nle={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},sle={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ile={date:lu({formats:rle,defaultWidth:"full"}),time:lu({formats:nle,defaultWidth:"full"}),dateTime:lu({formats:sle,defaultWidth:"full"})},ole={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ale=(t,e,r,n)=>ole[t];function hi(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=r!=null&&r.width?String(r.width):o;s=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=r!=null&&r.width?String(r.width):t.defaultWidth;s=t.values[a]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const lle={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},cle={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ule={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dle={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},fle={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},hle={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ple=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},mle={ordinalNumber:ple,era:hi({values:lle,defaultWidth:"wide"}),quarter:hi({values:cle,defaultWidth:"wide",argumentCallback:t=>t-1}),month:hi({values:ule,defaultWidth:"wide"}),day:hi({values:dle,defaultWidth:"wide"}),dayPeriod:hi({values:fle,defaultWidth:"wide",formattingValues:hle,defaultFormattingWidth:"wide"})};function pi(t){return(e,r={})=>{const n=r.width,s=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],a=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(a)?yle(a,h=>h.test(o)):gle(a,h=>h.test(o));let u;u=t.valueCallback?t.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=e.slice(o.length);return{value:u,rest:d}}}function gle(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function yle(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function H5(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const s=n[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const a=e.slice(s.length);return{value:o,rest:a}}}const vle=/^(\d+)(th|st|nd|rd)?/i,ble=/\d+/i,xle={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},wle={any:[/^b/i,/^(a|c)/i]},_le={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Sle={any:[/1/i,/2/i,/3/i,/4/i]},Ele={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Tle={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Cle={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},kle={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Nle={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Ile={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ple={ordinalNumber:H5({matchPattern:vle,parsePattern:ble,valueCallback:t=>parseInt(t,10)}),era:pi({matchPatterns:xle,defaultMatchWidth:"wide",parsePatterns:wle,defaultParseWidth:"any"}),quarter:pi({matchPatterns:_le,defaultMatchWidth:"wide",parsePatterns:Sle,defaultParseWidth:"any",valueCallback:t=>t+1}),month:pi({matchPatterns:Ele,defaultMatchWidth:"wide",parsePatterns:Tle,defaultParseWidth:"any"}),day:pi({matchPatterns:Cle,defaultMatchWidth:"wide",parsePatterns:kle,defaultParseWidth:"any"}),dayPeriod:pi({matchPatterns:Nle,defaultMatchWidth:"any",parsePatterns:Ile,defaultParseWidth:"any"})},Ale={code:"en-US",formatDistance:tle,formatLong:ile,formatRelative:ale,localize:mle,match:Ple,options:{weekStartsOn:0,firstWeekContainsDate:1}};function jle(t,e){const r=Qs(t,e==null?void 0:e.in);return Qae(r,Zae(r))+1}function Rle(t,e){const r=Qs(t,e==null?void 0:e.in),n=+x0(r)-+Yae(r);return Math.round(n/z5)+1}function W5(t,e){var d,h,p,m;const r=Qs(t,e==null?void 0:e.in),n=r.getFullYear(),s=Jy(),i=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(p=s.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,o=Ia((e==null?void 0:e.in)||t,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const a=Th(o,e),c=Ia((e==null?void 0:e.in)||t,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=Th(c,e);return+r>=+a?n+1:+r>=+u?n:n-1}function Dle(t,e){var a,c,u,d;const r=Jy(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=W5(t,e),i=Ia((e==null?void 0:e.in)||t,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),Th(i,e)}function Ole(t,e){const r=Qs(t,e==null?void 0:e.in),n=+Th(r,e)-+Dle(r,e);return Math.round(n/z5)+1}function ut(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const Bo={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return ut(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):ut(r+1,2)},d(t,e){return ut(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return ut(t.getHours()%12||12,e.length)},H(t,e){return ut(t.getHours(),e.length)},m(t,e){return ut(t.getMinutes(),e.length)},s(t,e){return ut(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return ut(s,e.length)}},hc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Dk={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return Bo.y(t,e)},Y:function(t,e,r,n){const s=W5(t,n),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return ut(o,2)}return e==="Yo"?r.ordinalNumber(i,{unit:"year"}):ut(i,e.length)},R:function(t,e){const r=U5(t);return ut(r,e.length)},u:function(t,e){const r=t.getFullYear();return ut(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return ut(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return ut(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Bo.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return ut(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const s=Ole(t,n);return e==="wo"?r.ordinalNumber(s,{unit:"week"}):ut(s,e.length)},I:function(t,e,r){const n=Rle(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):ut(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Bo.d(t,e)},D:function(t,e,r){const n=jle(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):ut(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const s=t.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return ut(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const s=t.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return ut(i,e.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),s=n===0?7:n;switch(e){case"i":return String(s);case"ii":return ut(s,e.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let s;switch(n===12?s=hc.noon:n===0?s=hc.midnight:s=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let s;switch(n>=17?s=hc.evening:n>=12?s=hc.afternoon:n>=4?s=hc.morning:s=hc.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Bo.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Bo.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):ut(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):ut(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Bo.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Bo.s(t,e)},S:function(t,e){return Bo.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return Mk(n);case"XXXX":case"XX":return tl(n);case"XXXXX":case"XXX":default:return tl(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return Mk(n);case"xxxx":case"xx":return tl(n);case"xxxxx":case"xxx":default:return tl(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Ok(n,":");case"OOOO":default:return"GMT"+tl(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Ok(n,":");case"zzzz":default:return"GMT"+tl(n,":")}},t:function(t,e,r){const n=Math.trunc(+t/1e3);return ut(n,e.length)},T:function(t,e,r){return ut(+t,e.length)}};function Ok(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+e+ut(i,2)}function Mk(t,e){return t%60===0?(t>0?"-":"+")+ut(Math.abs(t)/60,2):tl(t,e)}function tl(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=ut(Math.trunc(n/60),2),i=ut(n%60,2);return r+s+e+i}const Lk=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},q5=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Mle=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return Lk(t,e);let i;switch(n){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",Lk(n,e)).replace("{{time}}",q5(s,e))},Lle={p:q5,P:Mle},Fle=/^D+$/,Vle=/^Y+$/,$le=["D","DD","YY","YYYY"];function Ble(t){return Fle.test(t)}function zle(t){return Vle.test(t)}function Ule(t,e,r){const n=Hle(t,e,r);if(console.warn(n),$le.includes(t))throw new RangeError(n)}function Hle(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Wle=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,qle=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Gle=/^'([^]*?)'?$/,Kle=/''/g,Qle=/[a-zA-Z]/;function ap(t,e,r){var d,h,p,m,v,b,y,x;const n=Jy(),s=(r==null?void 0:r.locale)??n.locale??Ale,i=(r==null?void 0:r.firstWeekContainsDate)??((h=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(p=n.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((b=(v=r==null?void 0:r.locale)==null?void 0:v.options)==null?void 0:b.weekStartsOn)??n.weekStartsOn??((x=(y=n.locale)==null?void 0:y.options)==null?void 0:x.weekStartsOn)??0,a=Qs(t,r==null?void 0:r.in);if(!Jae(a))throw new RangeError("Invalid time value");let c=e.match(qle).map(g=>{const w=g[0];if(w==="p"||w==="P"){const I=Lle[w];return I(g,s.formatLong)}return g}).join("").match(Wle).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const w=g[0];if(w==="'")return{isToken:!1,value:Yle(g)};if(Dk[w])return{isToken:!0,value:g};if(w.match(Qle))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:g}});s.localize.preprocessor&&(c=s.localize.preprocessor(a,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return c.map(g=>{if(!g.isToken)return g.value;const w=g.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&zle(w)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Ble(w))&&Ule(w,e,String(t));const I=Dk[w[0]];return I(a,w,s.localize,u)}).join("")}function Yle(t){const e=t.match(Gle);return e?e[1].replace(Kle,"'"):t}const Xle={lessThanXSeconds:{one:"أقل من ثانية",two:"أقل من ثانيتين",threeToTen:"أقل من {{count}} ثواني",other:"أقل من {{count}} ثانية"},xSeconds:{one:"ثانية واحدة",two:"ثانيتان",threeToTen:"{{count}} ثواني",other:"{{count}} ثانية"},halfAMinute:"نصف دقيقة",lessThanXMinutes:{one:"أقل من دقيقة",two:"أقل من دقيقتين",threeToTen:"أقل من {{count}} دقائق",other:"أقل من {{count}} دقيقة"},xMinutes:{one:"دقيقة واحدة",two:"دقيقتان",threeToTen:"{{count}} دقائق",other:"{{count}} دقيقة"},aboutXHours:{one:"ساعة واحدة تقريباً",two:"ساعتين تقريبا",threeToTen:"{{count}} ساعات تقريباً",other:"{{count}} ساعة تقريباً"},xHours:{one:"ساعة واحدة",two:"ساعتان",threeToTen:"{{count}} ساعات",other:"{{count}} ساعة"},xDays:{one:"يوم واحد",two:"يومان",threeToTen:"{{count}} أيام",other:"{{count}} يوم"},aboutXWeeks:{one:"أسبوع واحد تقريبا",two:"أسبوعين تقريبا",threeToTen:"{{count}} أسابيع تقريبا",other:"{{count}} أسبوعا تقريبا"},xWeeks:{one:"أسبوع واحد",two:"أسبوعان",threeToTen:"{{count}} أسابيع",other:"{{count}} أسبوعا"},aboutXMonths:{one:"شهر واحد تقريباً",two:"شهرين تقريبا",threeToTen:"{{count}} أشهر تقريبا",other:"{{count}} شهرا تقريباً"},xMonths:{one:"شهر واحد",two:"شهران",threeToTen:"{{count}} أشهر",other:"{{count}} شهرا"},aboutXYears:{one:"سنة واحدة تقريباً",two:"سنتين تقريبا",threeToTen:"{{count}} سنوات تقريباً",other:"{{count}} سنة تقريباً"},xYears:{one:"سنة واحد",two:"سنتان",threeToTen:"{{count}} سنوات",other:"{{count}} سنة"},overXYears:{one:"أكثر من سنة",two:"أكثر من سنتين",threeToTen:"أكثر من {{count}} سنوات",other:"أكثر من {{count}} سنة"},almostXYears:{one:"ما يقارب سنة واحدة",two:"ما يقارب سنتين",threeToTen:"ما يقارب {{count}} سنوات",other:"ما يقارب {{count}} سنة"}},Jle=(t,e,r)=>{const n=Xle[t];let s;return typeof n=="string"?s=n:e===1?s=n.one:e===2?s=n.two:e<=10?s=n.threeToTen.replace("{{count}}",String(e)):s=n.other.replace("{{count}}",String(e)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"خلال "+s:"منذ "+s:s},Zle={full:"EEEE، do MMMM y",long:"do MMMM y",medium:"d MMM y",short:"dd/MM/yyyy"},ece={full:"HH:mm:ss",long:"HH:mm:ss",medium:"HH:mm:ss",short:"HH:mm"},tce={full:"{{date}} 'عند الساعة' {{time}}",long:"{{date}} 'عند الساعة' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},rce={date:lu({formats:Zle,defaultWidth:"full"}),time:lu({formats:ece,defaultWidth:"full"}),dateTime:lu({formats:tce,defaultWidth:"full"})},nce={lastWeek:"eeee 'الماضي عند الساعة' p",yesterday:"'الأمس عند الساعة' p",today:"'اليوم عند الساعة' p",tomorrow:"'غدا عند الساعة' p",nextWeek:"eeee 'القادم عند الساعة' p",other:"P"},sce=t=>nce[t],ice={narrow:["ق","ب"],abbreviated:["ق.م.","ب.م."],wide:["قبل الميلاد","بعد الميلاد"]},oce={narrow:["1","2","3","4"],abbreviated:["ر1","ر2","ر3","ر4"],wide:["الربع الأول","الربع الثاني","الربع الثالث","الربع الرابع"]},ace={narrow:["ي","ف","م","أ","م","ي","ي","أ","س","أ","ن","د"],abbreviated:["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"],wide:["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"]},lce={narrow:["ح","ن","ث","ر","خ","ج","س"],short:["أحد","اثنين","ثلاثاء","أربعاء","خميس","جمعة","سبت"],abbreviated:["أحد","اثنين","ثلاثاء","أربعاء","خميس","جمعة","سبت"],wide:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"]},cce={narrow:{am:"ص",pm:"م",morning:"الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"المساء",night:"الليل",midnight:"منتصف الليل"},abbreviated:{am:"ص",pm:"م",morning:"الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"المساء",night:"الليل",midnight:"منتصف الليل"},wide:{am:"ص",pm:"م",morning:"الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"المساء",night:"الليل",midnight:"منتصف الليل"}},uce={narrow:{am:"ص",pm:"م",morning:"في الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"في المساء",night:"في الليل",midnight:"منتصف الليل"},abbreviated:{am:"ص",pm:"م",morning:"في الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"في المساء",night:"في الليل",midnight:"منتصف الليل"},wide:{am:"ص",pm:"م",morning:"في الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"في المساء",night:"في الليل",midnight:"منتصف الليل"}},dce=t=>String(t),fce={ordinalNumber:dce,era:hi({values:ice,defaultWidth:"wide"}),quarter:hi({values:oce,defaultWidth:"wide",argumentCallback:t=>t-1}),month:hi({values:ace,defaultWidth:"wide"}),day:hi({values:lce,defaultWidth:"wide"}),dayPeriod:hi({values:cce,defaultWidth:"wide",formattingValues:uce,defaultFormattingWidth:"wide"})},hce=/^(\d+)(th|st|nd|rd)?/i,pce=/\d+/i,mce={narrow:/[قب]/,abbreviated:/[قب]\.م\./,wide:/(قبل|بعد) الميلاد/},gce={any:[/قبل/,/بعد/]},yce={narrow:/^[1234]/i,abbreviated:/ر[1234]/,wide:/الربع (الأول|الثاني|الثالث|الرابع)/},vce={any:[/1/i,/2/i,/3/i,/4/i]},bce={narrow:/^[أيفمسند]/,abbreviated:/^(يناير|فبراير|مارس|أبريل|مايو|يونيو|يوليو|أغسطس|سبتمبر|أكتوبر|نوفمبر|ديسمبر)/,wide:/^(يناير|فبراير|مارس|أبريل|مايو|يونيو|يوليو|أغسطس|سبتمبر|أكتوبر|نوفمبر|ديسمبر)/},xce={narrow:[/^ي/i,/^ف/i,/^م/i,/^أ/i,/^م/i,/^ي/i,/^ي/i,/^أ/i,/^س/i,/^أ/i,/^ن/i,/^د/i],any:[/^يناير/i,/^فبراير/i,/^مارس/i,/^أبريل/i,/^مايو/i,/^يونيو/i,/^يوليو/i,/^أغسطس/i,/^سبتمبر/i,/^أكتوبر/i,/^نوفمبر/i,/^ديسمبر/i]},wce={narrow:/^[حنثرخجس]/i,short:/^(أحد|اثنين|ثلاثاء|أربعاء|خميس|جمعة|سبت)/i,abbreviated:/^(أحد|اثنين|ثلاثاء|أربعاء|خميس|جمعة|سبت)/i,wide:/^(الأحد|الاثنين|الثلاثاء|الأربعاء|الخميس|الجمعة|السبت)/i},_ce={narrow:[/^ح/i,/^ن/i,/^ث/i,/^ر/i,/^خ/i,/^ج/i,/^س/i],wide:[/^الأحد/i,/^الاثنين/i,/^الثلاثاء/i,/^الأربعاء/i,/^الخميس/i,/^الجمعة/i,/^السبت/i],any:[/^أح/i,/^اث/i,/^ث/i,/^أر/i,/^خ/i,/^ج/i,/^س/i]},Sce={narrow:/^(ص|م|منتصف الليل|الظهر|بعد الظهر|في الصباح|في المساء|في الليل)/,any:/^(ص|م|منتصف الليل|الظهر|بعد الظهر|في الصباح|في المساء|في الليل)/},Ece={any:{am:/^ص/,pm:/^م/,midnight:/منتصف الليل/,noon:/الظهر/,afternoon:/بعد الظهر/,morning:/في الصباح/,evening:/في المساء/,night:/في الليل/}},Tce={ordinalNumber:H5({matchPattern:hce,parsePattern:pce,valueCallback:t=>parseInt(t,10)}),era:pi({matchPatterns:mce,defaultMatchWidth:"wide",parsePatterns:gce,defaultParseWidth:"any"}),quarter:pi({matchPatterns:yce,defaultMatchWidth:"wide",parsePatterns:vce,defaultParseWidth:"any",valueCallback:t=>t+1}),month:pi({matchPatterns:bce,defaultMatchWidth:"wide",parsePatterns:xce,defaultParseWidth:"any"}),day:pi({matchPatterns:wce,defaultMatchWidth:"wide",parsePatterns:_ce,defaultParseWidth:"any"}),dayPeriod:pi({matchPatterns:Sce,defaultMatchWidth:"any",parsePatterns:Ece,defaultParseWidth:"any"})},lp={code:"ar",formatDistance:Jle,formatLong:rce,formatRelative:sce,localize:fce,match:Tce,options:{weekStartsOn:6,firstWeekContainsDate:1}};function G5(){const[t,e]=T.useState([]),[r,n]=T.useState([]),[s,i]=T.useState(!0),[o,a]=T.useState({customerName:"",startDate:"",endDate:"",paymentMethod:"",minAmount:"",maxAmount:"",sortBy:"date",sortOrder:"desc"}),[c,u]=T.useState(!1);T.useEffect(()=>{(async()=>{i(!0);try{const x=Zt($e,"flightBookings"),g=xr(x,ts("createdAt","desc")),I=(await Io(g)).docs.map(P=>{var A;return{id:P.id,...P.data(),createdAt:(A=P.data().createdAt)==null?void 0:A.toDate()}});console.log("Fetched bookings:",I),e(I),n(I),q.success(`تم جلب ${I.length} حجز`)}catch(x){console.error("Error fetching bookings:",x),q.error("حدث خطأ أثناء جلب الحجوزات")}finally{i(!1)}})()},[]);const d=y=>{const{name:x,value:g}=y.target;a(w=>({...w,[x]:g}))},h=()=>{a({customerName:"",startDate:"",endDate:"",paymentMethod:"",minAmount:"",maxAmount:"",sortBy:"date",sortOrder:"desc"}),n(t)},p=()=>{u(!0);let y=[...t];try{if(o.customerName){const g=o.customerName.toLowerCase().trim();y=y.filter(w=>{var I;return(I=w.customerName)==null?void 0:I.toLowerCase().includes(g)})}if(o.startDate){const g=new Date(o.startDate);g.setHours(0,0,0,0),y=y.filter(w=>w.createdAt>=g)}if(o.endDate){const g=new Date(o.endDate);g.setHours(23,59,59,999),y=y.filter(w=>w.createdAt<=g)}o.paymentMethod&&(y=y.filter(g=>{var w;return((w=g.payment)==null?void 0:w.paymentMethod)===o.paymentMethod})),o.minAmount&&(y=y.filter(g=>{var w;return parseFloat(((w=g.payment)==null?void 0:w.price)||0)>=parseFloat(o.minAmount)})),o.maxAmount&&(y=y.filter(g=>{var w;return parseFloat(((w=g.payment)==null?void 0:w.price)||0)<=parseFloat(o.maxAmount)})),y.sort((g,w)=>{var I,P;if(o.sortBy==="date")return o.sortOrder==="desc"?(w.createdAt||0)-(g.createdAt||0):(g.createdAt||0)-(w.createdAt||0);if(o.sortBy==="amount"){const A=parseFloat(((I=g.payment)==null?void 0:I.price)||0),S=parseFloat(((P=w.payment)==null?void 0:P.price)||0);return o.sortOrder==="desc"?S-A:A-S}return 0}),n(y);const x=y.length;q.info(`تم العثور على ${x} حجز${x!==1?"وزات":""}`)}catch(x){console.error("Error applying filters:",x),q.error("حدث خطأ أثناء تطبيق الفلاتر")}finally{u(!1)}};T.useEffect(()=>{const y=setTimeout(()=>{t.length>0&&p()},500);return()=>clearTimeout(y)},[o,t]);const m=y=>{if(!y)return"";try{return ap(new Date(y),"dd/MM/yyyy",{locale:lp})}catch(x){return console.error("Error formatting date:",x),""}},v=()=>r.reduce((y,x)=>{var g;return y+parseFloat(((g=x.payment)==null?void 0:g.price)||0)},0).toFixed(3),b=()=>new Set(r.map(y=>y.customerName)).size;return l.jsx("div",{className:"min-h-screen bg-gray-100",children:l.jsxs("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:[l.jsx(On,{title:"سجل حجوزات تذاكر الطيران"}),l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsxs("h2",{className:"text-xl font-semibold flex items-center text-gray-800",children:[l.jsx(Pi,{className:"ml-2 text-blue-500"}),"فلترة الحجوزات"]}),l.jsxs("button",{onClick:h,className:"flex items-center px-4 py-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors duration-200",children:[l.jsx(Gs,{className:"ml-2"}),l.jsx("span",{children:"مسح الفلاتر"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-600 mb-2 text-sm",children:"اسم العميل"}),l.jsxs("div",{className:"relative",children:[l.jsx(vs,{className:"absolute top-3 right-3 text-gray-400"}),l.jsx("input",{type:"text",name:"customerName",value:o.customerName,onChange:d,className:"w-full p-2 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"ابحث باسم العميل..."})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-600 mb-2 text-sm",children:"من تاريخ"}),l.jsxs("div",{className:"relative",children:[l.jsx(mk,{className:"absolute top-3 right-3 text-gray-400"}),l.jsx(Ft,{name:"startDate",value:o.startDate,onChange:d,className:"w-full p-2 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-600 mb-2 text-sm",children:"إلى تاريخ"}),l.jsxs("div",{className:"relative",children:[l.jsx(mk,{className:"absolute top-3 right-3 text-gray-400"}),l.jsx(Ft,{name:"endDate",value:o.endDate,onChange:d,className:"w-full p-2 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-600 mb-2 text-sm",children:"طريقة الدفع"}),l.jsxs("div",{className:"relative",children:[l.jsx(Ii,{className:"absolute top-3 right-3 text-gray-400"}),l.jsxs("select",{name:"paymentMethod",value:o.paymentMethod,onChange:d,className:"w-full p-2 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm appearance-none",children:[l.jsx("option",{value:"",children:"الكل"}),l.jsx("option",{value:"cash",children:"نقداً"}),l.jsx("option",{value:"knet",children:"كي نت"}),l.jsx("option",{value:"visa",children:"فيزا"}),l.jsx("option",{value:"mastercard",children:"ماستر كارد"}),l.jsx("option",{value:"tabby",children:"تابي"}),l.jsx("option",{value:"deferred",children:"آجل"}),l.jsx("option",{value:"installments",children:"دفعات"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-600 mb-2 text-sm",children:"الحد الأدنى للمبلغ"}),l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"absolute top-3 right-3 text-gray-400 text-sm",children:"د.ك"}),l.jsx("input",{type:"number",name:"minAmount",value:o.minAmount,onChange:d,className:"w-full p-2 pr-12 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"0.000",step:"0.001"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-600 mb-2 text-sm",children:"الحد الأقصى للمبلغ"}),l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"absolute top-3 right-3 text-gray-400 text-sm",children:"د.ك"}),l.jsx("input",{type:"number",name:"maxAmount",value:o.maxAmount,onChange:d,className:"w-full p-2 pr-12 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"0.000",step:"0.001"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-600 mb-2 text-sm",children:"ترتيب حسب"}),l.jsxs("div",{className:"relative",children:[l.jsx(Fie,{className:"absolute top-3 right-3 text-gray-400"}),l.jsxs("select",{name:"sortBy",value:o.sortBy,onChange:d,className:"w-full p-2 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm appearance-none",children:[l.jsx("option",{value:"date",children:"التاريخ"}),l.jsx("option",{value:"amount",children:"المبلغ"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-600 mb-2 text-sm",children:"اتجاه الترتيب"}),l.jsxs("div",{className:"relative",children:[o.sortOrder==="desc"?l.jsx(Mie,{className:"absolute top-3 right-3 text-gray-400"}):l.jsx(Lie,{className:"absolute top-3 right-3 text-gray-400"}),l.jsxs("select",{name:"sortOrder",value:o.sortOrder,onChange:d,className:"w-full p-2 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm appearance-none",children:[l.jsx("option",{value:"desc",children:"تنازلي"}),l.jsx("option",{value:"asc",children:"تصاعدي"})]})]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[l.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg shadow-md p-6 text-white",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-white text-opacity-90 text-sm",children:"إجمالي الحجوزات"}),l.jsx("h3",{className:"text-2xl font-bold mt-1",children:r.length})]}),l.jsx("div",{className:"bg-white bg-opacity-20 rounded-full p-3",children:l.jsx(g0,{className:"text-2xl"})})]})}),l.jsx("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-lg shadow-md p-6 text-white",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-white text-opacity-90 text-sm",children:"إجمالي المبالغ"}),l.jsxs("h3",{className:"text-2xl font-bold mt-1",children:[v()," د.ك"]})]}),l.jsx("div",{className:"bg-white bg-opacity-20 rounded-full p-3",children:l.jsx(Ii,{className:"text-2xl"})})]})}),l.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg shadow-md p-6 text-white",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-white text-opacity-90 text-sm",children:"عدد العملاء"}),l.jsx("h3",{className:"text-2xl font-bold mt-1",children:b()})]}),l.jsx("div",{className:"bg-white bg-opacity-20 rounded-full p-3",children:l.jsx(vs,{className:"text-2xl"})})]})})]}),l.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:l.jsxs("div",{className:"p-6",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:"قائمة الحجوزات"}),s||c?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"جاري تحميل البيانات..."})]}):r.length===0?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"bg-gray-100 rounded-full p-4 w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:l.jsx(Pi,{className:"text-2xl text-gray-400"})}),l.jsx("p",{className:"text-gray-600",children:"لا توجد حجوزات متطابقة مع معايير البحث"})]}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"رقم الإيصال"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"اسم العميل"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"تاريخ الحجز"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"عدد الرحلات"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"المبلغ"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"طريقة الدفع"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الموظف"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"خيارات"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(y=>{var x,g,w,I,P,A,S,E,C,k;return l.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:((x=y.payment)==null?void 0:x.receiptNumber)||"-"}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:y.customerName}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:m(y.createdAt)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:((g=y.flights)==null?void 0:g.length)||0}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-green-600",children:[parseFloat(((w=y.payment)==null?void 0:w.price)||0).toFixed(3)," د.ك"]}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[((I=y.payment)==null?void 0:I.paymentMethod)==="cash"&&"نقداً",((P=y.payment)==null?void 0:P.paymentMethod)==="knet"&&"كي نت",((A=y.payment)==null?void 0:A.paymentMethod)==="visa"&&"فيزا",((S=y.payment)==null?void 0:S.paymentMethod)==="mastercard"&&"ماستر كارد",((E=y.payment)==null?void 0:E.paymentMethod)==="tabby"&&"تابي",((C=y.payment)==null?void 0:C.paymentMethod)==="deferred"&&"آجل",((k=y.payment)==null?void 0:k.paymentMethod)==="installments"&&"دفعات"]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:y.employeeName||"-"}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:l.jsx("button",{onClick:()=>{},className:"text-blue-600 hover:text-blue-800 transition-colors duration-150",title:"طباعة الإيصال",children:l.jsx(Nie,{className:"text-lg"})})})]},y.id)})})]})})]})})]})})}const Cce=["ملتي","صفا","الفرسان","الرواد","السفير","آخر"];function kce({hotel:t,onSave:e,onClose:r}){const[n,s]=T.useState({bookingNumber:"",bookingDate:dn(),hotelName:"",checkIn:"",checkOut:"",nights:0,agent:"",customAgent:"",roomType:"standard",roomCount:1,adultsCount:1,childrenCount:0,notes:"",cost:"",price:""});T.useEffect(()=>{if(n.checkIn&&n.checkOut){const a=new Date(n.checkIn.split("/").reverse().join("-")),c=new Date(n.checkOut.split("/").reverse().join("-")),u=Math.abs(c-a),d=Math.ceil(u/(1e3*60*60*24));s(h=>({...h,nights:d}))}},[n.checkIn,n.checkOut]),T.useEffect(()=>{if(n.nights&&n.pricePerNight){const a=parseFloat(n.pricePerNight)*parseInt(n.nights);s(c=>({...c,price:a.toFixed(3),cost:(a*.8).toFixed(3)}))}},[n.nights,n.pricePerNight]),T.useEffect(()=>{t&&s({bookingNumber:t.bookingNumber||"",bookingDate:t.bookingDate||dn(),hotelName:t.hotelName||"",checkIn:t.checkIn||"",checkOut:t.checkOut||"",nights:t.nights||0,agent:t.agent||"",customAgent:t.customAgent||"",roomType:t.roomType||"standard",roomCount:t.roomCount||1,adultsCount:t.adultsCount||1,childrenCount:t.childrenCount||0,notes:t.notes||"",cost:t.cost||"",price:t.price||""})},[t]);const i=a=>{a.preventDefault(),e(n)},o=a=>{const{name:c,value:u}=a.target;s(d=>({...d,[c]:u}))};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[l.jsx(Du,{className:"text-blue-500"}),t?"تعديل حجز فندق":"إضافة حجز فندق جديد"]}),l.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-700",children:l.jsx(Gs,{size:24})})]}),l.jsxs("form",{onSubmit:i,className:"space-y-6",dir:"rtl",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"رقم الحجز*"}),l.jsx("input",{type:"text",name:"bookingNumber",value:n.bookingNumber,onChange:o,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),l.jsx(Ft,{name:"bookingDate",value:n.bookingDate,onChange:o,label:"تاريخ الحجز",required:!0,icon:l.jsx(ys,{className:"text-gray-400"})})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-gray-700 mb-2 flex items-center gap-2",children:[l.jsx(Du,{className:"text-blue-500"}),"اسم الفندق/المنتجع*"]}),l.jsx("input",{type:"text",name:"hotelName",value:n.hotelName,onChange:o,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[l.jsx(Ft,{name:"checkIn",value:n.checkIn,onChange:o,label:"تاريخ الدخول*",required:!0,icon:l.jsx(ys,{className:"text-green-500"})}),l.jsx(Ft,{name:"checkOut",value:n.checkOut,onChange:o,label:"تاريخ الخروج*",required:!0,icon:l.jsx(ys,{className:"text-red-500"})}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"عدد الليالي"}),l.jsx("input",{type:"number",value:n.nights,readOnly:!0,className:"w-full p-3 border border-gray-300 rounded-lg bg-gray-100"})]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-gray-700 mb-2 flex items-center gap-2",children:[l.jsx(wie,{className:"text-purple-500"}),"نوع الغرفة*"]}),l.jsxs("select",{name:"roomType",value:n.roomType,onChange:o,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[l.jsx("option",{value:"standard",children:"غرفة عادية"}),l.jsx("option",{value:"deluxe",children:"غرفة ديلوكس"}),l.jsx("option",{value:"suite",children:"جناح"}),l.jsx("option",{value:"family",children:"غرفة عائلية"}),l.jsx("option",{value:"villa",children:"فيلا"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"عدد الغرف*"}),l.jsx("input",{type:"number",name:"roomCount",value:n.roomCount,onChange:o,min:"1",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-gray-700 mb-2 flex items-center gap-2",children:[l.jsx(J2,{className:"text-orange-500"}),"عدد النزلاء*"]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsx("input",{type:"number",name:"adultsCount",value:n.adultsCount,onChange:o,min:"1",placeholder:"البالغين",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),l.jsx("input",{type:"number",name:"childrenCount",value:n.childrenCount,onChange:o,min:"0",placeholder:"الأطفال",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"سعر الليلة (د.ك)*"}),l.jsx("input",{type:"number",name:"pricePerNight",value:n.pricePerNight,onChange:o,step:"0.001",min:"0",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"سعر التكلفة (د.ك)*"}),l.jsx("input",{type:"number",name:"cost",value:n.cost,onChange:o,step:"0.001",min:"0",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"سعر البيع (د.ك)*"}),l.jsx("input",{type:"number",name:"price",value:n.price,onChange:o,step:"0.001",min:"0",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"وكيل الحجز*"}),l.jsxs("select",{name:"agent",value:n.agent,onChange:o,className:`w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${n.customAgent?"bg-gray-100":""}`,disabled:!!n.customAgent,required:!n.customAgent,children:[l.jsx("option",{value:"",children:"اختر وكيل الحجز"}),Cce.map(a=>l.jsx("option",{value:a,children:a},a))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"وكيل حجز آخر"}),l.jsx("input",{type:"text",name:"customAgent",value:n.customAgent,onChange:o,placeholder:"أدخل اسم وكيل الحجز",className:`w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${n.agent?"bg-gray-100":""}`,disabled:!!n.agent})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"ملاحظات"}),l.jsx("textarea",{name:"notes",value:n.notes,onChange:o,rows:"3",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"أي ملاحظات إضافية..."})]}),l.jsxs("div",{className:"flex justify-end gap-4",children:[l.jsx("button",{type:"button",onClick:r,className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"إلغاء"}),l.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:t?"حفظ التعديلات":"حفظ"})]})]})]})})}const Fk=[{id:1,bookingNumber:"HB001",customerName:"أحمد محمد",hotelName:"فندق المكة الريتز كارلتون",checkIn:"2025-03-20",checkOut:"2025-03-25",roomType:"غرفة ديلوكس",guests:2,status:"مؤكد"},{id:2,bookingNumber:"HB002",customerName:"سارة عبدالله",hotelName:"فندق المدينة هيلتون",checkIn:"2025-04-01",checkOut:"2025-04-05",roomType:"جناح عائلي",guests:4,status:"مؤكد"}],Nce=async t=>{try{await new Promise(s=>setTimeout(s,500));const r=["customerName","hotelName","checkIn","checkOut","roomType","guests"].filter(s=>!t[s]);if(r.length>0)throw new Error(`الحقول التالية مطلوبة: ${r.join(", ")}`);return{success:!0,data:{id:Fk.length+1,bookingNumber:`HB${String(Fk.length+1).padStart(3,"0")}`,status:"مؤكد",...t},message:"تم إضافة الحجز بنجاح"}}catch(e){return console.error("خطأ في إضافة الحجز:",e),{success:!1,error:e.message||"حدث خطأ أثناء إضافة الحجز"}}};function Ice(){const t=Es(),{user:e,hasPermission:r}=mn(),[n,s]=T.useState(null),[i,o]=T.useState(!1),[a,c]=T.useState([]),[u,d]=T.useState(null),[h,p]=T.useState(!1),[m,v]=T.useState({receiptCode:"",receiptNumber:"",cost:"",price:"",paymentMethod:"knet",paymentDate:dn(),deferredPaymentDate:dn(),firstInstallment:"",secondInstallment:"",thirdInstallment:"",notes:""});T.useEffect(()=>{(async()=>{try{const C=await au.getNextReceiptCode();v(k=>({...k,receiptCode:C}))}catch(C){console.error("خطأ في جلب رقم الإيصال التلقائي:",C),q.error("خطأ في جلب رقم الإيصال التلقائي")}})()},[]);const b=E=>{const{name:C,value:k}=E.target;v(j=>({...j,[C]:k}))},y=(E,C)=>{v(k=>({...k,[E]:C}))},x=E=>{u?(c(a.map(C=>C.id===u?{...E,id:u}:C)),d(null),q.success("تم تحديث حجز الفندق بنجاح")):(c([...a,{...E,id:Date.now()}]),q.success("تم إضافة حجز الفندق بنجاح")),o(!1)},g=E=>{d(E.id),o(!0)},w=E=>{window.confirm("هل أنت متأكد من حذف هذا الحجز؟")&&(c(a.filter(C=>C.id!==E)),q.success("تم حذف حجز الفندق بنجاح"))},I=()=>{if(!n)return q.error("يجب اختيار عميل قبل حفظ الحجز"),!1;if(a.length===0)return q.error("يجب إضافة حجز فندق واحد على الأقل قبل الحفظ"),!1;if(!m.receiptNumber)return q.error("يجب إدخال رقم الإيصال"),!1;if(m.paymentMethod==="deferred"&&!m.deferredPaymentDate)return q.error("يجب إدخال تاريخ الدفع الآجل"),!1;if(m.paymentMethod==="installments"){if(!m.firstInstallment||!m.secondInstallment||!m.thirdInstallment)return q.error("يجب إدخال مبالغ جميع الدفعات"),!1;const E=a.reduce((k,j)=>k+parseFloat(j.price||0),0),C=parseFloat(m.firstInstallment||0)+parseFloat(m.secondInstallment||0)+parseFloat(m.thirdInstallment||0);if(Math.abs(E-C)>.001)return q.error("مجموع الدفعات يجب أن يساوي إجمالي سعر البيع"),!1}return!0},P=async()=>{if(I()){p(!0);try{for(const E of a)await Nce({customerCode:n.code,customerName:n.name,customerId:n.id,employeeId:e.id,employeeName:e.name,...E,...m,bookingDate:dn()});q.success("تم حفظ الحجز بنجاح"),t("/menu")}catch(E){console.error("Error saving booking:",E),q.error("حدث خطأ أثناء حفظ الحجز")}finally{p(!1)}}},A=()=>a.reduce((E,C)=>E+parseFloat(C.price||0),0).toFixed(3),S=()=>{switch(m.paymentMethod){case"deferred":return l.jsxs("div",{className:"mt-4",children:[l.jsx("label",{className:"block text-gray-600 mb-2",children:"تاريخ الدفع الآجل*"}),l.jsx(Ft,{value:m.deferredPaymentDate,onChange:C=>y("deferredPaymentDate",C),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]});case"installments":const E=A();return l.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-600 mb-2",children:"الدفعة الأولى (د.ك)*"}),l.jsx("input",{type:"number",name:"firstInstallment",value:m.firstInstallment,onChange:b,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",step:"0.001",min:"0"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-600 mb-2",children:"الدفعة الثانية (د.ك)*"}),l.jsx("input",{type:"number",name:"secondInstallment",value:m.secondInstallment,onChange:b,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",step:"0.001",min:"0"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-600 mb-2",children:"الدفعة الثالثة (د.ك)*"}),l.jsx("input",{type:"number",name:"thirdInstallment",value:m.thirdInstallment,onChange:b,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",step:"0.001",min:"0"})]}),l.jsx("div",{className:"md:col-span-3",children:l.jsxs("p",{className:"text-sm text-gray-600",children:["إجمالي الدفعات: ",(parseFloat(m.firstInstallment||0)+parseFloat(m.secondInstallment||0)+parseFloat(m.thirdInstallment||0)).toFixed(3)," د.ك"," | ","المبلغ الإجمالي: ",E," د.ك"]})})]});default:return null}};return l.jsxs("div",{className:"min-h-screen bg-gray-100",children:[l.jsx(On,{title:"حجوزات الفنادق"}),l.jsx("main",{className:"py-6",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"بيانات الحجز"}),l.jsxs("button",{onClick:()=>{if(!n){q.error("يجب اختيار عميل أولاً");return}d(null),o(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",disabled:!n,children:[l.jsx(Ql,{className:"inline-block ml-2"}),"إضافة حجز فندق"]})]}),l.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:l.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[l.jsx(sp,{onSelect:s,selectedCustomer:n}),l.jsxs("div",{className:"mb-8",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"الفنادق المحجوزة"}),a.length>0?l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-right",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-4 border-b",children:"اسم الفندق"}),l.jsx("th",{className:"p-4 border-b",children:"المدينة"}),l.jsx("th",{className:"p-4 border-b",children:"نوع الغرفة"}),l.jsx("th",{className:"p-4 border-b",children:"تاريخ الدخول"}),l.jsx("th",{className:"p-4 border-b",children:"تاريخ الخروج"}),l.jsx("th",{className:"p-4 border-b",children:"عدد الليالي"}),l.jsx("th",{className:"p-4 border-b",children:"السعر لليلة"}),l.jsx("th",{className:"p-4 border-b",children:"سعر التكلفة"}),l.jsx("th",{className:"p-4 border-b",children:"سعر البيع"}),l.jsx("th",{className:"p-4 border-b",children:"الإجراءات"})]})}),l.jsx("tbody",{children:a.map(E=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"p-4 border-b",children:E.hotelName}),l.jsx("td",{className:"p-4 border-b",children:E.city}),l.jsx("td",{className:"p-4 border-b",children:E.roomType}),l.jsx("td",{className:"p-4 border-b",children:E.checkIn}),l.jsx("td",{className:"p-4 border-b",children:E.checkOut}),l.jsx("td",{className:"p-4 border-b",children:E.numberOfNights}),l.jsxs("td",{className:"p-4 border-b",children:[E.pricePerNight," د.ك"]}),l.jsxs("td",{className:"p-4 border-b",children:[E.cost," د.ك"]}),l.jsxs("td",{className:"p-4 border-b",children:[E.price," د.ك"]}),l.jsx("td",{className:"p-4 border-b",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>g(E),className:"text-blue-600 hover:text-blue-800",children:l.jsx(Va,{className:"h-5 w-5"})}),l.jsx("button",{onClick:()=>w(E.id),className:"text-red-600 hover:text-red-800",children:l.jsx(Po,{className:"h-5 w-5"})})]})})]},E.id))}),l.jsx("tfoot",{className:"bg-gray-50 font-semibold",children:l.jsxs("tr",{children:[l.jsx("td",{colSpan:"7",className:"p-4 border-b text-left",children:"المجموع:"}),l.jsxs("td",{className:"p-4 border-b",children:[a.reduce((E,C)=>E+parseFloat(C.cost||0),0).toFixed(3)," د.ك"]}),l.jsxs("td",{className:"p-4 border-b",children:[a.reduce((E,C)=>E+parseFloat(C.price||0),0).toFixed(3)," د.ك"]}),l.jsx("td",{className:"p-4 border-b"})]})})]})}):l.jsx("div",{className:"text-center py-8 text-gray-500 bg-gray-50 rounded-lg",children:"لا توجد فنادق محجوزة"})]}),l.jsxs("div",{className:"mb-8 bg-gray-50 p-6 rounded-lg",children:[l.jsx("h2",{className:"text-lg font-semibold mb-6",children:"بيانات الدفع"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-600 mb-2",children:"الرقم الكودي للإيصال"}),l.jsx("input",{type:"text",value:m.receiptCode,className:"w-full p-3 border border-gray-300 rounded-lg bg-gray-100",readOnly:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-600 mb-2",children:"رقم الإيصال*"}),l.jsx("input",{type:"text",name:"receiptNumber",value:m.receiptNumber,onChange:b,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-600 mb-2",children:"إجمالي سعر التكلفة (د.ك)"}),l.jsx("input",{type:"number",name:"cost",value:a.reduce((E,C)=>E+parseFloat(C.cost||0),0).toFixed(3),className:"w-full p-3 border border-gray-300 rounded-lg bg-gray-100",readOnly:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-600 mb-2",children:"إجمالي سعر البيع (د.ك)"}),l.jsx("input",{type:"number",name:"price",value:a.reduce((E,C)=>E+parseFloat(C.price||0),0).toFixed(3),className:"w-full p-3 border border-gray-300 rounded-lg bg-gray-100",readOnly:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-600 mb-2",children:"طريقة الدفع*"}),l.jsxs("select",{name:"paymentMethod",value:m.paymentMethod,onChange:b,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[l.jsx("option",{value:"cash",children:"نقداً"}),l.jsx("option",{value:"knet",children:"كي نت"}),l.jsx("option",{value:"visa",children:"فيزا"}),l.jsx("option",{value:"mastercard",children:"ماستر كارد"}),l.jsx("option",{value:"tabby",children:"تابي"}),l.jsx("option",{value:"deferred",children:"آجل"}),l.jsx("option",{value:"installments",children:"دفعات"})]})]})]}),S(),l.jsxs("div",{className:"mb-6 mt-6",children:[l.jsx("label",{className:"block text-gray-600 mb-2",children:"ملاحظات"}),l.jsx("textarea",{name:"notes",value:m.notes,onChange:b,rows:"3",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{onClick:P,disabled:h||!n||a.length===0,className:"bg-green-500 text-white px-6 py-2 rounded-md hover:bg-green-600 transition duration-200 flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:h?"جاري الحفظ...":"حفظ الحجز"})})]})]})})]})}),i&&l.jsx(kce,{onSave:x,onClose:()=>{o(!1),d(null)},editingHotel:u?a.find(E=>E.id===u):null})]})}function K5(){const[t,e]=T.useState([]),[r,n]=T.useState([]),[s,i]=T.useState(!0),[o,a]=T.useState({customerName:"",startDate:"",endDate:"",paymentMethod:"",minAmount:"",maxAmount:"",sortBy:"date",sortOrder:"desc"}),[c,u]=T.useState(!1);T.useEffect(()=>{(async()=>{i(!0);try{const x=Zt($e,"hotelBookings"),g=xr(x,ts("createdAt","desc")),I=(await Io(g)).docs.map(P=>{var A;return{id:P.id,...P.data(),createdAt:(A=P.data().createdAt)==null?void 0:A.toDate()}});e(I),n(I),q.success(`تم جلب ${I.length} حجز`)}catch(x){console.error("Error fetching bookings:",x),q.error("حدث خطأ أثناء جلب الحجوزات")}finally{i(!1)}})()},[]);const d=y=>{const{name:x,value:g}=y.target;a(w=>({...w,[x]:g}))},h=()=>{a({customerName:"",startDate:"",endDate:"",paymentMethod:"",minAmount:"",maxAmount:"",sortBy:"date",sortOrder:"desc"}),n(t)},p=()=>{u(!0);let y=[...t];try{if(o.customerName){const g=o.customerName.toLowerCase().trim();y=y.filter(w=>{var I;return(I=w.customerName)==null?void 0:I.toLowerCase().includes(g)})}if(o.startDate){const g=new Date(o.startDate);g.setHours(0,0,0,0),y=y.filter(w=>w.createdAt>=g)}if(o.endDate){const g=new Date(o.endDate);g.setHours(23,59,59,999),y=y.filter(w=>w.createdAt<=g)}o.paymentMethod&&(y=y.filter(g=>{var w;return((w=g.payment)==null?void 0:w.paymentMethod)===o.paymentMethod})),o.minAmount&&(y=y.filter(g=>{var w;return parseFloat(((w=g.payment)==null?void 0:w.price)||0)>=parseFloat(o.minAmount)})),o.maxAmount&&(y=y.filter(g=>{var w;return parseFloat(((w=g.payment)==null?void 0:w.price)||0)<=parseFloat(o.maxAmount)})),y.sort((g,w)=>{var I,P;if(o.sortBy==="date")return o.sortOrder==="desc"?(w.createdAt||0)-(g.createdAt||0):(g.createdAt||0)-(w.createdAt||0);if(o.sortBy==="amount"){const A=parseFloat(((I=g.payment)==null?void 0:I.price)||0),S=parseFloat(((P=w.payment)==null?void 0:P.price)||0);return o.sortOrder==="desc"?S-A:A-S}return 0}),n(y);const x=y.length;q.info(`تم العثور على ${x} حجز${x!==1?"وزات":""}`)}catch(x){console.error("Error applying filters:",x),q.error("حدث خطأ أثناء تطبيق الفلاتر")}finally{u(!1)}};T.useEffect(()=>{const y=setTimeout(()=>{t.length>0&&p()},500);return()=>clearTimeout(y)},[o,t]);const m=y=>{if(!y)return"";try{return ap(new Date(y),"dd/MM/yyyy",{locale:lp})}catch(x){return console.error("Error formatting date:",x),""}},v=()=>r.reduce((y,x)=>{var g;return y+parseFloat(((g=x.payment)==null?void 0:g.price)||0)},0).toFixed(3),b=()=>new Set(r.map(y=>y.customerName)).size;return l.jsx("div",{className:"min-h-screen bg-gray-100",children:l.jsxs("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:[l.jsx(On,{title:"سجل حجوزات الفنادق"}),l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsxs("h2",{className:"text-xl font-semibold flex items-center text-gray-800",children:[l.jsx(Pi,{className:"ml-2 text-blue-500"}),"فلترة الحجوزات"]}),l.jsxs("button",{onClick:h,className:"flex items-center px-4 py-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors duration-200",children:[l.jsx(Gs,{className:"ml-2"}),l.jsx("span",{children:"مسح الفلاتر"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"اسم العميل"}),l.jsx("input",{type:"text",name:"customerName",value:o.customerName,onChange:d,className:"w-full p-2 border rounded-md",placeholder:"ابحث باسم العميل..."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"من تاريخ"}),l.jsx(Ft,{name:"startDate",value:o.startDate,onChange:d,className:"w-full",required:!1})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"إلى تاريخ"}),l.jsx(Ft,{name:"endDate",value:o.endDate,onChange:d,className:"w-full",required:!1})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"طريقة الدفع"}),l.jsxs("select",{name:"paymentMethod",value:o.paymentMethod,onChange:d,className:"w-full p-2 border rounded-md",children:[l.jsx("option",{value:"",children:"الكل"}),l.jsx("option",{value:"cash",children:"نقدي"}),l.jsx("option",{value:"card",children:"بطاقة"}),l.jsx("option",{value:"transfer",children:"تحويل"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"الحد الأدنى للمبلغ"}),l.jsx("input",{type:"number",name:"minAmount",value:o.minAmount,onChange:d,className:"w-full p-2 border rounded-md",placeholder:"0"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"الحد الأعلى للمبلغ"}),l.jsx("input",{type:"number",name:"maxAmount",value:o.maxAmount,onChange:d,className:"w-full p-2 border rounded-md",placeholder:"0"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[l.jsx("div",{className:"bg-white rounded-lg shadow-md p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"إجمالي الحجوزات"}),l.jsx("p",{className:"text-2xl font-bold",children:r.length})]}),l.jsx(Du,{className:"text-3xl text-blue-500"})]})}),l.jsx("div",{className:"bg-white rounded-lg shadow-md p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"إجمالي المبالغ"}),l.jsxs("p",{className:"text-2xl font-bold",children:[v()," د.ك"]})]}),l.jsx(Ii,{className:"text-3xl text-green-500"})]})}),l.jsx("div",{className:"bg-white rounded-lg shadow-md p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"عدد العملاء"}),l.jsx("p",{className:"text-2xl font-bold",children:b()})]}),l.jsx(vs,{className:"text-3xl text-purple-500"})]})})]}),l.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"رقم الحجز"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"اسم العميل"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"اسم الفندق"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"تاريخ الحجز"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"المبلغ"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"طريقة الدفع"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s?l.jsx("tr",{children:l.jsx("td",{colSpan:"6",className:"px-6 py-4 text-center",children:"جاري التحميل..."})}):r.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:"6",className:"px-6 py-4 text-center",children:"لا توجد حجوزات"})}):r.map(y=>{var x,g,w,I;return l.jsxs("tr",{children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:y.id}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:y.customerName}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:y.hotelName}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:m(y.createdAt)}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[(x=y.payment)==null?void 0:x.price," د.ك"]}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[((g=y.payment)==null?void 0:g.paymentMethod)==="cash"&&"نقدي",((w=y.payment)==null?void 0:w.paymentMethod)==="card"&&"بطاقة",((I=y.payment)==null?void 0:I.paymentMethod)==="transfer"&&"تحويل"]})]},y.id)})})]})})})]})})}const Pce=["سيارة صغيرة","سيارة متوسطة","سيارة عائلية","سيارة فاخرة","دفع رباعي","ميني باص","باص"],Ace=["أوتوماتيك","عادي"],Vk=["المطار","الفندق","مقر الشركة","عنوان العميل"];function jce({onSave:t,onClose:e}){const[r,n]=T.useState({vehicleType:"",transmission:"",specifications:"",pickupDate:dn(),returnDate:dn(),pickupLocation:"",returnLocation:"",driverAge:"",numberOfDays:1,dailyRate:"",totalAmount:"",notes:""}),s=o=>{const{name:a,value:c}=o.target;n(u=>{const d={...u,[a]:c};if(a==="pickupDate"||a==="returnDate"){const h=new Date(a==="pickupDate"?c:u.pickupDate),p=new Date(a==="returnDate"?c:u.returnDate),m=Math.abs(p-h),v=Math.ceil(m/(1e3*60*60*24));d.numberOfDays=v||1,u.dailyRate&&(d.totalAmount=(v*parseFloat(u.dailyRate)).toFixed(3))}return a==="dailyRate"&&(d.totalAmount=(d.numberOfDays*parseFloat(c)).toFixed(3)),d})},i=o=>{o.preventDefault(),t(r)};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:l.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"إضافة حجز مركبة"}),l.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700",children:l.jsx(Gs,{size:24})})]}),l.jsxs("form",{onSubmit:i,className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"نوع المركبة*"}),l.jsxs("select",{name:"vehicleType",value:r.vehicleType,onChange:s,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[l.jsx("option",{value:"",children:"اختر نوع المركبة"}),Pce.map(o=>l.jsx("option",{value:o,children:o},o))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"ناقل الحركة*"}),l.jsxs("select",{name:"transmission",value:r.transmission,onChange:s,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[l.jsx("option",{value:"",children:"اختر نوع ناقل الحركة"}),Ace.map(o=>l.jsx("option",{value:o,children:o},o))]})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"وكالة السيارة ومواصفاتها*"}),l.jsx("input",{type:"text",name:"specifications",value:r.specifications,onChange:s,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"أدخل تفاصيل وكالة السيارة ومواصفاتها...",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"تاريخ الاستلام*"}),l.jsx(Ft,{name:"pickupDate",value:r.pickupDate,onChange:s})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"تاريخ التسليم*"}),l.jsx(Ft,{name:"returnDate",value:r.returnDate,onChange:s})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"مكان الاستلام*"}),l.jsxs("select",{name:"pickupLocation",value:r.pickupLocation,onChange:s,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[l.jsx("option",{value:"",children:"اختر مكان الاستلام"}),Vk.map(o=>l.jsx("option",{value:o,children:o},o))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"مكان التسليم*"}),l.jsxs("select",{name:"returnLocation",value:r.returnLocation,onChange:s,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[l.jsx("option",{value:"",children:"اختر مكان التسليم"}),Vk.map(o=>l.jsx("option",{value:o,children:o},o))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"عمر السائق*"}),l.jsx("input",{type:"number",name:"driverAge",value:r.driverAge,onChange:s,min:"18",max:"99",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"عدد الأيام*"}),l.jsx("input",{type:"number",name:"numberOfDays",value:r.numberOfDays,onChange:s,min:"1",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"السعر اليومي (د.ك)*"}),l.jsx("input",{type:"number",name:"dailyRate",value:r.dailyRate,onChange:s,step:"0.001",min:"0",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"السعر الإجمالي (د.ك)*"}),l.jsx("input",{type:"number",name:"totalAmount",value:r.totalAmount,onChange:s,step:"0.001",min:"0",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"ملاحظات"}),l.jsx("textarea",{name:"notes",value:r.notes,onChange:s,rows:"3",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{className:"flex justify-end gap-4",children:[l.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"إلغاء"}),l.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"حفظ"})]})]})]})})})}function Rce(){const[t,e]=T.useState([]),r=Es(),{user:n,hasPermission:s}=mn(),[i,o]=T.useState(null),[a,c]=T.useState(!1),[u,d]=T.useState([]),[h,p]=T.useState(null),[m,v]=T.useState({receiptCode:"",receiptNumber:"",cost:"",price:"",paymentMethod:"knet",paymentDate:dn(),deferredPaymentDate:dn(),firstInstallment:"",secondInstallment:"",thirdInstallment:"",notes:""}),[b,y]=T.useState(!1);T.useEffect(()=>{(async()=>{try{const k=await au.getNextReceiptCode();v(j=>({...j,receiptCode:k}))}catch(k){console.error("خطأ في جلب رقم الإيصال التلقائي:",k),q.error("خطأ في جلب رقم الإيصال التلقائي")}})()},[]),T.useEffect(()=>{const C=xr(Zt($e,"vehicleBookings"),ts("createdAt","desc")),k=Gu(C,j=>{const O=j.docs.map(D=>({id:D.id,...D.data()}));e(O)});return()=>k()},[]);const x=C=>{const{name:k,value:j}=C.target;v(O=>({...O,[k]:j}))},g=(C,k)=>{v(j=>({...j,[C]:k}))},w=C=>{h?(d(k=>k.map(j=>j.id===h.id?{...C,id:h.id}:j)),p(null),q.success("تم تعديل حجز المركبة بنجاح")):(d(k=>[...k,{...C,id:Date.now()}]),q.success("تم إضافة حجز المركبة بنجاح")),c(!1)},I=C=>{window.confirm("هل أنت متأكد من حذف هذا الحجز؟")&&(d(k=>k.filter(j=>j.id!==C)),q.success("تم حذف حجز المركبة بنجاح"))},P=C=>{p(C),c(!0)},A=async()=>{if(!i){q.error("يجب اختيار عميل قبل حفظ الحجز");return}if(u.length===0){q.error("يجب إضافة حجز مركبة واحدة على الأقل قبل الحفظ");return}if(!m.receiptNumber||!m.price){q.error("يجب إدخال جميع بيانات الدفع المطلوبة");return}if(m.paymentMethod==="deferred"&&!m.deferredPaymentDate){q.error("يجب إدخال تاريخ الدفع الآجل");return}if(m.paymentMethod==="installments"){if(!m.firstInstallment||!m.secondInstallment||!m.thirdInstallment){q.error("يجب إدخال مبالغ جميع الدفعات");return}const C=u.reduce((j,O)=>j+parseFloat(O.price||0),0),k=parseFloat(m.firstInstallment||0)+parseFloat(m.secondInstallment||0)+parseFloat(m.thirdInstallment||0);if(Math.abs(C-k)>.001){q.error("مجموع الدفعات يجب أن يساوي إجمالي سعر البيع");return}}y(!0);try{await qu(Zt($e,"vehicleBookings"),{customerId:i.id,customerName:i.name,vehicles:u,payment:m,createdAt:new Date,employeeId:n.id,employeeName:n.name}),q.success("تم حفظ الحجز بنجاح"),r("/menu")}catch(C){console.error("خطأ في حفظ الحجز:",C),q.error("حدث خطأ أثناء حفظ الحجز")}finally{y(!1)}},S=()=>u.reduce((C,k)=>C+parseFloat(k.price||0),0).toFixed(3),E=()=>{switch(m.paymentMethod){case"deferred":return l.jsxs("div",{className:"mt-4",children:[l.jsx("label",{className:"block text-gray-600 mb-2",children:"تاريخ الدفع الآجل*"}),l.jsx(Ft,{value:m.deferredPaymentDate,onChange:k=>g("deferredPaymentDate",k),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]});case"installments":const C=S();return l.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-600 mb-2",children:"الدفعة الأولى (د.ك)*"}),l.jsx("input",{type:"number",name:"firstInstallment",value:m.firstInstallment,onChange:x,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",step:"0.001",min:"0"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-600 mb-2",children:"الدفعة الثانية (د.ك)*"}),l.jsx("input",{type:"number",name:"secondInstallment",value:m.secondInstallment,onChange:x,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",step:"0.001",min:"0"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-600 mb-2",children:"الدفعة الثالثة (د.ك)*"}),l.jsx("input",{type:"number",name:"thirdInstallment",value:m.thirdInstallment,onChange:x,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",step:"0.001",min:"0"})]}),l.jsx("div",{className:"md:col-span-3",children:l.jsxs("p",{className:"text-sm text-gray-600",children:["إجمالي الدفعات: ",(parseFloat(m.firstInstallment||0)+parseFloat(m.secondInstallment||0)+parseFloat(m.thirdInstallment||0)).toFixed(3)," د.ك"," | ","المبلغ الإجمالي: ",C," د.ك"]})})]});default:return null}};return l.jsxs("div",{className:"min-h-screen bg-gray-100",children:[l.jsx(On,{title:"حجوزات المركبات"}),l.jsx("main",{className:"py-6",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"بيانات الحجز"}),l.jsxs("button",{onClick:()=>{if(!i){q.error("يجب اختيار عميل أولاً");return}p(null),c(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:!i,children:[l.jsx(Ql,{className:"inline-block ml-2"}),"إضافة حجز مركبة"]})]}),l.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:l.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[l.jsx(sp,{onSelect:o,selectedCustomer:i}),l.jsxs("div",{className:"mb-8",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"المركبات المحجوزة"}),u.length>0?l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-right",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-4 border-b",children:"نوع المركبة"}),l.jsx("th",{className:"p-4 border-b",children:"الشركة"}),l.jsx("th",{className:"p-4 border-b",children:"المدينة"}),l.jsx("th",{className:"p-4 border-b",children:"تاريخ الاستلام"}),l.jsx("th",{className:"p-4 border-b",children:"تاريخ التسليم"}),l.jsx("th",{className:"p-4 border-b",children:"عدد الأيام"}),l.jsx("th",{className:"p-4 border-b",children:"سعر التكلفة"}),l.jsx("th",{className:"p-4 border-b",children:"سعر البيع"}),l.jsx("th",{className:"p-4 border-b",children:"الإجراءات"})]})}),l.jsx("tbody",{children:u.map(C=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"p-4 border-b",children:C.vehicleType}),l.jsx("td",{className:"p-4 border-b",children:C.company}),l.jsx("td",{className:"p-4 border-b",children:C.city}),l.jsx("td",{className:"p-4 border-b",children:C.pickupDate}),l.jsx("td",{className:"p-4 border-b",children:C.dropoffDate}),l.jsx("td",{className:"p-4 border-b",children:C.numberOfDays}),l.jsxs("td",{className:"p-4 border-b",children:[C.cost," د.ك"]}),l.jsxs("td",{className:"p-4 border-b",children:[C.price," د.ك"]}),l.jsx("td",{className:"p-4 border-b",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>P(C),className:"text-blue-600 hover:text-blue-800",children:l.jsx(Va,{className:"h-5 w-5"})}),l.jsx("button",{onClick:()=>I(C.id),className:"text-red-600 hover:text-red-800",children:l.jsx(Po,{className:"h-5 w-5"})})]})})]},C.id))}),l.jsx("tfoot",{className:"bg-gray-50 font-semibold",children:l.jsxs("tr",{children:[l.jsx("td",{colSpan:"6",className:"p-4 border-b text-left",children:"المجموع:"}),l.jsxs("td",{className:"p-4 border-b",children:[u.reduce((C,k)=>C+parseFloat(k.cost||0),0).toFixed(3)," د.ك"]}),l.jsxs("td",{className:"p-4 border-b",children:[u.reduce((C,k)=>C+parseFloat(k.price||0),0).toFixed(3)," د.ك"]}),l.jsx("td",{className:"p-4 border-b"})]})})]})}):l.jsx("div",{className:"text-center py-8 text-gray-500 bg-gray-50 rounded-lg",children:"لا توجد مركبات محجوزة"})]}),l.jsxs("div",{className:"mb-8 bg-gray-50 p-6 rounded-lg",children:[l.jsx("h2",{className:"text-lg font-semibold mb-6",children:"بيانات الدفع"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-600 mb-2",children:"الرقم الكودي للإيصال"}),l.jsx("input",{type:"text",value:m.receiptCode,className:"w-full p-3 border border-gray-300 rounded-lg bg-gray-100",readOnly:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-600 mb-2",children:"رقم الإيصال*"}),l.jsx("input",{type:"text",name:"receiptNumber",value:m.receiptNumber,onChange:x,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-600 mb-2",children:"إجمالي سعر التكلفة (د.ك)"}),l.jsx("input",{type:"number",name:"cost",value:u.reduce((C,k)=>C+parseFloat(k.cost||0),0).toFixed(3),className:"w-full p-3 border border-gray-300 rounded-lg bg-gray-100",readOnly:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-600 mb-2",children:"إجمالي سعر البيع (د.ك)"}),l.jsx("input",{type:"number",name:"price",value:u.reduce((C,k)=>C+parseFloat(k.price||0),0).toFixed(3),className:"w-full p-3 border border-gray-300 rounded-lg bg-gray-100",readOnly:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-600 mb-2",children:"طريقة الدفع*"}),l.jsxs("select",{name:"paymentMethod",value:m.paymentMethod,onChange:x,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[l.jsx("option",{value:"cash",children:"نقداً"}),l.jsx("option",{value:"knet",children:"كي نت"}),l.jsx("option",{value:"visa",children:"فيزا"}),l.jsx("option",{value:"mastercard",children:"ماستر كارد"}),l.jsx("option",{value:"tabby",children:"تابي"}),l.jsx("option",{value:"deferred",children:"آجل"}),l.jsx("option",{value:"installments",children:"دفعات"})]})]})]}),E(),l.jsxs("div",{className:"mb-6 mt-6",children:[l.jsx("label",{className:"block text-gray-600 mb-2",children:"ملاحظات"}),l.jsx("textarea",{name:"notes",value:m.notes,onChange:x,rows:"3",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{onClick:A,disabled:b||!i||u.length===0,className:"bg-green-500 text-white px-6 py-2 rounded-md hover:bg-green-600 transition duration-200 flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:b?"جاري الحفظ...":"حفظ الحجز"})})]})]})})]})}),a&&l.jsx(jce,{onSave:w,onClose:()=>{c(!1),p(null)},editingVehicle:h})]})}function Q5(){const[t,e]=T.useState([]),[r,n]=T.useState([]),[s,i]=T.useState(!0),[o,a]=T.useState({customerName:"",startDate:"",endDate:"",paymentMethod:"",minAmount:"",maxAmount:"",sortBy:"date",sortOrder:"desc"}),[c,u]=T.useState(!1);T.useEffect(()=>{(async()=>{i(!0);try{const x=Zt($e,"vehicleBookings"),g=xr(x,ts("createdAt","desc")),I=(await Io(g)).docs.map(P=>{var A;return{id:P.id,...P.data(),createdAt:(A=P.data().createdAt)==null?void 0:A.toDate()}});e(I),n(I),q.success(`تم جلب ${I.length} حجز`)}catch(x){console.error("Error fetching bookings:",x),q.error("حدث خطأ أثناء جلب الحجوزات")}finally{i(!1)}})()},[]);const d=y=>{const{name:x,value:g}=y.target;a(w=>({...w,[x]:g}))},h=()=>{a({customerName:"",startDate:"",endDate:"",paymentMethod:"",minAmount:"",maxAmount:"",sortBy:"date",sortOrder:"desc"}),n(t)},p=()=>{u(!0);let y=[...t];try{if(o.customerName){const g=o.customerName.toLowerCase().trim();y=y.filter(w=>{var I;return(I=w.customerName)==null?void 0:I.toLowerCase().includes(g)})}if(o.startDate){const g=new Date(o.startDate);g.setHours(0,0,0,0),y=y.filter(w=>w.createdAt>=g)}if(o.endDate){const g=new Date(o.endDate);g.setHours(23,59,59,999),y=y.filter(w=>w.createdAt<=g)}o.paymentMethod&&(y=y.filter(g=>{var w;return((w=g.payment)==null?void 0:w.paymentMethod)===o.paymentMethod})),o.minAmount&&(y=y.filter(g=>{var w;return parseFloat(((w=g.payment)==null?void 0:w.price)||0)>=parseFloat(o.minAmount)})),o.maxAmount&&(y=y.filter(g=>{var w;return parseFloat(((w=g.payment)==null?void 0:w.price)||0)<=parseFloat(o.maxAmount)})),y.sort((g,w)=>{var I,P;if(o.sortBy==="date")return o.sortOrder==="desc"?(w.createdAt||0)-(g.createdAt||0):(g.createdAt||0)-(w.createdAt||0);if(o.sortBy==="amount"){const A=parseFloat(((I=g.payment)==null?void 0:I.price)||0),S=parseFloat(((P=w.payment)==null?void 0:P.price)||0);return o.sortOrder==="desc"?S-A:A-S}return 0}),n(y);const x=y.length;q.info(`تم العثور على ${x} حجز${x!==1?"وزات":""}`)}catch(x){console.error("Error applying filters:",x),q.error("حدث خطأ أثناء تطبيق الفلاتر")}finally{u(!1)}};T.useEffect(()=>{const y=setTimeout(()=>{t.length>0&&p()},500);return()=>clearTimeout(y)},[o,t]);const m=y=>{if(!y)return"";try{return ap(new Date(y),"dd/MM/yyyy",{locale:lp})}catch(x){return console.error("Error formatting date:",x),""}},v=()=>r.reduce((y,x)=>{var g;return y+parseFloat(((g=x.payment)==null?void 0:g.price)||0)},0).toFixed(3),b=()=>new Set(r.map(y=>y.customerName)).size;return l.jsx("div",{className:"min-h-screen bg-gray-100",children:l.jsxs("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:[l.jsx(On,{title:"سجل حجوزات المركبات"}),l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsxs("h2",{className:"text-xl font-semibold flex items-center text-gray-800",children:[l.jsx(Pi,{className:"ml-2 text-blue-500"}),"فلترة الحجوزات"]}),l.jsxs("button",{onClick:h,className:"flex items-center px-4 py-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors duration-200",children:[l.jsx(Gs,{className:"ml-2"}),l.jsx("span",{children:"مسح الفلاتر"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"اسم العميل"}),l.jsx("input",{type:"text",name:"customerName",value:o.customerName,onChange:d,className:"w-full p-2 border rounded-md",placeholder:"ابحث باسم العميل..."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"من تاريخ"}),l.jsx(Ft,{name:"startDate",value:o.startDate,onChange:d,className:"w-full",required:!1})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"إلى تاريخ"}),l.jsx(Ft,{name:"endDate",value:o.endDate,onChange:d,className:"w-full",required:!1})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"طريقة الدفع"}),l.jsxs("select",{name:"paymentMethod",value:o.paymentMethod,onChange:d,className:"w-full p-2 border rounded-md",children:[l.jsx("option",{value:"",children:"الكل"}),l.jsx("option",{value:"cash",children:"نقدي"}),l.jsx("option",{value:"card",children:"بطاقة"}),l.jsx("option",{value:"transfer",children:"تحويل"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"الحد الأدنى للمبلغ"}),l.jsx("input",{type:"number",name:"minAmount",value:o.minAmount,onChange:d,className:"w-full p-2 border rounded-md",placeholder:"0"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"الحد الأعلى للمبلغ"}),l.jsx("input",{type:"number",name:"maxAmount",value:o.maxAmount,onChange:d,className:"w-full p-2 border rounded-md",placeholder:"0"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[l.jsx("div",{className:"bg-white rounded-lg shadow-md p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"إجمالي الحجوزات"}),l.jsx("p",{className:"text-2xl font-bold",children:r.length})]}),l.jsx(m0,{className:"text-3xl text-blue-500"})]})}),l.jsx("div",{className:"bg-white rounded-lg shadow-md p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"إجمالي المبالغ"}),l.jsxs("p",{className:"text-2xl font-bold",children:[v()," د.ك"]})]}),l.jsx(Ii,{className:"text-3xl text-green-500"})]})}),l.jsx("div",{className:"bg-white rounded-lg shadow-md p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"عدد العملاء"}),l.jsx("p",{className:"text-2xl font-bold",children:b()})]}),l.jsx(vs,{className:"text-3xl text-purple-500"})]})})]}),l.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"رقم الحجز"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"اسم العميل"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"نوع المركبة"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"تاريخ الحجز"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"المبلغ"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"طريقة الدفع"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s?l.jsx("tr",{children:l.jsx("td",{colSpan:"6",className:"px-6 py-4 text-center",children:"جاري التحميل..."})}):r.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:"6",className:"px-6 py-4 text-center",children:"لا توجد حجوزات"})}):r.map(y=>{var x,g,w,I;return l.jsxs("tr",{children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:y.id}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:y.customerName}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:y.vehicleType}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:m(y.createdAt)}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[(x=y.payment)==null?void 0:x.price," د.ك"]}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[((g=y.payment)==null?void 0:g.paymentMethod)==="cash"&&"نقدي",((w=y.payment)==null?void 0:w.paymentMethod)==="card"&&"بطاقة",((I=y.payment)==null?void 0:I.paymentMethod)==="transfer"&&"تحويل"]})]},y.id)})})]})})})]})})}var $k={exports:{}};(function(t,e){var r=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof na<"u"&&na,n=function(){function i(){this.fetch=!1,this.DOMException=r.DOMException}return i.prototype=r,new i}();(function(i){(function(o){var a=typeof i<"u"&&i||typeof self<"u"&&self||typeof na<"u"&&na||{},c={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function u(V){return V&&DataView.prototype.isPrototypeOf(V)}if(c.arrayBuffer)var d=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],h=ArrayBuffer.isView||function(V){return V&&d.indexOf(Object.prototype.toString.call(V))>-1};function p(V){if(typeof V!="string"&&(V=String(V)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(V)||V==="")throw new TypeError('Invalid character in header field name: "'+V+'"');return V.toLowerCase()}function m(V){return typeof V!="string"&&(V=String(V)),V}function v(V){var B={next:function(){var G=V.shift();return{done:G===void 0,value:G}}};return c.iterable&&(B[Symbol.iterator]=function(){return B}),B}function b(V){this.map={},V instanceof b?V.forEach(function(B,G){this.append(G,B)},this):Array.isArray(V)?V.forEach(function(B){if(B.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+B.length);this.append(B[0],B[1])},this):V&&Object.getOwnPropertyNames(V).forEach(function(B){this.append(B,V[B])},this)}b.prototype.append=function(V,B){V=p(V),B=m(B);var G=this.map[V];this.map[V]=G?G+", "+B:B},b.prototype.delete=function(V){delete this.map[p(V)]},b.prototype.get=function(V){return V=p(V),this.has(V)?this.map[V]:null},b.prototype.has=function(V){return this.map.hasOwnProperty(p(V))},b.prototype.set=function(V,B){this.map[p(V)]=m(B)},b.prototype.forEach=function(V,B){for(var G in this.map)this.map.hasOwnProperty(G)&&V.call(B,this.map[G],G,this)},b.prototype.keys=function(){var V=[];return this.forEach(function(B,G){V.push(G)}),v(V)},b.prototype.values=function(){var V=[];return this.forEach(function(B){V.push(B)}),v(V)},b.prototype.entries=function(){var V=[];return this.forEach(function(B,G){V.push([G,B])}),v(V)},c.iterable&&(b.prototype[Symbol.iterator]=b.prototype.entries);function y(V){if(!V._noBody){if(V.bodyUsed)return Promise.reject(new TypeError("Already read"));V.bodyUsed=!0}}function x(V){return new Promise(function(B,G){V.onload=function(){B(V.result)},V.onerror=function(){G(V.error)}})}function g(V){var B=new FileReader,G=x(B);return B.readAsArrayBuffer(V),G}function w(V){var B=new FileReader,G=x(B),U=/charset=([A-Za-z0-9_-]+)/.exec(V.type),Z=U?U[1]:"utf-8";return B.readAsText(V,Z),G}function I(V){for(var B=new Uint8Array(V),G=new Array(B.length),U=0;U<B.length;U++)G[U]=String.fromCharCode(B[U]);return G.join("")}function P(V){if(V.slice)return V.slice(0);var B=new Uint8Array(V.byteLength);return B.set(new Uint8Array(V)),B.buffer}function A(){return this.bodyUsed=!1,this._initBody=function(V){this.bodyUsed=this.bodyUsed,this._bodyInit=V,V?typeof V=="string"?this._bodyText=V:c.blob&&Blob.prototype.isPrototypeOf(V)?this._bodyBlob=V:c.formData&&FormData.prototype.isPrototypeOf(V)?this._bodyFormData=V:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(V)?this._bodyText=V.toString():c.arrayBuffer&&c.blob&&u(V)?(this._bodyArrayBuffer=P(V.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(V)||h(V))?this._bodyArrayBuffer=P(V):this._bodyText=V=Object.prototype.toString.call(V):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof V=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(V)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var V=y(this);if(V)return V;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var V=y(this);return V||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(g);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var V=y(this);if(V)return V;if(this._bodyBlob)return w(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(I(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(k)}),this.json=function(){return this.text().then(JSON.parse)},this}var S=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function E(V){var B=V.toUpperCase();return S.indexOf(B)>-1?B:V}function C(V,B){if(!(this instanceof C))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');B=B||{};var G=B.body;if(V instanceof C){if(V.bodyUsed)throw new TypeError("Already read");this.url=V.url,this.credentials=V.credentials,B.headers||(this.headers=new b(V.headers)),this.method=V.method,this.mode=V.mode,this.signal=V.signal,!G&&V._bodyInit!=null&&(G=V._bodyInit,V.bodyUsed=!0)}else this.url=String(V);if(this.credentials=B.credentials||this.credentials||"same-origin",(B.headers||!this.headers)&&(this.headers=new b(B.headers)),this.method=E(B.method||this.method||"GET"),this.mode=B.mode||this.mode||null,this.signal=B.signal||this.signal||function(){if("AbortController"in a){var re=new AbortController;return re.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&G)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(G),(this.method==="GET"||this.method==="HEAD")&&(B.cache==="no-store"||B.cache==="no-cache")){var U=/([?&])_=[^&]*/;if(U.test(this.url))this.url=this.url.replace(U,"$1_="+new Date().getTime());else{var Z=/\?/;this.url+=(Z.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}C.prototype.clone=function(){return new C(this,{body:this._bodyInit})};function k(V){var B=new FormData;return V.trim().split("&").forEach(function(G){if(G){var U=G.split("="),Z=U.shift().replace(/\+/g," "),re=U.join("=").replace(/\+/g," ");B.append(decodeURIComponent(Z),decodeURIComponent(re))}}),B}function j(V){var B=new b,G=V.replace(/\r?\n[\t ]+/g," ");return G.split("\r").map(function(U){return U.indexOf(`
`)===0?U.substr(1,U.length):U}).forEach(function(U){var Z=U.split(":"),re=Z.shift().trim();if(re){var me=Z.join(":").trim();try{B.append(re,me)}catch(ae){console.warn("Response "+ae.message)}}}),B}A.call(C.prototype);function O(V,B){if(!(this instanceof O))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(B||(B={}),this.type="default",this.status=B.status===void 0?200:B.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=B.statusText===void 0?"":""+B.statusText,this.headers=new b(B.headers),this.url=B.url||"",this._initBody(V)}A.call(O.prototype),O.prototype.clone=function(){return new O(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new b(this.headers),url:this.url})},O.error=function(){var V=new O(null,{status:200,statusText:""});return V.ok=!1,V.status=0,V.type="error",V};var D=[301,302,303,307,308];O.redirect=function(V,B){if(D.indexOf(B)===-1)throw new RangeError("Invalid status code");return new O(null,{status:B,headers:{location:V}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(B,G){this.message=B,this.name=G;var U=Error(B);this.stack=U.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function ue(V,B){return new Promise(function(G,U){var Z=new C(V,B);if(Z.signal&&Z.signal.aborted)return U(new o.DOMException("Aborted","AbortError"));var re=new XMLHttpRequest;function me(){re.abort()}re.onload=function(){var X={statusText:re.statusText,headers:j(re.getAllResponseHeaders()||"")};Z.url.indexOf("file://")===0&&(re.status<200||re.status>599)?X.status=200:X.status=re.status,X.url="responseURL"in re?re.responseURL:X.headers.get("X-Request-URL");var ee="response"in re?re.response:re.responseText;setTimeout(function(){G(new O(ee,X))},0)},re.onerror=function(){setTimeout(function(){U(new TypeError("Network request failed"))},0)},re.ontimeout=function(){setTimeout(function(){U(new TypeError("Network request timed out"))},0)},re.onabort=function(){setTimeout(function(){U(new o.DOMException("Aborted","AbortError"))},0)};function ae(X){try{return X===""&&a.location.href?a.location.href:X}catch{return X}}if(re.open(Z.method,ae(Z.url),!0),Z.credentials==="include"?re.withCredentials=!0:Z.credentials==="omit"&&(re.withCredentials=!1),"responseType"in re&&(c.blob?re.responseType="blob":c.arrayBuffer&&(re.responseType="arraybuffer")),B&&typeof B.headers=="object"&&!(B.headers instanceof b||a.Headers&&B.headers instanceof a.Headers)){var J=[];Object.getOwnPropertyNames(B.headers).forEach(function(X){J.push(p(X)),re.setRequestHeader(X,m(B.headers[X]))}),Z.headers.forEach(function(X,ee){J.indexOf(ee)===-1&&re.setRequestHeader(ee,X)})}else Z.headers.forEach(function(X,ee){re.setRequestHeader(ee,X)});Z.signal&&(Z.signal.addEventListener("abort",me),re.onreadystatechange=function(){re.readyState===4&&Z.signal.removeEventListener("abort",me)}),re.send(typeof Z._bodyInit>"u"?null:Z._bodyInit)})}return ue.polyfill=!0,a.fetch||(a.fetch=ue,a.Headers=b,a.Request=C,a.Response=O),o.Headers=b,o.Request=C,o.Response=O,o.fetch=ue,o})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var s=r.fetch?r:n;e=s.fetch,e.default=s.fetch,e.fetch=s.fetch,e.Headers=s.Headers,e.Request=s.Request,e.Response=s.Response,t.exports=e})($k,$k.exports);const Dce=async()=>{try{return{success:!0,data:[{id:1,receiptNumber:"R001",amount:100,date:"2025-01-01"},{id:2,receiptNumber:"R002",amount:200,date:"2025-01-02"}]}}catch(t){return{success:!1,error:t.message}}},Oce=async t=>({success:!0}),Mce=async()=>"R003",Lce=["مؤتمر","معرض","حفل","مهرجان","ندوة","ورشة عمل","آخر"];function Fce({onSave:t,onClose:e,editingEvent:r}){const[n,s]=T.useState({eventName:"",eventType:"مؤتمر",eventDate:dn(),eventTime:"",location:"",ticketCount:"1",ticketType:"عادي",cost:"",price:"",notes:""});T.useEffect(()=>{var d;r&&s({...r,ticketCount:((d=r.ticketCount)==null?void 0:d.toString())||"1",ticketType:r.ticketType||"عادي",eventDate:r.eventDate||dn()})},[r]);const i=d=>{const{name:h,value:p}=d.target;if(s(m=>({...m,[h]:p})),h==="cost"&&p){const m=parseFloat(p);if(!isNaN(m)){const v=(m*1.2).toFixed(3);s(b=>({...b,price:v}))}}},o=d=>{const h=d.target.value;s(p=>({...p,eventDate:h}))},a=()=>{const d=["eventName","eventType","eventDate","eventTime","location","ticketCount","ticketType","cost","price"];for(const h of d)if(!n[h])return`يجب إدخال ${c(h)}`;return isNaN(parseFloat(n.cost))||parseFloat(n.cost)<=0?"يجب إدخال سعر تكلفة صحيح":isNaN(parseFloat(n.price))||parseFloat(n.price)<=0?"يجب إدخال سعر بيع صحيح":isNaN(parseInt(n.ticketCount))||parseInt(n.ticketCount)<=0?"يجب إدخال عدد تذاكر صحيح":null},c=d=>({eventName:"اسم الفعالية",eventType:"نوع الفعالية",eventDate:"تاريخ الفعالية",eventTime:"وقت الفعالية",location:"موقع الفعالية",ticketCount:"عدد التذاكر",ticketType:"نوع التذكرة",cost:"سعر التكلفة",price:"سعر البيع",notes:"ملاحظات"})[d]||d,u=d=>{d.preventDefault();const h=a();if(h){alert(h);return}t({...n,cost:n.cost?parseFloat(n.cost).toFixed(3):"",price:parseFloat(n.price).toFixed(3),ticketCount:parseInt(n.ticketCount)})};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[l.jsx(Jm,{className:"text-blue-500"}),r?"تعديل حجز فعالية":"إضافة حجز فعالية جديد"]}),l.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700",children:l.jsx(Gs,{size:24})})]}),l.jsxs("form",{onSubmit:u,className:"space-y-6",dir:"rtl",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-gray-700 mb-2 flex items-center gap-2",children:[l.jsx(Jm,{className:"text-blue-500"}),"اسم الفعالية*"]}),l.jsx("input",{type:"text",name:"eventName",value:n.eventName,onChange:i,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2 flex items-center gap-2",children:"نوع الفعالية*"}),l.jsx("select",{name:"eventType",value:n.eventType,onChange:i,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:Lce.map(d=>l.jsx("option",{value:d,children:d},d))})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-gray-700 mb-2 flex items-center gap-2",children:[l.jsx(Aie,{className:"text-red-500"}),"موقع الفعالية*"]}),l.jsx("input",{type:"text",name:"location",value:n.location,onChange:i,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-gray-700 mb-2 flex items-center gap-2",children:[l.jsx(ys,{className:"text-green-500"}),"تاريخ الفعالية*"]}),l.jsx(Ft,{value:n.eventDate,onChange:o,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!1,name:"eventDate"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-gray-700 mb-2 flex items-center gap-2",children:[l.jsx(_ie,{className:"text-orange-500"}),"وقت الفعالية*"]}),l.jsx("input",{type:"time",name:"eventTime",value:n.eventTime,onChange:i,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-gray-700 mb-2 flex items-center gap-2",children:[l.jsx(Jm,{className:"text-purple-500"}),"نوع التذكرة*"]}),l.jsxs("select",{name:"ticketType",value:n.ticketType,onChange:i,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[l.jsx("option",{value:"عادي",children:"عادي"}),l.jsx("option",{value:"VIP",children:"VIP"}),l.jsx("option",{value:"VVIP",children:"VVIP"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"عدد التذاكر*"}),l.jsx("input",{type:"number",name:"ticketCount",value:n.ticketCount,onChange:i,min:"1",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-gray-700 mb-2 flex items-center gap-2",children:[l.jsx(Ii,{className:"text-green-600"}),"سعر التكلفة (د.ك)*"]}),l.jsx("input",{type:"number",name:"cost",value:n.cost,onChange:i,step:"0.001",min:"0",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-gray-700 mb-2 flex items-center gap-2",children:[l.jsx(Ii,{className:"text-blue-600"}),"سعر البيع (د.ك)*"]}),l.jsx("input",{type:"number",name:"price",value:n.price,onChange:i,step:"0.001",min:"0",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-gray-700 mb-2 flex items-center gap-2",children:[l.jsx(Bie,{className:"text-yellow-500"}),"ملاحظات"]}),l.jsx("textarea",{name:"notes",value:n.notes,onChange:i,rows:"3",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{className:"flex justify-end gap-4",children:[l.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"إلغاء"}),l.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"حفظ"})]})]})]})})}const Vce=({bookingData:t,onClose:e})=>{const{customerName:r,events:n,payment:s,createdAt:i,employeeName:o}=t;n.reduce((h,p)=>h+parseFloat(p.cost||0),0);const a=n.reduce((h,p)=>h+parseFloat(p.price||0),0),c=h=>({cash:"نقداً",knet:"كي نت",visa:"فيزا",mastercard:"ماستر كارد",tabby:"تابي",deferred:"آجل",installments:"أقساط"})[h]||h,u=i?typeof i=="object"&&i.toDate?eg(i.toDate()):eg(new Date(i)):eg(new Date),d=()=>{const h=window.open("","_blank");h.document.write(`
      <html dir="rtl">
        <head>
          <title>إيصال حجز فعاليات - ${s.receiptCode}</title>
          <style>
            body {
              font-family: 'Arial', sans-serif;
              margin: 0;
              padding: 20px;
              direction: rtl;
            }
            .receipt {
              max-width: 800px;
              margin: 0 auto;
              border: 1px solid #ddd;
              padding: 20px;
            }
            .header {
              text-align: center;
              margin-bottom: 20px;
              border-bottom: 2px solid #000;
              padding-bottom: 10px;
            }
            .logo {
              font-size: 24px;
              font-weight: bold;
              margin-bottom: 5px;
            }
            .info {
              display: flex;
              justify-content: space-between;
              margin-bottom: 20px;
            }
            .info-item {
              margin-bottom: 5px;
            }
            table {
              width: 100%;
              border-collapse: collapse;
              margin-bottom: 20px;
            }
            th, td {
              border: 1px solid #ddd;
              padding: 8px;
              text-align: right;
            }
            th {
              background-color: #f2f2f2;
            }
            .total-row {
              font-weight: bold;
              background-color: #f9f9f9;
            }
            .footer {
              margin-top: 30px;
              text-align: center;
              font-size: 14px;
              color: #666;
            }
            .signatures {
              display: flex;
              justify-content: space-between;
              margin-top: 50px;
            }
            .signature {
              width: 45%;
              border-top: 1px solid #000;
              padding-top: 10px;
              text-align: center;
            }
            @media print {
              body {
                padding: 0;
              }
              .no-print {
                display: none;
              }
            }
          </style>
        </head>
        <body>
          <div class="receipt">
            <div class="header">
              <div class="logo">شركة بولت للسفر والسياحة</div>
              <div>إيصال حجز فعاليات</div>
            </div>
            
            <div class="info">
              <div>
                <div class="info-item"><strong>رقم الإيصال:</strong> ${s.receiptNumber}</div>
                <div class="info-item"><strong>الرقم الكودي:</strong> ${s.receiptCode}</div>
                <div class="info-item"><strong>التاريخ:</strong> ${u}</div>
              </div>
              <div>
                <div class="info-item"><strong>اسم العميل:</strong> ${r}</div>
                <div class="info-item"><strong>طريقة الدفع:</strong> ${c(s.paymentMethod)}</div>
                <div class="info-item"><strong>الموظف:</strong> ${o||"غير محدد"}</div>
              </div>
            </div>
            
            <table>
              <thead>
                <tr>
                  <th>#</th>
                  <th>اسم الفعالية</th>
                  <th>نوع الفعالية</th>
                  <th>التاريخ</th>
                  <th>الوقت</th>
                  <th>الموقع</th>
                  <th>عدد التذاكر</th>
                  <th>نوع التذكرة</th>
                  <th>سعر البيع (د.ك)</th>
                </tr>
              </thead>
              <tbody>
                ${n.map((p,m)=>`
                  <tr>
                    <td>${m+1}</td>
                    <td>${p.eventName}</td>
                    <td>${p.eventType}</td>
                    <td>${p.eventDate}</td>
                    <td>${p.eventTime}</td>
                    <td>${p.location}</td>
                    <td>${p.ticketCount}</td>
                    <td>${p.ticketType}</td>
                    <td>${parseFloat(p.price).toFixed(3)}</td>
                  </tr>
                `).join("")}
              </tbody>
              <tfoot>
                <tr class="total-row">
                  <td colspan="8" style="text-align: left;">المجموع:</td>
                  <td>${a.toFixed(3)} د.ك</td>
                </tr>
              </tfoot>
            </table>
            
            ${s.paymentMethod==="installments"?`
              <div>
                <h3>تفاصيل الأقساط:</h3>
                <table>
                  <tr>
                    <th>القسط الأول</th>
                    <th>القسط الثاني</th>
                    <th>القسط الثالث</th>
                  </tr>
                  <tr>
                    <td>${parseFloat(s.firstInstallment).toFixed(3)} د.ك</td>
                    <td>${parseFloat(s.secondInstallment).toFixed(3)} د.ك</td>
                    <td>${parseFloat(s.thirdInstallment).toFixed(3)} د.ك</td>
                  </tr>
                </table>
              </div>
            `:""}
            
            ${s.paymentMethod==="deferred"?`
              <div>
                <h3>تفاصيل الدفع الآجل:</h3>
                <p><strong>تاريخ الاستحقاق:</strong> ${s.deferredPaymentDate}</p>
              </div>
            `:""}
            
            ${s.notes?`
              <div>
                <h3>ملاحظات:</h3>
                <p>${s.notes}</p>
              </div>
            `:""}
            
            <div class="signatures">
              <div class="signature">توقيع الموظف</div>
              <div class="signature">توقيع العميل</div>
            </div>
            
            <div class="footer">
              <p>شكراً لاختياركم شركة السعد للسياحة والسفر</p>
              <p>هاتف: 123456789 | البريد الإلكتروني: info@alsaadtravels.com</p>
            </div>
          </div>
        </body>
      </html>
    `),h.document.close(),h.focus(),h.onload=function(){h.print()}};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-4xl",children:[l.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",children:"معاينة الإيصال"}),l.jsx("p",{className:"mb-6 text-center",children:"انقر على زر الطباعة لطباعة الإيصال أو حفظه كملف PDF"}),l.jsxs("div",{className:"flex justify-center gap-4",children:[l.jsxs("button",{onClick:d,className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M5 4v3H4a2 2 0 00-2 2v3a2 2 0 002 2h1v2a2 2 0 002 2h6a2 2 0 002-2v-2h1a2 2 0 002-2V9a2 2 0 00-2-2h-1V4a2 2 0 00-2-2H7a2 2 0 00-2 2zm8 0H7v3h6V4zm0 8H7v4h6v-4z",clipRule:"evenodd"})}),"طباعة الإيصال"]}),l.jsx("button",{onClick:e,className:"bg-gray-500 text-white px-6 py-3 rounded-lg hover:bg-gray-600",children:"إغلاق"})]})]})})};function $ce(){const[t,e]=T.useState([]),r=Es(),{user:n,hasPermission:s}=mn(),[i,o]=T.useState(null),[a,c]=T.useState(!1),[u,d]=T.useState([]),[h,p]=T.useState(null),[m,v]=T.useState({receiptCode:"",receiptNumber:"",cost:"",price:"",paymentMethod:"knet",paymentDate:dn(),deferredPaymentDate:dn(),firstInstallment:"",secondInstallment:"",thirdInstallment:"",notes:""}),[b,y]=T.useState(!1),[x,g]=T.useState(!1),[w,I]=T.useState(null);T.useEffect(()=>{(async()=>{try{const G=await Mce();v(U=>({...U,receiptCode:G}))}catch(G){console.error("خطأ في جلب رقم الإيصال التلقائي:",G),q.error("خطأ في جلب رقم الإيصال التلقائي")}})()},[]),T.useEffect(()=>{const B=xr(Zt($e,"eventBookings"),ts("createdAt","desc")),G=Gu(B,U=>{const Z=U.docs.map(re=>({id:re.id,...re.data()}));e(Z)});return()=>G()},[]);const P=B=>{const{name:G,value:U}=B.target;v(Z=>({...Z,[G]:U}))},A=(B,G)=>{v(U=>({...U,[B]:G}))},S=B=>{h?(d(G=>G.map(U=>U.id===h.id?{...B,id:h.id}:U)),p(null),q.success("تم تعديل حجز الفعالية بنجاح")):(d(G=>[...G,{...B,id:Date.now()}]),q.success("تم إضافة حجز الفعالية بنجاح")),c(!1)},E=B=>{window.confirm("هل أنت متأكد من حذف هذا الحجز؟")&&(d(G=>G.filter(U=>U.id!==B)),q.success("تم حذف حجز الفعالية بنجاح"))},C=B=>{p(B),c(!0)},k=()=>{if(!i){q.error("يجب اختيار العميل أولاً قبل إضافة فعالية");return}c(!0)},j=()=>{if(!i)return q.error("يجب اختيار عميل قبل حفظ الحجز"),!1;if(u.length===0)return q.error("يجب إضافة حجز فعالية واحدة على الأقل قبل الحفظ"),!1;for(const U of u){if(!U.eventDate)return q.error("يجب تحديد تاريخ لكل فعالية"),!1;if(!U.eventTime)return q.error("يجب تحديد وقت لكل فعالية"),!1}const B=u.reduce((U,Z)=>U+parseFloat(Z.cost||0),0),G=u.reduce((U,Z)=>U+parseFloat(Z.price||0),0);if(B<=0)return q.error("يجب أن يكون إجمالي سعر التكلفة أكبر من صفر"),!1;if(G<=0)return q.error("يجب أن يكون إجمالي سعر البيع أكبر من صفر"),!1;if(!m.receiptNumber)return q.error("يجب إدخال رقم الإيصال"),!1;if(m.paymentMethod==="deferred"&&!m.deferredPaymentDate)return q.error("يجب إدخال تاريخ الدفع الآجل"),!1;if(m.paymentMethod==="installments"){if(!m.firstInstallment||!m.secondInstallment||!m.thirdInstallment)return q.error("يجب إدخال مبالغ جميع الدفعات"),!1;const U=parseFloat(m.firstInstallment||0)+parseFloat(m.secondInstallment||0)+parseFloat(m.thirdInstallment||0);if(Math.abs(G-U)>.001)return q.error("مجموع الدفعات يجب أن يساوي إجمالي سعر البيع"),!1}return!0},O=async()=>{if(j()){y(!0);try{const B={customerId:i.id,customerName:i.name,events:u,payment:m,createdAt:new Date,employeeId:n.id,employeeName:n.name},G=await qu(Zt($e,"eventBookings"),B);q.success("تم حفظ الحجز بنجاح"),I({...B,id:G.id}),g(!0)}catch(B){console.error("خطأ في حفظ الحجز:",B),q.error("حدث خطأ أثناء حفظ الحجز")}finally{y(!1)}}},D=()=>{if(!j())return;const B={customerName:i.name,events:u,payment:m,createdAt:new Date,employeeName:(n==null?void 0:n.name)||"غير محدد"};I(B),g(!0)},ue=()=>u.reduce((B,G)=>B+parseFloat(G.price||0),0).toFixed(3),V=()=>{switch(m.paymentMethod){case"deferred":return l.jsxs("div",{className:"mt-4",children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"تاريخ الدفع الآجل*"}),l.jsx(Ft,{value:m.deferredPaymentDate,onChange:G=>A("deferredPaymentDate",G),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]});case"installments":const B=ue();return l.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"الدفعة الأولى (د.ك)*"}),l.jsx("input",{type:"number",name:"firstInstallment",value:m.firstInstallment,onChange:P,step:"0.001",min:"0",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"الدفعة الثانية (د.ك)*"}),l.jsx("input",{type:"number",name:"secondInstallment",value:m.secondInstallment,onChange:P,step:"0.001",min:"0",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"الدفعة الثالثة (د.ك)*"}),l.jsx("input",{type:"number",name:"thirdInstallment",value:m.thirdInstallment,onChange:P,step:"0.001",min:"0",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),l.jsx("div",{className:"md:col-span-3",children:l.jsxs("p",{className:"text-sm text-gray-600",children:["إجمالي الدفعات: ",(parseFloat(m.firstInstallment||0)+parseFloat(m.secondInstallment||0)+parseFloat(m.thirdInstallment||0)).toFixed(3)," د.ك"," | ","المبلغ الإجمالي: ",B," د.ك"]})})]});default:return null}};return l.jsxs("div",{className:"min-h-screen bg-gray-100",children:[l.jsx(On,{title:"حجوزات الفعاليات",icon:l.jsx(ys,{className:"w-8 h-8"})}),l.jsx("main",{className:"py-6",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a?l.jsx(Fce,{onSave:S,onClose:()=>c(!1),editingEvent:h}):l.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:l.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[l.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[l.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center",children:[l.jsx(Jm,{className:"text-blue-600 mr-2"}),"بيانات الحجز"]}),l.jsxs("button",{onClick:k,className:`${i?"bg-blue-600 hover:bg-blue-700":"bg-gray-400 cursor-not-allowed"} text-white px-4 py-2 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 flex items-center gap-2`,disabled:!i,children:[l.jsx(Ql,{className:"inline-block ml-2"}),"إضافة فعالية"]})]}),l.jsx("div",{className:"mb-6",children:l.jsx(sp,{selectedCustomer:i,onSelect:o,className:"w-full md:w-96"})}),l.jsxs("div",{className:"mb-8",children:[l.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[l.jsx(ys,{className:"text-green-600 mr-2"}),"الفعاليات المحجوزة"]}),u.length>0?l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-right",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-4 border-b",children:"اسم الفعالية"}),l.jsx("th",{className:"p-4 border-b",children:"نوع الفعالية"}),l.jsx("th",{className:"p-4 border-b",children:"التاريخ"}),l.jsx("th",{className:"p-4 border-b",children:"الوقت"}),l.jsx("th",{className:"p-4 border-b",children:"الموقع"}),l.jsx("th",{className:"p-4 border-b",children:"عدد التذاكر"}),l.jsx("th",{className:"p-4 border-b",children:"نوع التذكرة"}),l.jsx("th",{className:"p-4 border-b",children:"سعر التكلفة"}),l.jsx("th",{className:"p-4 border-b",children:"سعر البيع"}),l.jsx("th",{className:"p-4 border-b",children:"الإجراءات"})]})}),l.jsx("tbody",{children:u.map(B=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"p-4 border-b",children:B.eventName}),l.jsx("td",{className:"p-4 border-b",children:B.eventType}),l.jsx("td",{className:"p-4 border-b",children:B.eventDate}),l.jsx("td",{className:"p-4 border-b",children:B.eventTime}),l.jsx("td",{className:"p-4 border-b",children:B.location}),l.jsx("td",{className:"p-4 border-b",children:B.ticketCount}),l.jsx("td",{className:"p-4 border-b",children:B.ticketType}),l.jsxs("td",{className:"p-4 border-b",children:[B.cost||"-"," د.ك"]}),l.jsxs("td",{className:"p-4 border-b",children:[B.price," د.ك"]}),l.jsx("td",{className:"p-4 border-b",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>C(B),className:"text-blue-600 hover:text-blue-800",children:l.jsx(Va,{className:"h-5 w-5"})}),l.jsx("button",{onClick:()=>E(B.id),className:"text-red-600 hover:text-red-800",children:l.jsx(Po,{className:"h-5 w-5"})})]})})]},B.id))}),l.jsx("tfoot",{className:"bg-gray-50 font-semibold",children:l.jsxs("tr",{children:[l.jsx("td",{colSpan:"7",className:"p-4 border-b text-left",children:"المجموع:"}),l.jsxs("td",{className:"p-4 border-b",children:[u.reduce((B,G)=>B+parseFloat(G.cost||0),0).toFixed(3)," د.ك"]}),l.jsxs("td",{className:"p-4 border-b",children:[u.reduce((B,G)=>B+parseFloat(G.price||0),0).toFixed(3)," د.ك"]}),l.jsx("td",{className:"p-4 border-b"})]})})]})}):l.jsx("div",{className:"text-center py-8 text-gray-500 bg-gray-50 rounded-lg",children:"لا توجد فعاليات محجوزة"})]}),l.jsxs("div",{className:"mb-8 bg-gray-50 p-6 rounded-lg",children:[l.jsxs("h2",{className:"text-lg font-semibold mb-6 flex items-center",children:[l.jsx(Ii,{className:"text-green-600 mr-2"}),"بيانات الدفع"]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-600 mb-2",children:"الرقم الكودي للإيصال"}),l.jsx("input",{type:"text",name:"receiptCode",value:m.receiptCode,className:"w-full p-3 border border-gray-300 rounded-lg bg-gray-100",readOnly:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-600 mb-2",children:"رقم الإيصال*"}),l.jsx("input",{type:"text",name:"receiptNumber",value:m.receiptNumber,onChange:P,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-600 mb-2",children:"إجمالي سعر التكلفة (د.ك)*"}),l.jsx("input",{type:"number",name:"cost",value:u.reduce((B,G)=>B+parseFloat(G.cost||0),0).toFixed(3),className:"w-full p-3 border border-gray-300 rounded-lg bg-gray-100",readOnly:!0,required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-600 mb-2",children:"إجمالي سعر البيع (د.ك)*"}),l.jsx("input",{type:"number",name:"price",value:u.reduce((B,G)=>B+parseFloat(G.price||0),0).toFixed(3),className:"w-full p-3 border border-gray-300 rounded-lg bg-gray-100",readOnly:!0,required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-600 mb-2",children:"طريقة الدفع*"}),l.jsxs("select",{name:"paymentMethod",value:m.paymentMethod,onChange:P,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[l.jsx("option",{value:"cash",children:"نقداً"}),l.jsx("option",{value:"knet",children:"كي نت"}),l.jsx("option",{value:"visa",children:"فيزا"}),l.jsx("option",{value:"mastercard",children:"ماستر كارد"}),l.jsx("option",{value:"tabby",children:"تابي"}),l.jsx("option",{value:"deferred",children:"آجل"}),l.jsx("option",{value:"installments",children:"دفعات"})]})]})]}),V(),l.jsxs("div",{className:"mb-6 mt-6",children:[l.jsx("label",{className:"block text-gray-600 mb-2",children:"ملاحظات"}),l.jsx("textarea",{name:"notes",value:m.notes,onChange:P,rows:"3",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{className:"flex justify-end gap-4 mt-8",children:[l.jsxs("button",{type:"button",onClick:D,className:"bg-purple-600 text-white px-6 py-3 rounded-lg hover:bg-purple-700 flex items-center gap-2",disabled:b||u.length===0||!i,children:[l.jsx(c5,{}),"طباعة الإيصال"]}),l.jsx("button",{type:"button",onClick:O,className:"bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 flex items-center gap-2",disabled:b,children:b?l.jsx(l.Fragment,{children:"جاري الحفظ..."}):l.jsxs(l.Fragment,{children:[l.jsx(ys,{}),"حفظ الحجز"]})}),l.jsx("button",{type:"button",onClick:()=>r("/menu"),className:"bg-gray-500 text-white px-6 py-3 rounded-lg hover:bg-gray-600",children:"إلغاء"})]})]})]})})})}),x&&w&&l.jsx(Vce,{bookingData:w,onClose:()=>{g(!1),w.id&&r("/menu")}})]})}function Y5(){const[t,e]=T.useState([]),[r,n]=T.useState([]),[s,i]=T.useState(!0),[o,a]=T.useState({customerName:"",startDate:"",endDate:"",paymentMethod:"",minAmount:"",maxAmount:"",sortBy:"date",sortOrder:"desc"}),[c,u]=T.useState(!1);T.useEffect(()=>{(async()=>{i(!0);try{const x=Zt($e,"eventBookings"),g=xr(x,ts("createdAt","desc")),I=(await Io(g)).docs.map(P=>{var A;return{id:P.id,...P.data(),createdAt:(A=P.data().createdAt)==null?void 0:A.toDate()}});e(I),n(I),q.success(`تم جلب ${I.length} حجز`)}catch(x){console.error("Error fetching bookings:",x),q.error("حدث خطأ أثناء جلب الحجوزات")}finally{i(!1)}})()},[]);const d=y=>{const{name:x,value:g}=y.target;a(w=>({...w,[x]:g}))},h=()=>{a({customerName:"",startDate:"",endDate:"",paymentMethod:"",minAmount:"",maxAmount:"",sortBy:"date",sortOrder:"desc"}),n(t)},p=()=>{u(!0);let y=[...t];try{if(o.customerName){const g=o.customerName.toLowerCase().trim();y=y.filter(w=>{var I;return(I=w.customerName)==null?void 0:I.toLowerCase().includes(g)})}if(o.startDate){const g=new Date(o.startDate);g.setHours(0,0,0,0),y=y.filter(w=>w.createdAt>=g)}if(o.endDate){const g=new Date(o.endDate);g.setHours(23,59,59,999),y=y.filter(w=>w.createdAt<=g)}o.paymentMethod&&(y=y.filter(g=>{var w;return((w=g.payment)==null?void 0:w.paymentMethod)===o.paymentMethod})),o.minAmount&&(y=y.filter(g=>{var w;return parseFloat(((w=g.payment)==null?void 0:w.price)||0)>=parseFloat(o.minAmount)})),o.maxAmount&&(y=y.filter(g=>{var w;return parseFloat(((w=g.payment)==null?void 0:w.price)||0)<=parseFloat(o.maxAmount)})),y.sort((g,w)=>{var I,P;if(o.sortBy==="date")return o.sortOrder==="desc"?(w.createdAt||0)-(g.createdAt||0):(g.createdAt||0)-(w.createdAt||0);if(o.sortBy==="amount"){const A=parseFloat(((I=g.payment)==null?void 0:I.price)||0),S=parseFloat(((P=w.payment)==null?void 0:P.price)||0);return o.sortOrder==="desc"?S-A:A-S}return 0}),n(y);const x=y.length;q.info(`تم العثور على ${x} حجز${x!==1?"وزات":""}`)}catch(x){console.error("Error applying filters:",x),q.error("حدث خطأ أثناء تطبيق الفلاتر")}finally{u(!1)}};T.useEffect(()=>{const y=setTimeout(()=>{t.length>0&&p()},500);return()=>clearTimeout(y)},[o,t]);const m=y=>{if(!y)return"";try{return ap(new Date(y),"dd/MM/yyyy",{locale:lp})}catch(x){return console.error("Error formatting date:",x),""}},v=()=>r.reduce((y,x)=>{var g;return y+parseFloat(((g=x.payment)==null?void 0:g.price)||0)},0).toFixed(3),b=()=>new Set(r.map(y=>y.customerName)).size;return l.jsx("div",{className:"min-h-screen bg-gray-100",children:l.jsxs("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:[l.jsx(On,{title:"سجل حجوزات الفعاليات"}),l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsxs("h2",{className:"text-xl font-semibold flex items-center text-gray-800",children:[l.jsx(Pi,{className:"ml-2 text-blue-500"}),"فلترة الحجوزات"]}),l.jsxs("button",{onClick:h,className:"flex items-center px-4 py-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors duration-200",children:[l.jsx(Gs,{className:"ml-2"}),l.jsx("span",{children:"مسح الفلاتر"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"اسم العميل"}),l.jsx("input",{type:"text",name:"customerName",value:o.customerName,onChange:d,className:"w-full p-2 border rounded-md",placeholder:"ابحث باسم العميل..."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"من تاريخ"}),l.jsx(Ft,{name:"startDate",value:o.startDate,onChange:d,className:"w-full",required:!1})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"إلى تاريخ"}),l.jsx(Ft,{name:"endDate",value:o.endDate,onChange:d,className:"w-full",required:!1})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"طريقة الدفع"}),l.jsxs("select",{name:"paymentMethod",value:o.paymentMethod,onChange:d,className:"w-full p-2 border rounded-md",children:[l.jsx("option",{value:"",children:"الكل"}),l.jsx("option",{value:"cash",children:"نقدي"}),l.jsx("option",{value:"card",children:"بطاقة"}),l.jsx("option",{value:"transfer",children:"تحويل"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"الحد الأدنى للمبلغ"}),l.jsx("input",{type:"number",name:"minAmount",value:o.minAmount,onChange:d,className:"w-full p-2 border rounded-md",placeholder:"0"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"الحد الأعلى للمبلغ"}),l.jsx("input",{type:"number",name:"maxAmount",value:o.maxAmount,onChange:d,className:"w-full p-2 border rounded-md",placeholder:"0"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[l.jsx("div",{className:"bg-white rounded-lg shadow-md p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"إجمالي الحجوزات"}),l.jsx("p",{className:"text-2xl font-bold",children:r.length})]}),l.jsx(ys,{className:"text-3xl text-blue-500"})]})}),l.jsx("div",{className:"bg-white rounded-lg shadow-md p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"إجمالي المبالغ"}),l.jsxs("p",{className:"text-2xl font-bold",children:[v()," د.ك"]})]}),l.jsx(Ii,{className:"text-3xl text-green-500"})]})}),l.jsx("div",{className:"bg-white rounded-lg shadow-md p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"عدد العملاء"}),l.jsx("p",{className:"text-2xl font-bold",children:b()})]}),l.jsx(vs,{className:"text-3xl text-purple-500"})]})})]}),l.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"رقم الحجز"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"اسم العميل"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"اسم الفعالية"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"تاريخ الحجز"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"المبلغ"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"طريقة الدفع"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s?l.jsx("tr",{children:l.jsx("td",{colSpan:"6",className:"px-6 py-4 text-center",children:"جاري التحميل..."})}):r.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:"6",className:"px-6 py-4 text-center",children:"لا توجد حجوزات"})}):r.map(y=>{var x,g,w,I;return l.jsxs("tr",{children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:y.id}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:y.customerName}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:y.eventName}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:m(y.createdAt)}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[(x=y.payment)==null?void 0:x.price," د.ك"]}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[((g=y.payment)==null?void 0:g.paymentMethod)==="cash"&&"نقدي",((w=y.payment)==null?void 0:w.paymentMethod)==="card"&&"بطاقة",((I=y.payment)==null?void 0:I.paymentMethod)==="transfer"&&"تحويل"]})]},y.id)})})]})})})]})})}function Bce({onSave:t,initialData:e=null}){const[r,n]=T.useState({visaType:"",country:"",duration:"",issueDate:"",expiryDate:"",cost:"",price:"",notes:""});T.useEffect(()=>{e&&n(e)},[e]);const s=d=>{const{name:h,value:p}=d.target;n(m=>({...m,[h]:p}))},i=(d,h)=>{n(p=>({...p,[d]:h}))},o=d=>{if(d.preventDefault(),!r.visaType||!r.country||!r.duration){q.error("يرجى تعبئة جميع الحقول المطلوبة");return}if(r.issueDate&&r.expiryDate){const m=new Date(r.issueDate);if(new Date(r.expiryDate)<m){q.error("تاريخ الانتهاء يجب أن يكون بعد تاريخ الإصدار");return}}const h=parseFloat(r.cost),p=parseFloat(r.price);if(isNaN(h)||isNaN(p)||h<0||p<0){q.error("يرجى إدخال مبالغ صحيحة");return}t(r)},a=[{id:"tourist",name:"سياحية"},{id:"business",name:"عمل"},{id:"student",name:"دراسية"},{id:"medical",name:"علاجية"},{id:"hajj",name:"حج"},{id:"umrah",name:"عمرة"}],c=[{id:"sa",name:"المملكة العربية السعودية"},{id:"ae",name:"الإمارات العربية المتحدة"},{id:"us",name:"الولايات المتحدة الأمريكية"},{id:"uk",name:"المملكة المتحدة"},{id:"sc",name:"سيشل"},{id:"my",name:"ماليزيا"},{id:"tr",name:"تركيا"}],u=[{id:"30",name:"30 يوم"},{id:"60",name:"60 يوم"},{id:"90",name:"90 يوم"},{id:"180",name:"180 يوم"},{id:"365",name:"سنة"},{id:"multiple",name:"متعددة السفرات"}];return l.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:l.jsxs("form",{onSubmit:o,className:"space-y-8",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-700 flex items-center",children:[l.jsx(Ou,{className:"mr-2"}),"معلومات التأشيرة"]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"نوع التأشيرة *"}),l.jsxs("select",{name:"visaType",value:r.visaType,onChange:s,required:!0,className:"w-full p-2 border rounded focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"",children:"اختر نوع التأشيرة"}),a.map(d=>l.jsx("option",{value:d.id,children:d.name},d.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"الدولة *"}),l.jsxs("select",{name:"country",value:r.country,onChange:s,required:!0,className:"w-full p-2 border rounded focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"",children:"اختر الدولة"}),c.map(d=>l.jsx("option",{value:d.id,children:d.name},d.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"مدة التأشيرة *"}),l.jsxs("select",{name:"duration",value:r.duration,onChange:s,required:!0,className:"w-full p-2 border rounded focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"",children:"اختر المدة"}),u.map(d=>l.jsx("option",{value:d.id,children:d.name},d.id))]})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-700 flex items-center",children:[l.jsx(ys,{className:"mr-2"}),"التواريخ والملاحظات"]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"تاريخ الإصدار"}),l.jsx(Ft,{name:"issueDate",value:r.issueDate,onChange:d=>i("issueDate",d),required:!1,className:"w-full"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"تاريخ الانتهاء"}),l.jsx(Ft,{name:"expiryDate",value:r.expiryDate,onChange:d=>i("expiryDate",d),required:!1,className:"w-full"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"ملاحظات"}),l.jsx("textarea",{name:"notes",value:r.notes,onChange:s,rows:"3",className:"w-full p-2 border rounded focus:ring-2 focus:ring-blue-500",placeholder:"أدخل أي ملاحظات إضافية"})]})]})]}),l.jsxs("div",{className:"border-t pt-6",children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-700 mb-4 flex items-center",children:[l.jsx(Ii,{className:"mr-2"}),"المعلومات المالية"]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"التكلفة"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"number",name:"cost",value:r.cost,onChange:s,min:"0",step:"0.01",className:"w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 pl-16",placeholder:"0.00"}),l.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:"ريال"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"السعر"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"number",name:"price",value:r.price,onChange:s,min:"0",step:"0.01",className:"w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 pl-16",placeholder:"0.00"}),l.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:"ريال"})]})]})]})]}),l.jsx("div",{className:"flex justify-end space-x-2 rtl:space-x-reverse",children:l.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:e?"تحديث":"إضافة"})})]})})}const zce=async(t={})=>{try{let e=Zt($e,"visaBookings");return t.customerId&&(e=xr(e,jc("customerId","==",t.customerId))),t.status&&(e=xr(e,jc("status","==",t.status))),t.fromDate&&t.toDate&&(e=xr(e,jc("createdAt",">=",Bt.fromDate(new Date(t.fromDate))),jc("createdAt","<=",Bt.fromDate(new Date(t.toDate))))),e=xr(e,ts("createdAt","desc")),(await Io(e)).docs.map(n=>{var s;return{id:n.id,...n.data(),createdAt:(s=n.data().createdAt)==null?void 0:s.toDate()}})}catch(e){throw console.error("Error getting visa bookings:",e),e}},Uce=async(t,e=null)=>{try{const r={...t,updatedAt:Bt.now(),status:t.status||"pending"};return e?(await Wu(ir($e,"visaBookings",e),r),e):(r.createdAt=Bt.now(),(await qu(Zt($e,"visaBookings"),r)).id)}catch(r){throw console.error("Error adding/updating visa booking:",r),r}},Hce=async t=>{try{await ay(ir($e,"visaBookings",t))}catch(e){throw console.error("Error deleting visa booking:",e),e}},Zy={create_employees:{id:"create_employees",title:"إضافة موظفين",description:"إضافة موظفين جدد",category:"employees",level:"write"},edit_employees:{id:"edit_employees",title:"تعديل الموظفين",description:"تعديل بيانات الموظفين",category:"employees",level:"write"},delete_employees:{id:"delete_employees",title:"حذف الموظفين",description:"حذف بيانات الموظفين",category:"employees",level:"delete"},view_employees:{id:"view_employees",title:"عرض الموظفين",description:"عرض بيانات الموظفين",category:"employees",level:"read"},create_customers:{id:"create_customers",title:"إضافة عملاء",description:"إضافة عملاء جدد",category:"customers",level:"write"},edit_customers:{id:"edit_customers",title:"تعديل العملاء",description:"تعديل بيانات العملاء",category:"customers",level:"write"},delete_customers:{id:"delete_customers",title:"حذف العملاء",description:"حذف بيانات العملاء",category:"customers",level:"delete"},view_customers:{id:"view_customers",title:"عرض العملاء",description:"عرض بيانات العملاء",category:"customers",level:"read"},create_flights:{id:"create_flights",title:"إضافة حجوزات طيران",description:"إضافة حجوزات طيران جديدة",category:"flights",level:"write"},edit_flights:{id:"edit_flights",title:"تعديل حجوزات الطيران",description:"تعديل حجوزات الطيران",category:"flights",level:"write"},delete_flights:{id:"delete_flights",title:"إلغاء حجوزات الطيران",description:"إلغاء وحذف حجوزات الطيران",category:"flights",level:"delete"},view_flights:{id:"view_flights",title:"عرض حجوزات الطيران",description:"عرض حجوزات الطيران",category:"flights",level:"read"},create_visas:{id:"create_visas",title:"إضافة طلبات تأشيرات",description:"إضافة طلبات تأشيرات جديدة",category:"visas",level:"write"},edit_visas:{id:"edit_visas",title:"تعديل طلبات التأشيرات",description:"تعديل طلبات التأشيرات",category:"visas",level:"write"},delete_visas:{id:"delete_visas",title:"حذف طلبات التأشيرات",description:"حذف طلبات التأشيرات",category:"visas",level:"delete"},view_visas:{id:"view_visas",title:"عرض التأشيرات",description:"عرض طلبات التأشيرات",category:"visas",level:"read"},create_vehicles:{id:"create_vehicles",title:"إضافة حجوزات مركبات",description:"إضافة حجوزات مركبات جديدة",category:"vehicles",level:"write"},edit_vehicles:{id:"edit_vehicles",title:"تعديل حجوزات المركبات",description:"تعديل حجوزات المركبات",category:"vehicles",level:"write"},delete_vehicles:{id:"delete_vehicles",title:"إلغاء حجوزات المركبات",description:"إلغاء وحذف حجوزات المركبات",category:"vehicles",level:"delete"},view_vehicles:{id:"view_vehicles",title:"عرض المركبات",description:"عرض حجوزات المركبات",category:"vehicles",level:"read"},create_hotels:{id:"create_hotels",title:"إضافة حجوزات فنادق",description:"إضافة حجوزات فنادق جديدة",category:"hotels",level:"write"},edit_hotels:{id:"edit_hotels",title:"تعديل حجوزات الفنادق",description:"تعديل حجوزات الفنادق",category:"hotels",level:"write"},delete_hotels:{id:"delete_hotels",title:"إلغاء حجوزات الفنادق",description:"إلغاء وحذف حجوزات الفنادق",category:"hotels",level:"delete"},view_hotels:{id:"view_hotels",title:"عرض الفنادق",description:"عرض حجوزات الفنادق",category:"hotels",level:"read"},create_reports:{id:"create_reports",title:"إنشاء تقارير",description:"إنشاء تقارير جديدة",category:"reports",level:"write"},edit_reports:{id:"edit_reports",title:"تعديل التقارير",description:"تعديل التقارير الموجودة",category:"reports",level:"write"},delete_reports:{id:"delete_reports",title:"حذف التقارير",description:"حذف التقارير",category:"reports",level:"delete"},view_reports:{id:"view_reports",title:"عرض التقارير",description:"عرض التقارير",category:"reports",level:"read"},create_payments:{id:"create_payments",title:"إضافة مدفوعات",description:"تسجيل مدفوعات جديدة",category:"payments",level:"write"},edit_payments:{id:"edit_payments",title:"تعديل المدفوعات",description:"تعديل بيانات المدفوعات",category:"payments",level:"write"},delete_payments:{id:"delete_payments",title:"حذف المدفوعات",description:"حذف سجلات المدفوعات",category:"payments",level:"delete"},view_payments:{id:"view_payments",title:"عرض المدفوعات",description:"عرض سجلات المدفوعات",category:"payments",level:"read"},create_invoices:{id:"create_invoices",title:"إنشاء فواتير",description:"إنشاء فواتير جديدة",category:"payments",level:"write"},edit_invoices:{id:"edit_invoices",title:"تعديل الفواتير",description:"تعديل الفواتير الموجودة",category:"payments",level:"write"},view_invoices:{id:"view_invoices",title:"عرض الفواتير",description:"عرض الفواتير",category:"payments",level:"read"},manage_settings:{id:"manage_settings",title:"إدارة الإعدادات",description:"تعديل إعدادات النظام",category:"settings",level:"write"},view_settings:{id:"view_settings",title:"عرض الإعدادات",description:"عرض إعدادات النظام",category:"settings",level:"read"}},X5={employees:{id:"employees",title:"الموظفين",description:"صلاحيات إدارة الموظفين"},customers:{id:"customers",title:"العملاء",description:"صلاحيات إدارة العملاء"},flights:{id:"flights",title:"حجوزات الطيران",description:"صلاحيات إدارة حجوزات الطيران"},visas:{id:"visas",title:"التأشيرات",description:"صلاحيات إدارة التأشيرات"},vehicles:{id:"vehicles",title:"المركبات",description:"صلاحيات إدارة حجوزات المركبات"},hotels:{id:"hotels",title:"الفنادق",description:"صلاحيات إدارة حجوزات الفنادق"},reports:{id:"reports",title:"التقارير",description:"صلاحيات إدارة التقارير"},payments:{id:"payments",title:"المدفوعات والفواتير",description:"صلاحيات إدارة المدفوعات والفواتير"},settings:{id:"settings",title:"الإعدادات",description:"صلاحيات إدارة إعدادات النظام"}},Wce={read:{id:"read",title:"قراءة",description:"صلاحية العرض فقط"},write:{id:"write",title:"كتابة",description:"صلاحية الإضافة والتعديل"},delete:{id:"delete",title:"حذف",description:"صلاحية الحذف"}},rS=(t,e)=>Array.isArray(t)&&t.includes(e),qce=(t,e,r)=>Object.values(Zy).filter(s=>s.category===e&&s.level===r).some(s=>rS(t,s.id)),J5=()=>{const t={};return Object.entries(X5).forEach(([e,r])=>{t[e]={...r,permissions:Object.values(Zy).filter(n=>n.category===e)}}),t},Gce=t=>Object.values(Zy).filter(e=>e.level===t),Kce={permissions:Zy,permissionCategories:X5,permissionLevels:Wce,hasPermission:rS,hasPermissionLevel:qce,getPermissionsByCategory:J5,getPermissionsByLevel:Gce},Bk=t=>{if(!t&&t!==0)return"";const e=parseFloat(t);return isNaN(e)?"":e.toLocaleString("ar-KW",{style:"currency",currency:"KWD",minimumFractionDigits:3,maximumFractionDigits:3})};function Qce(){const[t,e]=T.useState([]),[r,n]=T.useState(null),[s,i]=T.useState(!1),[o,a]=T.useState(null),[c,u]=T.useState(!0),{user:d}=mn();T.useEffect(()=>{h()},[]);const h=async()=>{try{const I=await zce();e(I)}catch(I){console.error("Error fetching visa bookings:",I),q.error("حدث خطأ أثناء جلب بيانات التأشيرات")}finally{u(!1)}},p=I=>{n(I),i(!0)},m=()=>{a(null),n(null),i(!0)},v=I=>{a(I),i(!0)},b=async I=>{if(window.confirm("هل أنت متأكد من حذف هذا الحجز؟"))try{await Hce(I),q.success("تم حذف الحجز بنجاح"),h()}catch(P){console.error("Error deleting visa booking:",P),q.error("حدث خطأ أثناء حذف الحجز")}},y=async I=>{if(!r&&!o){q.error("الرجاء اختيار عميل أولاً");return}try{const P={...I,customerId:o?o.customerId:r.id,customerName:o?o.customerName:r.name};await Uce(P,o==null?void 0:o.id),q.success(o?"تم تحديث الحجز بنجاح":"تم إضافة الحجز بنجاح"),i(!1),a(null),n(null),h()}catch(P){console.error("Error saving visa booking:",P),q.error("حدث خطأ أثناء حفظ الحجز")}},x=rS(d==null?void 0:d.role,"manage_visas"),g=I=>({tourist:"سياحية",business:"عمل",student:"دراسية",medical:"علاجية",hajj:"حج",umrah:"عمرة"})[I]||I,w=I=>({sa:"المملكة العربية السعودية",ae:"الإمارات العربية المتحدة",us:"الولايات المتحدة الأمريكية",uk:"المملكة المتحدة",sc:"سيشل",my:"ماليزيا",tr:"تركيا"})[I]||I;return l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsx(On,{title:"إدارة التأشيرات",icon:Ou}),l.jsx("div",{className:"mb-8",children:s?l.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:l.jsxs("div",{className:"mb-6",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:o?"تعديل حجز تأشيرة":"حجز تأشيرة جديدة"}),!o&&!r&&l.jsx("div",{className:"mb-4",children:l.jsx(sp,{onSelect:p})}),(r||o)&&l.jsx(Bce,{onSave:y,initialData:o})]})}):l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center space-x-4 rtl:space-x-reverse",children:[l.jsxs("button",{onClick:m,disabled:!x,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center disabled:bg-gray-400",children:[l.jsx(Ql,{className:"mr-2"}),"حجز تأشيرة جديدة"]}),l.jsxs("button",{onClick:()=>{},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center",children:[l.jsx(kie,{className:"mr-2"}),"تصدير"]})]}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",placeholder:"بحث...",className:"pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"}),l.jsx(Pi,{className:"absolute left-3 top-3 text-gray-400"})]})]})}),!s&&l.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"العميل"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"نوع التأشيرة"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الدولة"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"المدة"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"تاريخ الإصدار"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"تاريخ الانتهاء"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"التكلفة"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"السعر"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الإجراءات"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c?l.jsx("tr",{children:l.jsx("td",{colSpan:"9",className:"px-6 py-4 text-center",children:l.jsxs("div",{className:"flex justify-center items-center",children:[l.jsxs("svg",{className:"animate-spin h-5 w-5 text-blue-600",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),l.jsx("span",{className:"mr-2",children:"جاري التحميل..."})]})})}):t.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:"9",className:"px-6 py-4 text-center text-gray-500",children:"لا توجد حجوزات تأشيرات"})}):t.map(I=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:I.customerName}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:g(I.visaType)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:w(I.country)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:I.duration}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:I.issueDate}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:I.expiryDate}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Bk(I.cost)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Bk(I.price)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:l.jsxs("div",{className:"flex items-center justify-end space-x-2 rtl:space-x-reverse",children:[l.jsx("button",{onClick:()=>v(I),disabled:!x,className:"text-blue-600 hover:text-blue-900 disabled:text-gray-400",children:l.jsx(Va,{className:"w-5 h-5"})}),l.jsx("button",{onClick:()=>b(I.id),disabled:!x,className:"text-red-600 hover:text-red-900 disabled:text-gray-400",children:l.jsx(Po,{className:"w-5 h-5"})})]})})]},I.id))})]})})})]})}function Z5(){const[t,e]=T.useState([]),[r,n]=T.useState([]),[s,i]=T.useState(!0),[o,a]=T.useState({customerName:"",startDate:"",endDate:"",paymentMethod:"",minAmount:"",maxAmount:"",sortBy:"date",sortOrder:"desc"}),[c,u]=T.useState(!1);T.useEffect(()=>{(async()=>{i(!0);try{const x=Zt($e,"visaBookings"),g=xr(x,ts("createdAt","desc")),I=(await Io(g)).docs.map(P=>{var A;return{id:P.id,...P.data(),createdAt:(A=P.data().createdAt)==null?void 0:A.toDate()}});e(I),n(I),q.success(`تم جلب ${I.length} حجز`)}catch(x){console.error("Error fetching bookings:",x),q.error("حدث خطأ أثناء جلب الحجوزات")}finally{i(!1)}})()},[]);const d=y=>{const{name:x,value:g}=y.target;a(w=>({...w,[x]:g}))},h=()=>{a({customerName:"",startDate:"",endDate:"",paymentMethod:"",minAmount:"",maxAmount:"",sortBy:"date",sortOrder:"desc"}),n(t)},p=()=>{u(!0);let y=[...t];try{if(o.customerName){const g=o.customerName.toLowerCase().trim();y=y.filter(w=>{var I;return(I=w.customerName)==null?void 0:I.toLowerCase().includes(g)})}if(o.startDate){const g=new Date(o.startDate);g.setHours(0,0,0,0),y=y.filter(w=>w.createdAt>=g)}if(o.endDate){const g=new Date(o.endDate);g.setHours(23,59,59,999),y=y.filter(w=>w.createdAt<=g)}o.paymentMethod&&(y=y.filter(g=>{var w;return((w=g.payment)==null?void 0:w.paymentMethod)===o.paymentMethod})),o.minAmount&&(y=y.filter(g=>{var w;return parseFloat(((w=g.payment)==null?void 0:w.price)||0)>=parseFloat(o.minAmount)})),o.maxAmount&&(y=y.filter(g=>{var w;return parseFloat(((w=g.payment)==null?void 0:w.price)||0)<=parseFloat(o.maxAmount)})),y.sort((g,w)=>{var I,P;if(o.sortBy==="date")return o.sortOrder==="desc"?(w.createdAt||0)-(g.createdAt||0):(g.createdAt||0)-(w.createdAt||0);if(o.sortBy==="amount"){const A=parseFloat(((I=g.payment)==null?void 0:I.price)||0),S=parseFloat(((P=w.payment)==null?void 0:P.price)||0);return o.sortOrder==="desc"?S-A:A-S}return 0}),n(y);const x=y.length;q.info(`تم العثور على ${x} حجز${x!==1?"وزات":""}`)}catch(x){console.error("Error applying filters:",x),q.error("حدث خطأ أثناء تطبيق الفلاتر")}finally{u(!1)}};T.useEffect(()=>{const y=setTimeout(()=>{t.length>0&&p()},500);return()=>clearTimeout(y)},[o,t]);const m=y=>{if(!y)return"";try{return ap(new Date(y),"dd/MM/yyyy",{locale:lp})}catch(x){return console.error("Error formatting date:",x),""}},v=()=>r.reduce((y,x)=>{var g;return y+parseFloat(((g=x.payment)==null?void 0:g.price)||0)},0).toFixed(3),b=()=>new Set(r.map(y=>y.customerName)).size;return l.jsx("div",{className:"min-h-screen bg-gray-100",children:l.jsxs("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:[l.jsx(On,{title:"سجل حجوزات التأشيرات"}),l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsxs("h2",{className:"text-xl font-semibold flex items-center text-gray-800",children:[l.jsx(Pi,{className:"ml-2 text-blue-500"}),"فلترة الحجوزات"]}),l.jsxs("button",{onClick:h,className:"flex items-center px-4 py-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors duration-200",children:[l.jsx(Gs,{className:"ml-2"}),l.jsx("span",{children:"مسح الفلاتر"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"اسم العميل"}),l.jsx("input",{type:"text",name:"customerName",value:o.customerName,onChange:d,className:"w-full p-2 border rounded-md",placeholder:"ابحث باسم العميل..."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"من تاريخ"}),l.jsx(Ft,{name:"startDate",value:o.startDate,onChange:d,className:"w-full",required:!1})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"إلى تاريخ"}),l.jsx(Ft,{name:"endDate",value:o.endDate,onChange:d,className:"w-full",required:!1})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"طريقة الدفع"}),l.jsxs("select",{name:"paymentMethod",value:o.paymentMethod,onChange:d,className:"w-full p-2 border rounded-md",children:[l.jsx("option",{value:"",children:"الكل"}),l.jsx("option",{value:"cash",children:"نقدي"}),l.jsx("option",{value:"card",children:"بطاقة"}),l.jsx("option",{value:"transfer",children:"تحويل"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"الحد الأدنى للمبلغ"}),l.jsx("input",{type:"number",name:"minAmount",value:o.minAmount,onChange:d,className:"w-full p-2 border rounded-md",placeholder:"0"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"الحد الأعلى للمبلغ"}),l.jsx("input",{type:"number",name:"maxAmount",value:o.maxAmount,onChange:d,className:"w-full p-2 border rounded-md",placeholder:"0"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[l.jsx("div",{className:"bg-white rounded-lg shadow-md p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"إجمالي الحجوزات"}),l.jsx("p",{className:"text-2xl font-bold",children:r.length})]}),l.jsx(Ou,{className:"text-3xl text-blue-500"})]})}),l.jsx("div",{className:"bg-white rounded-lg shadow-md p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"إجمالي المبالغ"}),l.jsxs("p",{className:"text-2xl font-bold",children:[v()," د.ك"]})]}),l.jsx(Ii,{className:"text-3xl text-green-500"})]})}),l.jsx("div",{className:"bg-white rounded-lg shadow-md p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"عدد العملاء"}),l.jsx("p",{className:"text-2xl font-bold",children:b()})]}),l.jsx(vs,{className:"text-3xl text-purple-500"})]})})]}),l.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"رقم الحجز"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"اسم العميل"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"نوع التأشيرة"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"تاريخ الحجز"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"المبلغ"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"طريقة الدفع"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s?l.jsx("tr",{children:l.jsx("td",{colSpan:"6",className:"px-6 py-4 text-center",children:"جاري التحميل..."})}):r.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:"6",className:"px-6 py-4 text-center",children:"لا توجد حجوزات"})}):r.map(y=>{var x,g,w,I;return l.jsxs("tr",{children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:y.id}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:y.customerName}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:y.visaType}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:m(y.createdAt)}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[(x=y.payment)==null?void 0:x.price," د.ك"]}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[((g=y.payment)==null?void 0:g.paymentMethod)==="cash"&&"نقدي",((w=y.payment)==null?void 0:w.paymentMethod)==="card"&&"بطاقة",((I=y.payment)==null?void 0:I.paymentMethod)==="transfer"&&"تحويل"]})]},y.id)})})]})})})]})})}function Yce(){const[t,e]=T.useState([]),[r,n]=T.useState(!0),[s,i]=T.useState(""),[o,a]=T.useState("created_at"),[c,u]=T.useState("desc"),[d,h]=T.useState(null),[p,m]=T.useState(!1),{user:v}=mn();T.useEffect(()=>{b()},[]);const b=async()=>{try{n(!0);const A=await Dce();A.success&&Array.isArray(A.data)?e(A.data):A.success?e(A.data||[]):(e([]),q.error("فشل في تحميل الإيصالات"))}catch(A){console.error("خطأ في تحميل الإيصالات:",A),q.error("حدث خطأ في تحميل الإيصالات"),e([])}finally{n(!1)}},y=A=>{i(A.target.value)},x=A=>{A===o?u(c==="asc"?"desc":"asc"):(a(A),u("asc"))},g=async A=>{if(window.confirm("هل أنت متأكد من حذف هذا الإيصال؟"))try{m(!0),await Oce(A.id),q.success("تم حذف الإيصال بنجاح"),b()}catch(S){console.error("خطأ في حذف الإيصال:",S),q.error("حدث خطأ في حذف الإيصال")}finally{m(!1)}},w=A=>{q.info("سيتم تنفيذ وظيفة الطباعة قريباً")},P=[...Array.isArray(t)?t.filter(A=>{if(!A)return!1;const S=new RegExp(s,"i");return S.test(A.receiptNumber||"")||S.test(A.customerName||"")||S.test((A.amount||"").toString())||S.test(A.description||"")}):[]].sort((A,S)=>{if(!A||!S)return 0;const E=A[o],C=S[o];return c==="asc"?E>C?1:-1:E<C?1:-1});return r?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx(d5,{className:"animate-spin text-4xl text-blue-500"})}):l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[l.jsx(u5,{className:"text-blue-500"}),"سجل الإيصالات"]}),l.jsx("div",{className:"flex items-center gap-4",children:l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",placeholder:"بحث...",value:s,onChange:y,className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),l.jsx(Pi,{className:"absolute right-3 top-3 text-gray-400"})]})})]}),l.jsx("div",{className:"bg-white rounded-lg shadow overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>x("receiptNumber"),children:"رقم الإيصال"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>x("customerName"),children:"اسم العميل"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>x("amount"),children:"المبلغ"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>x("date"),children:"تاريخ الإنشاء"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الإجراءات"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:P.length>0?P.map(A=>{var S;return l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:A.receiptNumber}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:A.customerName||"غير محدد"}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:A.amount?`${A.amount} د.ك`:"-"}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:A.date||"-"}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>w(),className:"text-blue-600 hover:text-blue-800",title:"طباعة",children:l.jsx(c5,{})}),((S=v==null?void 0:v.permissions)==null?void 0:S.includes("accounting.delete"))&&l.jsx("button",{onClick:()=>g(A),disabled:p,className:"text-red-600 hover:text-red-800 disabled:opacity-50",title:"حذف",children:l.jsx(Po,{})})]})})]},A.id)}):l.jsx("tr",{children:l.jsx("td",{colSpan:"5",className:"px-6 py-4 text-center text-gray-500",children:"لا توجد إيصالات متاحة"})})})]})})]})}function Xce(){const[t,e]=T.useState(!1),[r,n]=T.useState(null),[s,i]=T.useState("weekly-reports"),[o,a]=T.useState({startDate:"",endDate:""}),c=[{id:"weekly-bookings",title:"تقرير الحجوزات الأسبوعي",icon:vc},{id:"weekly-revenue",title:"تقرير الإيرادات الأسبوعي",icon:vc},{id:"weekly-services",title:"تقرير الخدمات الأسبوعي",icon:vc}],u=[{id:"flights",title:"سجل حجوزات الطيران",icon:g0,component:G5},{id:"hotels",title:"سجل حجوزات الفنادق",icon:Du,component:K5},{id:"events",title:"سجل حجوزات الفعاليات",icon:ys,component:Y5},{id:"vehicles",title:"سجل حجوزات المركبات",icon:m0,component:Q5},{id:"visas",title:"سجل حجوزات التأشيرات",icon:Ou,component:Z5}],d=async()=>{if(!r){q.error("الرجاء اختيار نوع التقرير");return}if(!o.startDate||!o.endDate){q.error("الرجاء تحديد نطاق التاريخ");return}try{e(!0),q.info("سيتم تنفيذ توليد التقارير قريباً")}catch(m){console.error("خطأ في توليد التقرير:",m),q.error("حدث خطأ في توليد التقرير")}finally{e(!1)}},h=()=>l.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"نوع التقرير"}),l.jsxs("select",{value:r||"",onChange:m=>n(m.target.value),className:"w-full border border-gray-300 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"",children:"اختر نوع التقرير"}),c.map(m=>l.jsx("option",{value:m.id,children:m.title},m.id))]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"من تاريخ"}),l.jsx("input",{type:"date",value:o.startDate,onChange:m=>a({...o,startDate:m.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"إلى تاريخ"}),l.jsx("input",{type:"date",value:o.endDate,onChange:m=>a({...o,endDate:m.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),l.jsx("button",{onClick:d,disabled:t,className:"w-full bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition duration-200 flex items-center justify-center gap-2 disabled:opacity-70",children:t?l.jsxs(l.Fragment,{children:[l.jsx(d5,{className:"animate-spin"}),l.jsx("span",{children:"جاري توليد التقرير..."})]}):l.jsxs(l.Fragment,{children:[l.jsx(vc,{}),l.jsx("span",{children:"توليد التقرير"})]})})]}),p=()=>{var v;if(s==="weekly-reports")return h();const m=(v=u.find(b=>b.id===s))==null?void 0:v.component;return m?l.jsx(m,{}):null};return l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsx("div",{className:"mb-6",children:l.jsx("div",{className:"border-b border-gray-200",children:l.jsxs("nav",{className:"-mb-px flex space-x-4 rtl:space-x-reverse","aria-label":"Tabs",children:[l.jsxs("button",{onClick:()=>i("weekly-reports"),className:`${s==="weekly-reports"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center gap-2`,children:[l.jsx(vc,{}),l.jsx("span",{children:"التقارير الأسبوعية"})]}),u.map(m=>l.jsxs("button",{onClick:()=>i(m.id),className:`${s===m.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center gap-2`,children:[l.jsx(m.icon,{}),l.jsx("span",{children:m.title})]},m.id))]})})}),p()]})}const Jce=()=>{const[t,e]=T.useState([]),r=Es(),{user:n}=mn();T.useEffect(()=>{if(!n||n.role!=="admin"){r("/");return}const o=xr(Zt($e,"users"),ts("createdAt","desc")),a=Gu(o,c=>{const u=c.docs.map(d=>({id:d.id,...d.data()}));e(u)});return()=>a()},[n,r]);const s=async(o,a)=>{try{await Wu(ir($e,"users",o),{active:a}),q.success(`تم ${a?"تفعيل":"تعطيل"} حساب الموظف بنجاح`)}catch(c){console.error("Error updating employee status:",c),q.error("حدث خطأ أثناء تحديث حالة الموظف")}},i=async o=>{if(window.confirm("هل أنت متأكد من حذف هذا الموظف؟"))try{await ay(ir($e,"users",o)),q.success("تم حذف الموظف بنجاح")}catch(a){console.error("Error deleting employee:",a),q.error("حدث خطأ أثناء حذف الموظف")}};return l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsx(On,{title:"إدارة الموظفين"}),l.jsx("div",{className:"mb-6",children:l.jsxs("button",{onClick:()=>r("/employees/new"),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[l.jsx(Vie,{className:"ml-2"}),"إضافة موظف جديد"]})}),l.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الاسم"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"البريد الإلكتروني"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الدور"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الحالة"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الإجراءات"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(o=>l.jsxs("tr",{children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm font-medium text-gray-900",children:o.name})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm text-gray-500",children:o.email})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${o.role==="admin"?"bg-purple-100 text-purple-800":"bg-green-100 text-green-800"}`,children:o.role==="admin"?"مشرف":"موظف"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${o.active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:o.active?"نشط":"معطل"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:l.jsxs("div",{className:"flex items-center space-x-3 space-x-reverse",children:[l.jsx("button",{onClick:()=>s(o.id,!o.active),className:`${o.active?"text-red-600 hover:text-red-900":"text-green-600 hover:text-green-900"}`,title:o.active?"تعطيل":"تفعيل",children:o.active?l.jsx(Gs,{}):l.jsx(X2,{})}),l.jsx("button",{onClick:()=>r(`/employees/edit/${o.id}`),className:"text-blue-600 hover:text-blue-900",title:"تعديل",children:l.jsx(Va,{})}),l.jsx("button",{onClick:()=>i(o.id),className:"text-red-600 hover:text-red-900",title:"حذف",children:l.jsx(Po,{})})]})})]},o.id))})]})})]})},zk=()=>{const t=Es(),{id:e}=e5(),r=$y(),[n,s]=T.useState(!1),[i,o]=T.useState({name:"",email:"",password:"",role:"",permissions:[],phoneNumber:"",position:"",active:!0}),[a,c]=T.useState({}),u=hf("white","gray.700"),d=hf("gray.200","gray.600"),h=hf("blue.50","blue.900");T.useEffect(()=>{e&&p()},[e]);const p=async()=>{try{const x=await au.getEmployee(e);o({name:x.name||"",email:x.email||"",role:x.role||"",permissions:x.permissions||[],phoneNumber:x.phoneNumber||"",position:x.position||"",active:x.active!==!1})}catch{r({title:"خطأ",description:"حدث خطأ أثناء تحميل بيانات الموظف",status:"error",duration:3e3,isClosable:!0,position:"top"})}},m=()=>{const x={};return i.name.trim()||(x.name="الاسم مطلوب"),i.email.trim()?/\S+@\S+\.\S+/.test(i.email)||(x.email="البريد الإلكتروني غير صالح"):x.email="البريد الإلكتروني مطلوب",!e&&!i.password?x.password="كلمة المرور مطلوبة":!e&&i.password.length<6&&(x.password="كلمة المرور يجب أن تكون 6 أحرف على الأقل"),i.role||(x.role="الدور مطلوب"),c(x),Object.keys(x).length===0},v=async x=>{if(x.preventDefault(),!!m()){s(!0);try{e?(await au.updateEmployee(e,i),r({title:"تم التحديث",description:"تم تحديث بيانات الموظف بنجاح",status:"success",duration:3e3,isClosable:!0,position:"top"})):(await au.createEmployee(i),r({title:"تم الإضافة",description:"تم إضافة الموظف بنجاح",status:"success",duration:3e3,isClosable:!0,position:"top"})),t("/employees")}catch(g){r({title:"خطأ",description:g.message||"حدث خطأ أثناء حفظ البيانات",status:"error",duration:3e3,isClosable:!0,position:"top"})}finally{s(!1)}}},b=x=>{const{name:g,value:w,type:I,checked:P}=x.target;o(A=>({...A,[g]:I==="checkbox"?P:w})),a[g]&&c(A=>({...A,[g]:""}))},y=x=>{o(g=>({...g,permissions:x}))};return l.jsxs(F2,{maxW:"container.lg",py:5,children:[l.jsx(On,{title:e?"تعديل بيانات موظف":"إضافة موظف جديد",icon:l.jsx(vs,{})}),l.jsxs(wf,{as:"form",onSubmit:v,mt:5,boxShadow:"md",borderRadius:"lg",overflow:"hidden",bg:u,p:4,children:[l.jsxs(wl,{align:"center",bg:h,py:4,mb:4,children:[l.jsx(on,{as:vs,mr:2}),l.jsx(Ef,{size:"md",children:e?"تعديل بيانات الموظف":"معلومات الموظف الجديد"})]}),l.jsxs(M1,{templateColumns:{base:"1fr",md:"repeat(2, 1fr)"},gap:6,children:[l.jsx(L1,{colSpan:{base:1,md:2},children:l.jsx(Ef,{size:"sm",mb:4,borderBottom:"1px",borderColor:d,pb:2,children:"المعلومات الشخصية"})}),l.jsxs(Ds,{isInvalid:!!a.name,children:[l.jsx(li,{children:"الاسم الكامل"}),l.jsxs(el,{children:[l.jsx(Qo,{pointerEvents:"none",children:l.jsx(on,{as:vs,color:"gray.300"})}),l.jsx(Ji,{name:"name",value:i.name,onChange:b,placeholder:"أدخل اسم الموظف الكامل",borderRadius:"md"})]}),l.jsx(fl,{children:a.name})]}),l.jsxs(Ds,{children:[l.jsx(li,{children:"المسمى الوظيفي"}),l.jsxs(el,{children:[l.jsx(Qo,{pointerEvents:"none",children:l.jsx(on,{as:Pie,color:"gray.300"})}),l.jsx(Ji,{name:"position",value:i.position,onChange:b,placeholder:"المسمى الوظيفي",borderRadius:"md"})]})]}),l.jsxs(Ds,{isInvalid:!!a.email,children:[l.jsx(li,{children:"البريد الإلكتروني"}),l.jsxs(el,{children:[l.jsx(Qo,{pointerEvents:"none",children:l.jsx(on,{as:Eie,color:"gray.300"})}),l.jsx(Ji,{name:"email",type:"email",value:i.email,onChange:b,placeholder:"example@company.com",borderRadius:"md",dir:"ltr"})]}),l.jsx(fl,{children:a.email})]}),l.jsxs(Ds,{children:[l.jsx(li,{children:"رقم الهاتف"}),l.jsxs(el,{children:[l.jsx(Qo,{pointerEvents:"none",children:l.jsx(Tf,{color:"gray.300",children:"+966"})}),l.jsx(Ji,{name:"phoneNumber",value:i.phoneNumber,onChange:b,placeholder:"5xxxxxxxx",borderRadius:"md",dir:"ltr",pl:"60px"})]})]}),!e&&l.jsxs(Ds,{isInvalid:!!a.password,children:[l.jsx(li,{children:"كلمة المرور"}),l.jsxs(el,{children:[l.jsx(Qo,{pointerEvents:"none",children:l.jsx(on,{as:l5,color:"gray.300"})}),l.jsx(Ji,{name:"password",type:"password",value:i.password,onChange:b,placeholder:"كلمة المرور (6 أحرف على الأقل)",borderRadius:"md"})]}),l.jsx(fl,{children:a.password}),l.jsx(D1,{children:"كلمة المرور يجب أن تكون 6 أحرف على الأقل"})]}),l.jsxs(Ds,{isInvalid:!!a.role,children:[l.jsx(li,{children:"الدور الوظيفي"}),l.jsxs(el,{children:[l.jsx(Qo,{pointerEvents:"none",children:l.jsx(on,{as:Rie,color:"gray.300"})}),l.jsx(M3,{name:"role",value:i.role,onChange:b,placeholder:"اختر الدور الوظيفي",borderRadius:"md",pl:"40px",children:Object.entries(Kce).map(([x,g])=>l.jsx("option",{value:x,children:g.title},x))})]}),l.jsx(fl,{children:a.role})]}),l.jsxs(Ds,{children:[l.jsx(li,{children:"حالة الحساب"}),l.jsx(O1,{name:"active",isChecked:i.active,onChange:b,colorScheme:"green",children:"الحساب نشط"}),l.jsx(D1,{children:"الحسابات غير النشطة لا يمكنها تسجيل الدخول"})]})]}),i.role&&l.jsxs(l.Fragment,{children:[l.jsx(_3,{my:6}),l.jsxs(wf,{children:[l.jsx(Ef,{size:"sm",mb:4,borderBottom:"1px",borderColor:d,pb:2,children:"الصلاحيات"}),l.jsx(Ds,{children:l.jsx(w3,{value:i.permissions,onChange:y,children:l.jsx(M1,{templateColumns:{base:"1fr",md:"repeat(3, 1fr)"},gap:4,children:Object.entries(J5()).map(([x,g])=>l.jsx(L1,{children:l.jsxs(wf,{borderWidth:"1px",borderRadius:"md",overflow:"hidden",size:"sm",bg:u,p:4,children:[l.jsx(wl,{align:"center",bg:h,py:2,px:3,mb:2,children:l.jsx(Tf,{fontWeight:"bold",fontSize:"sm",children:g.title||x})}),l.jsx(q2,{spacing:2,children:g.permissions&&g.permissions.map(w=>l.jsx(O1,{value:w.id,colorScheme:"blue",children:l.jsx(V3,{label:w.description,placement:"top",children:l.jsx(Tf,{fontSize:"sm",children:w.title})})},w.id))})]})},x))})})})]})]}),l.jsxs(wl,{justifyContent:"space-between",mt:4,pt:4,borderTop:"1px",borderColor:d,children:[l.jsx(gh,{leftIcon:l.jsx(p0,{}),onClick:()=>t("/employees"),variant:"outline",children:"العودة"}),l.jsx(gh,{type:"submit",colorScheme:"blue",isLoading:n,loadingText:"جاري الحفظ...",rightIcon:l.jsx(jie,{}),children:e?"تحديث البيانات":"إضافة موظف"})]})]})]})},Zce=()=>l.jsx(y5,{children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"الإعدادات"}),l.jsx("p",{className:"text-gray-600",children:"إدارة إعدادات النظام"})]}),l.jsx("div",{className:"card",children:l.jsx("p",{className:"text-gray-600",children:"قريباً..."})})]})}),um={nameAr1:"",nameAr2:"",nameAr3:"",nameAr4:"",nameEn1:"",nameEn2:"",nameEn3:"",nameEn4:"",civilId:"",passportNumber:"",mobile:"",email:"",nationality:"كويتي",notes:""};function eue(){const[t,e]=T.useState([]),[r,n]=T.useState(!0),[s,i]=T.useState(!1),[o,a]=T.useState({...um}),[c,u]=T.useState(null),[d,h]=T.useState(""),[p,m]=T.useState([]),{user:v}=mn(),b=Es();T.useEffect(()=>{const P=xr(Zt($e,"customers"),ts("created_at","desc")),A=Gu(P,S=>{const E=S.docs.map(C=>({id:C.id,...C.data()}));e(E),m(E),n(!1)});return()=>A()},[]),T.useEffect(()=>{if(!d.trim()){m(t);return}const P=d.toLowerCase(),A=t.filter(S=>{const E=`${S.nameAr1||""} ${S.nameAr2||""} ${S.nameAr3||""} ${S.nameAr4||""}`.toLowerCase(),C=`${S.nameEn1||""} ${S.nameEn2||""} ${S.nameEn3||""} ${S.nameEn4||""}`.toLowerCase(),k=S.civilId?S.civilId.toLowerCase():"",j=S.mobile?S.mobile.toLowerCase():"",O=S.passportNumber?S.passportNumber.toLowerCase():"";return E.includes(P)||C.includes(P)||k.includes(P)||j.includes(P)||O.includes(P)});m(A)},[d,t]);const y=P=>{const{name:A,value:S}=P.target;a({...o,[A]:S})},x=()=>!o.nameAr1||!o.nameAr2||!o.nameAr4?(q.error("يجب إدخال الاسم الأول والثاني والأخير باللغة العربية"),!1):!o.nameEn1||!o.nameEn2||!o.nameEn4?(q.error("يجب إدخال الاسم الأول والثاني والأخير باللغة الإنجليزية"),!1):o.mobile?!0:(q.error("يجب إدخال رقم الهاتف"),!1),g=async()=>{if(x()){n(!0);try{c?(await Wu(ir($e,"customers",c),{...o,updated_at:new Date,updated_by:v.id}),q.success("تم تحديث بيانات العميل بنجاح")):(await qu(Zt($e,"customers"),{...o,created_at:new Date,created_by:v.id,updated_at:new Date,updated_by:v.id}),q.success("تم إضافة العميل بنجاح")),a({...um}),u(null),i(!1)}catch(P){console.error("Error saving customer:",P),q.error("حدث خطأ أثناء حفظ بيانات العميل")}finally{n(!1)}}},w=async P=>{n(!0);try{const A=await Ml(ir($e,"customers",P));A.exists()?(a(A.data()),u(P),i(!0)):q.error("العميل غير موجود")}catch(A){console.error("Error fetching customer:",A),q.error("حدث خطأ أثناء جلب بيانات العميل")}finally{n(!1)}},I=async P=>{if(window.confirm("هل أنت متأكد من حذف هذا العميل؟")){n(!0);try{await ay(ir($e,"customers",P)),q.success("تم حذف العميل بنجاح")}catch(A){console.error("Error deleting customer:",A),q.error("حدث خطأ أثناء حذف العميل")}finally{n(!1)}}};return l.jsxs("div",{className:"min-h-screen bg-gray-100",children:[l.jsx(On,{title:"إدارة العملاء"}),l.jsx("main",{className:"py-6",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s?l.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6 mb-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:c?"تعديل بيانات العميل":"إضافة عميل جديد"}),l.jsx("button",{onClick:()=>{i(!1),u(null),a({...um})},className:"text-gray-500 hover:text-gray-700",children:l.jsx(p0,{className:"h-5 w-5"})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("h3",{className:"text-lg font-medium mb-4",children:"البيانات الشخصية"}),l.jsx("div",{className:"grid grid-cols-1 gap-6",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"الاسم الأول (عربي)*"}),l.jsx("input",{type:"text",name:"nameAr1",value:o.nameAr1,onChange:y,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),l.jsx("label",{className:"block text-gray-700 mt-2 mb-2",children:"الاسم الأول (إنجليزي)*"}),l.jsx("input",{type:"text",name:"nameEn1",value:o.nameEn1,onChange:y,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"الاسم الثاني (عربي)*"}),l.jsx("input",{type:"text",name:"nameAr2",value:o.nameAr2,onChange:y,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),l.jsx("label",{className:"block text-gray-700 mt-2 mb-2",children:"الاسم الثاني (إنجليزي)*"}),l.jsx("input",{type:"text",name:"nameEn2",value:o.nameEn2,onChange:y,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"الاسم الثالث (عربي)"}),l.jsx("input",{type:"text",name:"nameAr3",value:o.nameAr3,onChange:y,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),l.jsx("label",{className:"block text-gray-700 mt-2 mb-2",children:"الاسم الثالث (إنجليزي)"}),l.jsx("input",{type:"text",name:"nameEn3",value:o.nameEn3,onChange:y,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"الاسم الأخير (عربي)*"}),l.jsx("input",{type:"text",name:"nameAr4",value:o.nameAr4,onChange:y,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),l.jsx("label",{className:"block text-gray-700 mt-2 mb-2",children:"الاسم الأخير (إنجليزي)*"}),l.jsx("input",{type:"text",name:"nameEn4",value:o.nameEn4,onChange:y,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]})})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("h3",{className:"text-lg font-medium mb-4",children:"معلومات الاتصال والوثائق"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"رقم الهاتف*"}),l.jsx("input",{type:"text",name:"mobile",value:o.mobile,onChange:y,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"الرقم المدني"}),l.jsx("input",{type:"text",name:"civilId",value:o.civilId,onChange:y,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"رقم الجواز"}),l.jsx("input",{type:"text",name:"passportNumber",value:o.passportNumber,onChange:y,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"البريد الإلكتروني"}),l.jsx("input",{type:"email",name:"email",value:o.email,onChange:y,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"الجنسية"}),l.jsx("input",{type:"text",name:"nationality",value:o.nationality,onChange:y,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"ملاحظات"}),l.jsx("textarea",{name:"notes",value:o.notes,onChange:y,rows:3,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),l.jsx("div",{className:"mt-6 flex justify-end",children:l.jsxs("button",{onClick:g,disabled:r,className:"bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 transition duration-200 flex items-center gap-2",children:[l.jsx(X2,{}),c?"حفظ التعديلات":"إضافة العميل"]})})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"mb-6 flex flex-col md:flex-row justify-between gap-4",children:[l.jsx("div",{className:"w-full md:w-1/2",children:l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",placeholder:"البحث عن عميل...",value:d,onChange:P=>h(P.target.value),className:"w-full p-3 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),l.jsx(Pi,{className:"absolute top-1/2 right-3 transform -translate-y-1/2 text-gray-400"})]})}),l.jsxs("button",{onClick:()=>{a({...um}),u(null),i(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:[l.jsx(Ql,{className:"inline-block ml-2"}),"إضافة عميل جديد"]})]}),l.jsx("div",{className:"bg-white shadow-md overflow-hidden rounded-lg",children:l.jsx("div",{className:"overflow-x-auto",children:r?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"جاري تحميل البيانات..."})]}):p.length>0?l.jsxs("table",{className:"w-full text-right",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-4 border-b",children:"الاسم"}),l.jsx("th",{className:"p-4 border-b",children:"الرقم المدني"}),l.jsx("th",{className:"p-4 border-b",children:"رقم الهاتف"}),l.jsx("th",{className:"p-4 border-b",children:"رقم الجواز"}),l.jsx("th",{className:"p-4 border-b",children:"الجنسية"}),l.jsx("th",{className:"p-4 border-b",children:"الإجراءات"})]})}),l.jsx("tbody",{children:p.map(P=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsxs("td",{className:"p-4 border-b",children:[l.jsxs("div",{className:"font-semibold",children:[P.nameAr1," ",P.nameAr2," ",P.nameAr3," ",P.nameAr4]}),l.jsxs("div",{className:"text-sm text-gray-600",children:[P.nameEn1," ",P.nameEn2," ",P.nameEn3," ",P.nameEn4]})]}),l.jsx("td",{className:"p-4 border-b",children:P.civilId||"-"}),l.jsx("td",{className:"p-4 border-b",children:P.mobile||"-"}),l.jsx("td",{className:"p-4 border-b",children:P.passportNumber||"-"}),l.jsx("td",{className:"p-4 border-b",children:P.nationality||"-"}),l.jsx("td",{className:"p-4 border-b",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>w(P.id),className:"text-blue-600 hover:text-blue-800",title:"تعديل بيانات العميل",children:l.jsx(Va,{className:"h-5 w-5"})}),l.jsx("button",{onClick:()=>b(`/customers/${P.id}/companions`),className:"text-green-600 hover:text-green-800",title:"إدارة المرافقين",children:l.jsx(J2,{className:"h-5 w-5"})}),l.jsx("button",{onClick:()=>I(P.id),className:"text-red-600 hover:text-red-800",title:"حذف العميل",children:l.jsx(Po,{className:"h-5 w-5"})})]})})]},P.id))})]}):l.jsxs("div",{className:"text-center py-12 text-gray-500",children:[l.jsx(vs,{className:"h-12 w-12 mx-auto text-gray-300 mb-4"}),d?"لا توجد نتائج مطابقة لبحثك":"لا يوجد عملاء مسجلين حالياً"]})})})]})})})]})}const dm={nameAr1:"",nameAr2:"",nameAr3:"",nameAr4:"",nameEn1:"",nameEn2:"",nameEn3:"",nameEn4:"",relationship:"",civilId:"",passportNumber:"",nationality:"",birthDate:"",notes:""};function tue(){const{customerId:t}=e5(),e=Es(),[r,n]=T.useState([]),[s,i]=T.useState(!0),[o,a]=T.useState(!1),[c,u]=T.useState({...dm}),[d,h]=T.useState(null),[p,m]=T.useState(null),{user:v}=mn();T.useEffect(()=>{if(!t){e("/customers");return}(async()=>{try{const A=await Ml(ir($e,"customers",t));A.exists()?m({id:A.id,...A.data()}):(q.error("العميل غير موجود"),e("/customers"))}catch(A){console.error("Error fetching customer:",A),q.error("حدث خطأ أثناء جلب بيانات العميل"),e("/customers")}})()},[t,e]),T.useEffect(()=>{if(!t)return;const P=xr(Zt($e,"companions"),jc("customerId","==",t)),A=Gu(P,S=>{const E=S.docs.map(C=>({id:C.id,...C.data()}));n(E),i(!1)});return()=>A()},[t]);const b=P=>{const{name:A,value:S}=P.target;u({...c,[A]:S})},y=()=>!c.nameAr1||!c.nameAr2||!c.nameAr4?(q.error("يجب إدخال الاسم الأول والثاني والأخير باللغة العربية"),!1):!c.nameEn1||!c.nameEn2||!c.nameEn4?(q.error("يجب إدخال الاسم الأول والثاني والأخير باللغة الإنجليزية"),!1):c.relationship?!0:(q.error("يجب تحديد صلة القرابة"),!1),x=async()=>{if(y()){i(!0);try{d?(await Wu(ir($e,"companions",d),{...c,customerId:t,updated_at:new Date,updated_by:v.id}),q.success("تم تحديث بيانات المرافق بنجاح")):(await qu(Zt($e,"companions"),{...c,customerId:t,created_at:new Date,created_by:v.id,updated_at:new Date,updated_by:v.id}),q.success("تم إضافة المرافق بنجاح")),u({...dm}),h(null),a(!1)}catch(P){console.error("Error saving companion:",P),q.error("حدث خطأ أثناء حفظ بيانات المرافق")}finally{i(!1)}}},g=async P=>{i(!0);try{const A=await Ml(ir($e,"companions",P));A.exists()?(u(A.data()),h(P),a(!0)):q.error("المرافق غير موجود")}catch(A){console.error("Error fetching companion:",A),q.error("حدث خطأ أثناء جلب بيانات المرافق")}finally{i(!1)}},w=async P=>{if(window.confirm("هل أنت متأكد من حذف هذا المرافق؟")){i(!0);try{await ay(ir($e,"companions",P)),q.success("تم حذف المرافق بنجاح")}catch(A){console.error("Error deleting companion:",A),q.error("حدث خطأ أثناء حذف المرافق")}finally{i(!1)}}},I=()=>p?`${p.nameAr1||""} ${p.nameAr2||""} ${p.nameAr3||""} ${p.nameAr4||""}`:"";return l.jsxs("div",{className:"min-h-screen bg-gray-100",children:[l.jsx(On,{title:`مرافقين العميل: ${I()}`}),l.jsx("main",{className:"py-6",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("button",{onClick:()=>e("/customers"),className:"mb-6 bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 flex items-center gap-2",children:[l.jsx(p0,{}),"العودة إلى قائمة العملاء"]}),o?l.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6 mb-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:d?"تعديل بيانات المرافق":"إضافة مرافق جديد"}),l.jsx("button",{onClick:()=>{a(!1),h(null),u({...dm})},className:"text-gray-500 hover:text-gray-700",children:l.jsx(p0,{className:"h-5 w-5"})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("h3",{className:"text-lg font-medium mb-4",children:"البيانات الشخصية"}),l.jsx("div",{className:"grid grid-cols-1 gap-6",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"الاسم الأول (عربي)*"}),l.jsx("input",{type:"text",name:"nameAr1",value:c.nameAr1,onChange:b,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),l.jsx("label",{className:"block text-gray-700 mt-2 mb-2",children:"الاسم الأول (إنجليزي)"}),l.jsx("input",{type:"text",name:"nameEn1",value:c.nameEn1,onChange:b,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"الاسم الثاني (عربي)*"}),l.jsx("input",{type:"text",name:"nameAr2",value:c.nameAr2,onChange:b,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),l.jsx("label",{className:"block text-gray-700 mt-2 mb-2",children:"الاسم الثاني (إنجليزي)"}),l.jsx("input",{type:"text",name:"nameEn2",value:c.nameEn2,onChange:b,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"الاسم الثالث (عربي)"}),l.jsx("input",{type:"text",name:"nameAr3",value:c.nameAr3,onChange:b,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),l.jsx("label",{className:"block text-gray-700 mt-2 mb-2",children:"الاسم الثالث (إنجليزي)"}),l.jsx("input",{type:"text",name:"nameEn3",value:c.nameEn3,onChange:b,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"الاسم الأخير (عربي)*"}),l.jsx("input",{type:"text",name:"nameAr4",value:c.nameAr4,onChange:b,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),l.jsx("label",{className:"block text-gray-700 mt-2 mb-2",children:"الاسم الأخير (إنجليزي)*"}),l.jsx("input",{type:"text",name:"nameEn4",value:c.nameEn4,onChange:b,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]})})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("h3",{className:"text-lg font-medium mb-4",children:"معلومات إضافية"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"صلة القرابة*"}),l.jsxs("select",{name:"relationship",value:c.relationship,onChange:b,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[l.jsx("option",{value:"",children:"اختر صلة القرابة"}),l.jsx("option",{value:"زوج/زوجة",children:"زوج/زوجة"}),l.jsx("option",{value:"ابن/ابنة",children:"ابن/ابنة"}),l.jsx("option",{value:"أب/أم",children:"أب/أم"}),l.jsx("option",{value:"أخ/أخت",children:"أخ/أخت"}),l.jsx("option",{value:"جد/جدة",children:"جد/جدة"}),l.jsx("option",{value:"حفيد/حفيدة",children:"حفيد/حفيدة"}),l.jsx("option",{value:"عم/عمة",children:"عم/عمة"}),l.jsx("option",{value:"خال/خالة",children:"خال/خالة"}),l.jsx("option",{value:"ابن عم/ابنة عم",children:"ابن عم/ابنة عم"}),l.jsx("option",{value:"ابن خال/ابنة خال",children:"ابن خال/ابنة خال"}),l.jsx("option",{value:"صديق/صديقة",children:"صديق/صديقة"}),l.jsx("option",{value:"أخرى",children:"أخرى"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"الرقم المدني"}),l.jsx("input",{type:"text",name:"civilId",value:c.civilId,onChange:b,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"رقم الجواز"}),l.jsx("input",{type:"text",name:"passportNumber",value:c.passportNumber,onChange:b,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"الجنسية"}),l.jsx("input",{type:"text",name:"nationality",value:c.nationality,onChange:b,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"تاريخ الميلاد"}),l.jsx("input",{type:"date",name:"birthDate",value:c.birthDate,onChange:b,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"ملاحظات"}),l.jsx("textarea",{name:"notes",value:c.notes,onChange:b,rows:3,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),l.jsx("div",{className:"mt-6 flex justify-end",children:l.jsxs("button",{onClick:x,disabled:s,className:"bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 transition duration-200 flex items-center gap-2",children:[l.jsx(X2,{}),d?"حفظ التعديلات":"إضافة المرافق"]})})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"mb-6 flex justify-end",children:l.jsxs("button",{onClick:()=>{u({...dm}),h(null),a(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:[l.jsx(Ql,{className:"inline-block ml-2"}),"إضافة مرافق جديد"]})}),l.jsx("div",{className:"bg-white shadow-md overflow-hidden rounded-lg",children:l.jsx("div",{className:"overflow-x-auto",children:s?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"جاري تحميل البيانات..."})]}):r.length>0?l.jsxs("table",{className:"w-full text-right",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-4 border-b",children:"الاسم"}),l.jsx("th",{className:"p-4 border-b",children:"صلة القرابة"}),l.jsx("th",{className:"p-4 border-b",children:"الرقم المدني"}),l.jsx("th",{className:"p-4 border-b",children:"رقم الجواز"}),l.jsx("th",{className:"p-4 border-b",children:"الجنسية"}),l.jsx("th",{className:"p-4 border-b",children:"الإجراءات"})]})}),l.jsx("tbody",{children:r.map(P=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsxs("td",{className:"p-4 border-b",children:[l.jsxs("div",{className:"font-semibold",children:[P.nameAr1," ",P.nameAr2," ",P.nameAr3," ",P.nameAr4]}),l.jsxs("div",{className:"text-sm text-gray-600",children:[P.nameEn1," ",P.nameEn2," ",P.nameEn3," ",P.nameEn4]})]}),l.jsx("td",{className:"p-4 border-b",children:P.relationship||"-"}),l.jsx("td",{className:"p-4 border-b",children:P.civilId||"-"}),l.jsx("td",{className:"p-4 border-b",children:P.passportNumber||"-"}),l.jsx("td",{className:"p-4 border-b",children:P.nationality||"-"}),l.jsx("td",{className:"p-4 border-b",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>g(P.id),className:"text-blue-600 hover:text-blue-800",children:l.jsx(Va,{className:"h-5 w-5"})}),l.jsx("button",{onClick:()=>w(P.id),className:"text-red-600 hover:text-red-800",children:l.jsx(Po,{className:"h-5 w-5"})})]})})]},P.id))})]}):l.jsxs("div",{className:"text-center py-12 text-gray-500",children:[l.jsx(vs,{className:"h-12 w-12 mx-auto text-gray-300 mb-4"}),"لا يوجد مرافقين مسجلين لهذا العميل"]})})})]})]})})]})}const rue=()=>{console.log("App: Creating router...");const{user:t}=mn(),e=Jse([{path:"/login",element:t?l.jsx(Cf,{to:"/",replace:!0}):l.jsx(roe,{})},{path:"/",element:l.jsx(cr,{children:l.jsx(y5,{})}),children:[{path:"/",element:l.jsx(soe,{})},{path:"/flights",element:l.jsx(cr,{children:l.jsx(Wae,{})})},{path:"/flights/history",element:l.jsx(cr,{children:l.jsx(G5,{})})},{path:"/hotels",element:l.jsx(cr,{children:l.jsx(Ice,{})})},{path:"/hotels/history",element:l.jsx(cr,{children:l.jsx(K5,{})})},{path:"/vehicles",element:l.jsx(cr,{children:l.jsx(Rce,{})})},{path:"/vehicles/history",element:l.jsx(cr,{children:l.jsx(Q5,{})})},{path:"/events",element:l.jsx(cr,{children:l.jsx($ce,{})})},{path:"/events/history",element:l.jsx(cr,{children:l.jsx(Y5,{})})},{path:"/visas",element:l.jsx(cr,{children:l.jsx(Qce,{})})},{path:"/visas/history",element:l.jsx(cr,{children:l.jsx(Z5,{})})},{path:"/receipts",element:l.jsx(cr,{children:l.jsx(Yce,{})})},{path:"/reports",element:l.jsx(cr,{children:l.jsx(Xce,{})})},{path:"/employees",element:l.jsx(cr,{requiredRole:"admin",children:l.jsx(Jce,{})})},{path:"/employees/add",element:l.jsx(cr,{requiredRole:"admin",children:l.jsx(zk,{})})},{path:"/employees/edit/:id",element:l.jsx(cr,{requiredRole:"admin",children:l.jsx(zk,{})})},{path:"/settings",element:l.jsx(cr,{requiredRole:"admin",children:l.jsx(Zce,{})})},{path:"/customers",element:l.jsx(cr,{children:l.jsx(eue,{})})},{path:"/companions",element:l.jsx(cr,{children:l.jsx(tue,{})})}]},{path:"*",element:l.jsx(Cf,{to:"/",replace:!0})}],{future:{v7_startTransition:!0}});return console.log("App: Rendering..."),l.jsx(B3,{children:l.jsx("div",{dir:"rtl",children:l.jsx(aie,{router:e})})})},nue=Wte({direction:"rtl",fonts:{body:"Tajawal, system-ui, sans-serif",heading:"Tajawal, system-ui, sans-serif"},config:{initialColorMode:"light",useSystemColorMode:!1},components:{Button:{baseStyle:{fontWeight:"normal"}},Alert:{baseStyle:{variant:"subtle"}},Text:{baseStyle:{fontSize:"md"}},Heading:{baseStyle:{size:"lg"}}}}),sue=({children:t})=>l.jsx(hte,{theme:nue,children:t}),iue=async()=>{try{Rb.createRoot(document.getElementById("root")).render(l.jsx(Ve.StrictMode,{children:l.jsx(sue,{children:l.jsx(B3,{children:l.jsx("div",{dir:"rtl",children:l.jsx(rue,{})})})})}))}catch(t){console.error("خطأ في تهيئة التطبيق:",t)}};iue();
//# sourceMappingURL=main-Cau2RT9k.js.map
